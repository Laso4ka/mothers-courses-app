var Qk=Object.defineProperty,Yk=Object.defineProperties;var Jk=Object.getOwnPropertyDescriptors;var Jl=Object.getOwnPropertySymbols;var nD=Object.prototype.hasOwnProperty,rD=Object.prototype.propertyIsEnumerable;var tD=(n,e,t)=>e in n?Qk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})nD.call(e,t)&&tD(n,t,e[t]);if(Jl)for(var t of Jl(e))rD.call(e,t)&&tD(n,t,e[t]);return n},le=(n,e)=>Yk(n,Jk(e));var Rm=(n,e)=>{var t={};for(var r in n)nD.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Jl)for(var r of Jl(n))e.indexOf(r)<0&&rD.call(n,r)&&(t[r]=n[r]);return t};var x=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function Fm(n,e){return Object.is(n,e)}var Et=null,Zl=!1,Lm=1,Fn=Symbol("SIGNAL");function Ie(n){let e=Et;return Et=n,e}function Vm(){return Et}var wc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cc(n){if(Zl)throw new Error("");if(Et===null)return;Et.consumerOnSignalRead(n);let e=Et.nextProducerIndex++;if(nd(Et),e<Et.producerNode.length&&Et.producerNode[e]!==n&&Ec(Et)){let t=Et.producerNode[e];td(t,Et.producerIndexOfThis[e])}Et.producerNode[e]!==n&&(Et.producerNode[e]=n,Et.producerIndexOfThis[e]=Ec(Et)?oD(n,Et,e):0),Et.producerLastReadVersion[e]=n.version}function iD(){Lm++}function Um(n){if(!(Ec(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Lm)){if(!n.producerMustRecompute(n)&&!Hm(n)){km(n);return}n.producerRecomputeValue(n),km(n)}}function Bm(n){if(n.liveConsumerNode===void 0)return;let e=Zl;Zl=!0;try{for(let t of n.liveConsumerNode)t.dirty||Zk(t)}finally{Zl=e}}function jm(){return Et?.consumerAllowSignalWrites!==!1}function Zk(n){n.dirty=!0,Bm(n),n.consumerMarkedDirty?.(n)}function km(n){n.dirty=!1,n.lastCleanEpoch=Lm}function ed(n){return n&&(n.nextProducerIndex=0),Ie(n)}function $m(n,e){if(Ie(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ec(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)td(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Hm(n){nd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Um(t),r!==t.version))return!0}return!1}function zm(n){if(nd(n),Ec(n))for(let e=0;e<n.producerNode.length;e++)td(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function oD(n,e,t){if(sD(n),n.liveConsumerNode.length===0&&aD(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=oD(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function td(n,e){if(sD(n),n.liveConsumerNode.length===1&&aD(n))for(let r=0;r<n.producerNode.length;r++)td(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];nd(i),i.producerIndexOfThis[r]=e}}function Ec(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function nd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function sD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function aD(n){return n.producerNode!==void 0}function qm(n,e){let t=Object.create(Xk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Um(t),Cc(t),t.value===Xl)throw t.error;return t.value};return r[Fn]=t,r}var Om=Symbol("UNSET"),Nm=Symbol("COMPUTING"),Xl=Symbol("ERRORED"),Xk=le(j({},wc),{value:Om,dirty:!0,error:null,equal:Fm,kind:"computed",producerMustRecompute(n){return n.value===Om||n.value===Nm},producerRecomputeValue(n){if(n.value===Nm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Nm;let t=ed(n),r,i=!1;try{r=n.computation(),Ie(null),i=e!==Om&&e!==Xl&&r!==Xl&&n.equal(e,r)}catch(o){r=Xl,n.error=o}finally{$m(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function e4(){throw new Error}var cD=e4;function uD(n){cD(n)}function Gm(n){cD=n}var t4=null;function Wm(n,e){let t=Object.create(rd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>(Cc(t),t.value);return r[Fn]=t,r}function Ic(n,e){jm()||uD(n),n.equal(n.value,e)||(n.value=e,n4(n))}function Km(n,e){jm()||uD(n),Ic(n,e(n.value))}var rd=le(j({},wc),{equal:Fm,value:void 0,kind:"signal"});function n4(n){n.version++,iD(),Bm(n),t4?.()}function Qm(n){let e=Ie(null);try{return n()}finally{Ie(e)}}var Ym;function bc(){return Ym}function Or(n){let e=Ym;return Ym=n,e}var id=Symbol("NotFound");function ae(n){return typeof n=="function"}function Es(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var od=Es(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function eo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ut=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{lD(o)}catch(s){e=e??[],s instanceof od?e=[...e,...s.errors]:e.push(s)}}if(e)throw new od(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&eo(t,e)}remove(e){let{_finalizers:t}=this;t&&eo(t,e),e instanceof n&&e._removeParent(this)}};ut.EMPTY=(()=>{let n=new ut;return n.closed=!0,n})();var Jm=ut.EMPTY;function sd(n){return n instanceof ut||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function lD(n){ae(n)?n():n.unsubscribe()}var Ln={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ws={setTimeout(n,e,...t){let{delegate:r}=ws;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ws;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ad(n){ws.setTimeout(()=>{let{onUnhandledError:e}=Ln;if(e)e(n);else throw n})}function to(){}var dD=Zm("C",void 0,void 0);function hD(n){return Zm("E",void 0,n)}function fD(n){return Zm("N",n,void 0)}function Zm(n,e,t){return{kind:n,value:e,error:t}}var no=null;function Cs(n){if(Ln.useDeprecatedSynchronousErrorHandling){let e=!no;if(e&&(no={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=no;if(no=null,t)throw r}}else n()}function pD(n){Ln.useDeprecatedSynchronousErrorHandling&&no&&(no.errorThrown=!0,no.error=n)}var ro=class extends ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sd(e)&&e.add(this)):this.destination=c4}static create(e,t,r){return new Nr(e,t,r)}next(e){this.isStopped?ey(fD(e),this):this._next(e)}error(e){this.isStopped?ey(hD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ey(dD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},s4=Function.prototype.bind;function Xm(n,e){return s4.call(n,e)}var ty=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cd(r)}else cd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cd(t)}}},Nr=class extends ro{constructor(e,t,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ln.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Xm(e.next,o),error:e.error&&Xm(e.error,o),complete:e.complete&&Xm(e.complete,o)}):i=e}this.destination=new ty(i)}};function cd(n){Ln.useDeprecatedSynchronousErrorHandling?pD(n):ad(n)}function a4(n){throw n}function ey(n,e){let{onStoppedNotification:t}=Ln;t&&ws.setTimeout(()=>t(n,e))}var c4={closed:!0,next:to,error:a4,complete:to};var Is=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Gt(n){return n}function ud(...n){return ny(n)}function ny(n){return n.length===0?Gt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var he=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=l4(t)?t:new Nr(t,r,i);return Cs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=gD(r),new r((i,o)=>{let s=new Nr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Is](){return this}pipe(...t){return ny(t)(this)}toPromise(t){return t=gD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function gD(n){var e;return(e=n??Ln.Promise)!==null&&e!==void 0?e:Promise}function u4(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function l4(n){return n&&n instanceof ro||u4(n)&&sd(n)}function ry(n){return ae(n?.lift)}function fe(n){return e=>{if(ry(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function be(n,e,t,r,i){return new iy(n,e,t,r,i)}var iy=class extends ro{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bs(){return fe((n,e)=>{let t=null;n._refCount++;let r=be(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ds=class extends he{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ry(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ut;let t=this.getSubject();e.add(this.source.subscribe(be(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ut.EMPTY)}return e}refCount(){return bs()(this)}};var mD=Es(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class n extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ld(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new mD}next(t){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Cs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jm:(this.currentObservers=null,o.push(t),new ut(()=>{this.currentObservers=null,eo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new he;return t.source=this,t}}return n.create=(e,t)=>new ld(e,t),n})(),ld=class extends De{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Jm}};var Pt=class extends De{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Dc={now(){return(Dc.delegate||Date).now()},delegate:void 0};var Tc=class extends De{constructor(e=1/0,t=1/0,r=Dc){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var dd=class extends ut{constructor(e,t){super()}schedule(e,t=0){return this}};var Sc={setInterval(n,e,...t){let{delegate:r}=Sc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Sc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ts=class extends dd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Sc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Sc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,eo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ss=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ss.now=Dc.now;var As=class extends Ss{constructor(e,t=Ss.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Ms=new As(Ts),oy=Ms;var hd=class extends Ts{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fd=class extends As{};var sy=new fd(hd);var Dt=new he(n=>n.complete());function pd(n){return n&&ae(n.schedule)}function ay(n){return n[n.length-1]}function gd(n){return ae(ay(n))?n.pop():void 0}function ir(n){return pd(ay(n))?n.pop():void 0}function yD(n,e){return typeof ay(n)=="number"?n.pop():e}function cy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _D(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(f){s(f)}}function c(d){try{l(r.throw(d))}catch(f){s(f)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function vD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function io(n){return this instanceof io?(this.v=n,this):new io(n)}function ED(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,f)}}function a(g,_){r[g]&&(i[g]=function(C){return new Promise(function(S,k){o.push([g,C,S,k])>1||c(g,C)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(C){m(o[0][3],C)}}function l(g){g.value instanceof io?Promise.resolve(g.value.v).then(d,f):m(o[0][2],g)}function d(g){c("next",g)}function f(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function wD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vD=="function"?vD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ps=n=>n&&typeof n.length=="number"&&typeof n!="function";function md(n){return ae(n?.then)}function yd(n){return ae(n[Is])}function vd(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function _d(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function d4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ed=d4();function wd(n){return ae(n?.[Ed])}function Cd(n){return ED(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield io(t.read());if(i)return yield io(void 0);yield yield io(r)}}finally{t.releaseLock()}})}function Id(n){return ae(n?.getReader)}function Be(n){if(n instanceof he)return n;if(n!=null){if(yd(n))return h4(n);if(Ps(n))return f4(n);if(md(n))return p4(n);if(vd(n))return CD(n);if(wd(n))return g4(n);if(Id(n))return m4(n)}throw _d(n)}function h4(n){return new he(e=>{let t=n[Is]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function f4(n){return new he(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function p4(n){return new he(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ad)})}function g4(n){return new he(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function CD(n){return new he(e=>{y4(n,e).catch(t=>e.error(t))})}function m4(n){return CD(Cd(n))}function y4(n,e){var t,r,i,o;return _D(this,void 0,void 0,function*(){try{for(t=wD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function tn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gi(n,e=0){return fe((t,r)=>{t.subscribe(be(r,i=>tn(r,n,()=>r.next(i),e),()=>tn(r,n,()=>r.complete(),e),i=>tn(r,n,()=>r.error(i),e)))})}function mi(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ID(n,e){return Be(n).pipe(mi(e),gi(e))}function bD(n,e){return Be(n).pipe(mi(e),gi(e))}function DD(n,e){return new he(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function TD(n,e){return new he(t=>{let r;return tn(t,e,()=>{r=n[Ed](),tn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function bd(n,e){if(!n)throw new Error("Iterable cannot be null");return new he(t=>{tn(t,e,()=>{let r=n[Symbol.asyncIterator]();tn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function SD(n,e){return bd(Cd(n),e)}function AD(n,e){if(n!=null){if(yd(n))return ID(n,e);if(Ps(n))return DD(n,e);if(md(n))return bD(n,e);if(vd(n))return bd(n,e);if(wd(n))return TD(n,e);if(Id(n))return SD(n,e)}throw _d(n)}function Ve(n,e){return e?AD(n,e):Be(n)}function ne(...n){let e=ir(n);return Ve(n,e)}function xs(n,e){let t=ae(n)?n:()=>n,r=i=>i.error(t());return new he(e?i=>e.schedule(r,0,i):r)}function uy(n){return!!n&&(n instanceof he||ae(n.lift)&&ae(n.subscribe))}var kr=Es(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function MD(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return fe((t,r)=>{let i=0;t.subscribe(be(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:v4}=Array;function _4(n,e){return v4(e)?n(...e):n(e)}function Rs(n){return ee(e=>_4(n,e))}var{isArray:E4}=Array,{getPrototypeOf:w4,prototype:C4,keys:I4}=Object;function Dd(n){if(n.length===1){let e=n[0];if(E4(e))return{args:e,keys:null};if(b4(e)){let t=I4(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function b4(n){return n&&typeof n=="object"&&w4(n)===C4}function Td(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Os(...n){let e=ir(n),t=gd(n),{args:r,keys:i}=Dd(n);if(r.length===0)return Ve([],e);let o=new he(D4(r,e,i?s=>Td(i,s):Gt));return t?o.pipe(Rs(t)):o}function D4(n,e,t=Gt){return r=>{PD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)PD(e,()=>{let l=Ve(n[c],e),d=!1;l.subscribe(be(r,f=>{o[c]=f,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function PD(n,e,t){n?tn(t,n,e):e()}function xD(n,e,t,r,i,o,s,a){let c=[],l=0,d=0,f=!1,m=()=>{f&&!c.length&&!l&&e.complete()},g=C=>l<r?_(C):c.push(C),_=C=>{o&&e.next(C),l++;let S=!1;Be(t(C,d++)).subscribe(be(e,k=>{i?.(k),o?g(k):e.next(k)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;c.length&&l<r;){let k=c.shift();s?tn(e,s,()=>_(k)):_(k)}m()}catch(k){e.error(k)}}))};return n.subscribe(be(e,g,()=>{f=!0,m()})),()=>{a?.()}}function Xe(n,e,t=1/0){return ae(e)?Xe((r,i)=>ee((o,s)=>e(r,o,i,s))(Be(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>xD(r,i,n,t)))}function yi(n=1/0){return Xe(Gt,n)}function RD(){return yi(1)}function vi(...n){return RD()(Ve(n,ir(n)))}function Sd(n){return new he(e=>{Be(n()).subscribe(e)})}function ly(...n){let e=gd(n),{args:t,keys:r}=Dd(n),i=new he(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let d=0;d<s;d++){let f=!1;Be(t[d]).subscribe(be(o,m=>{f||(f=!0,l--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(l||o.next(r?Td(r,a):a),o.complete())}))}});return e?i.pipe(Rs(e)):i}var T4=["addListener","removeListener"],S4=["addEventListener","removeEventListener"],A4=["on","off"];function Ac(n,e,t,r){if(ae(t)&&(r=t,t=void 0),r)return Ac(n,e,t).pipe(Rs(r));let[i,o]=x4(n)?S4.map(s=>a=>n[s](e,a,t)):M4(n)?T4.map(OD(n,e)):P4(n)?A4.map(OD(n,e)):[];if(!i&&Ps(n))return Xe(s=>Ac(s,e,t))(Be(n));if(!i)throw new TypeError("Invalid event target");return new he(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function OD(n,e){return t=>r=>n[t](e,r)}function M4(n){return ae(n.addListener)&&ae(n.removeListener)}function P4(n){return ae(n.on)&&ae(n.off)}function x4(n){return ae(n.addEventListener)&&ae(n.removeEventListener)}function ND(n=0,e,t=oy){let r=-1;return e!=null&&(pd(e)?t=e:r=e),new he(i=>{let o=MD(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Vn(...n){let e=ir(n),t=yD(n,1/0),r=n;return r.length?r.length===1?Be(r[0]):yi(t)(Ve(r,e)):Dt}function We(n,e){return fe((t,r)=>{let i=0;t.subscribe(be(r,o=>n.call(e,o,i++)&&r.next(o)))})}function fn(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(be(t,void 0,void 0,s=>{o=Be(n(s,fn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Ad(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(be(s,d=>{let f=l++;c=a?n(c,d,f):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function kD(n,e){return fe(Ad(n,e,arguments.length>=2,!1,!0))}var R4=(n,e)=>(n.push(e),n);function dy(){return fe((n,e)=>{kD(R4,[])(n).subscribe(e)})}function Fr(n,e){return ae(e)?Xe(n,e,1):Xe(n,1)}function _i(n){return fe((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function et(n){return n<=0?()=>Dt:fe((e,t)=>{let r=0;e.subscribe(be(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function FD(){return fe((n,e)=>{n.subscribe(be(e,to))})}function LD(n){return ee(()=>n)}function hy(n,e){return e?t=>vi(e.pipe(et(1),FD()),t.pipe(hy(n))):Xe((t,r)=>Be(n(t,r)).pipe(et(1),LD(t)))}function fy(n,e=Ms){let t=ND(n,e);return hy(()=>t)}function Mc(n,e=Gt){return n=n??O4,fe((t,r)=>{let i,o=!0;t.subscribe(be(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function O4(n,e){return n===e}function Md(n=N4){return fe((e,t)=>{let r=!1;e.subscribe(be(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function N4(){return new kr}function Ei(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function pn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?We((i,o)=>n(i,o,r)):Gt,et(1),t?_i(e):Md(()=>new kr))}function Ns(n){return n<=0?()=>Dt:fe((e,t)=>{let r=[];e.subscribe(be(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function py(n,e){let t=arguments.length>=2;return r=>r.pipe(n?We((i,o)=>n(i,o,r)):Gt,Ns(1),t?_i(e):Md(()=>new kr))}function Pd(n,e){return fe(Ad(n,e,arguments.length>=2,!0))}function VD(n={}){let{connector:e=()=>new De,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=f=!1},_=()=>{let C=s;g(),C?.unsubscribe()};return fe((C,S)=>{l++,!f&&!d&&m();let k=c=c??e();S.add(()=>{l--,l===0&&!f&&!d&&(a=gy(_,i))}),k.subscribe(S),!s&&l>0&&(s=new Nr({next:H=>k.next(H),error:H=>{f=!0,m(),a=gy(g,t,H),k.error(H)},complete:()=>{d=!0,m(),a=gy(g,r),k.complete()}}),Be(C).subscribe(s))})(o)}}function gy(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new Nr({next:()=>{r.unsubscribe(),n()}});return Be(e(...t)).subscribe(r)}function my(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,VD({connector:()=>new Tc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function xd(n){return We((e,t)=>n<=t)}function Rd(...n){let e=ir(n);return fe((t,r)=>{(e?vi(n,t,e):vi(n,t)).subscribe(r)})}function rt(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(be(r,c=>{i?.unsubscribe();let l=0,d=o++;Be(n(c,d)).subscribe(i=be(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function yy(n){return fe((e,t)=>{Be(n).subscribe(be(t,()=>t.complete(),to)),!t.closed&&e.subscribe(t)})}function ue(n,e,t){let r=ae(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(be(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Gt}var OT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(F4(e,t)),this.code=e}};function k4(n){return`NG0${Math.abs(n)}`}function F4(n,e){return`${k4(n)}${e?": "+e:""}`}var NT=Symbol("InputSignalNode#UNSET"),L4=le(j({},rd),{transformFn:void 0,applyValueToInputSignal(n,e){Ic(n,e)}});function kT(n,e){let t=Object.create(L4);t.value=n,t.transformFn=e?.transform;function r(){if(Cc(t),t.value===NT){let i=null;throw new V(-950,i)}return t.value}return r[Fn]=t,r}function qc(n){return{toString:n}.toString()}var Od="__parameters__";function V4(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function FT(n,e,t){return qc(()=>{let r=V4(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,d){let f=c.hasOwnProperty(Od)?c[Od]:Object.defineProperty(c,Od,{value:[]})[Od];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Lr=globalThis;function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function U4(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rn).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function UD(n,e){return n?e?`${n} ${e}`:n:e||""}var B4=Ge({__forward_ref__:Ge});function vo(n){return n.__forward_ref__=vo,n.toString=function(){return rn(this())},n}function Wt(n){return LT(n)?n():n}function LT(n){return typeof n=="function"&&n.hasOwnProperty(B4)&&n.__forward_ref__===vo}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function gn(n){return{providers:n.providers||[],imports:n.imports||[]}}function mh(n){return BD(n,UT)||BD(n,BT)}function VT(n){return mh(n)!==null}function BD(n,e){return n.hasOwnProperty(e)?n[e]:null}function j4(n){let e=n&&(n[UT]||n[BT]);return e||null}function jD(n){return n&&(n.hasOwnProperty($D)||n.hasOwnProperty($4))?n[$D]:null}var UT=Ge({\u0275prov:Ge}),$D=Ge({\u0275inj:Ge}),BT=Ge({ngInjectableDef:Ge}),$4=Ge({ngInjectorDef:Ge}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jT(n){return n&&!!n.\u0275providers}var H4=Ge({\u0275cmp:Ge}),z4=Ge({\u0275dir:Ge}),q4=Ge({\u0275pipe:Ge}),G4=Ge({\u0275mod:Ge}),zd=Ge({\u0275fac:Ge}),Oc=Ge({__NG_ELEMENT_ID__:Ge}),HD=Ge({__NG_ENV_ID__:Ge});function Gc(n){return typeof n=="string"?n:n==null?"":String(n)}function W4(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Gc(n)}function $T(n,e){throw new V(-200,n)}function B0(n,e){throw new V(-201,!1)}var we=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(we||{}),Ny;function HT(){return Ny}function nn(n){let e=Ny;return Ny=n,e}function zT(n,e,t){let r=mh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&we.Optional)return null;if(e!==void 0)return e;B0(n,"Injector")}var K4={},so=K4,ky="__NG_DI_FLAG__",qd=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?id:so,r)}},Gd="ngTempTokenPath",Q4="ngTokenPath",Y4=/\n/gm,J4="\u0275",zD="__source";function Z4(n,e=we.Default){if(bc()===void 0)throw new V(-203,!1);if(bc()===null)return zT(n,void 0,e);{let t=bc(),r;return t instanceof qd?r=t.injector:r=t,r.get(n,e&we.Optional?null:void 0,e)}}function W(n,e=we.Default){return(HT()||Z4)(Wt(n),e)}function $(n,e=we.Default){return W(n,yh(e))}function yh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fy(n){let e=[];for(let t=0;t<n.length;t++){let r=Wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=we.Default;for(let s=0;s<r.length;s++){let a=r[s],c=X4(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function qT(n,e){return n[ky]=e,n.prototype[ky]=e,n}function X4(n){return n[ky]}function eF(n,e,t,r){let i=n[Gd];throw e[zD]&&i.unshift(e[zD]),n.message=tF(`
`+n.message,i,t,r),n[Q4]=i,n[Gd]=null,n}function tF(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==J4?n.slice(2):n;let i=rn(e);if(Array.isArray(e))i=e.map(rn).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Y4,`
  `)}`}var hr=qT(FT("Optional"),8);var GT=qT(FT("SkipSelf"),4);function co(n,e){let t=n.hasOwnProperty(zd);return t?n[zd]:null}function nF(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function rF(n){return n.flat(Number.POSITIVE_INFINITY)}function j0(n,e){n.forEach(t=>Array.isArray(t)?j0(t,e):e(t))}function WT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Wd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function iF(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function oF(n,e,t){let r=Wc(n,e);return r>=0?n[r|1]=t:(r=~r,iF(n,r,e,t)),r}function vy(n,e){let t=Wc(n,e);if(t>=0)return n[t|1]}function Wc(n,e){return sF(n,e,1)}function sF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var uo={},Tn=[],Nc=new K(""),KT=new K("",-1),QT=new K(""),Kd=class{get(e,t=so){if(t===so){let r=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw r.name="NullInjectorError",r}return t}};function YT(n,e){let t=n[G4]||null;if(!t&&e===!0)throw new Error(`Type ${rn(n)} does not have '\u0275mod' property.`);return t}function Us(n){return n[H4]||null}function aF(n){return n[z4]||null}function cF(n){return n[q4]||null}function Di(n){return{\u0275providers:n}}function uF(...n){return{\u0275providers:JT(!0,n),\u0275fromNgModule:!0}}function JT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return j0(e,s=>{let a=s;Ly(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ZT(i,o),t}function ZT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];$0(i,o=>{e(o,r)})}}function Ly(n,e,t,r){if(n=Wt(n),!n)return!1;let i=null,o=jD(n),s=!o&&Us(n);if(!o&&!s){let c=n.ngModule;if(o=jD(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ly(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{j0(o.imports,d=>{Ly(d,e,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&ZT(l,e)}if(!a){let l=co(i)||(()=>new i);e({provide:i,useFactory:l,deps:Tn},i),e({provide:QT,useValue:i,multi:!0},i),e({provide:Nc,useValue:()=>W(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;$0(c,d=>{e(d,l)})}}else return!1;return i!==n&&n.providers!==void 0}function $0(n,e){for(let t of n)jT(t)&&(t=t.\u0275providers),Array.isArray(t)?$0(t,e):e(t)}var lF=Ge({provide:String,useValue:Ge});function XT(n){return n!==null&&typeof n=="object"&&lF in n}function dF(n){return!!(n&&n.useExisting)}function hF(n){return!!(n&&n.useFactory)}function Bs(n){return typeof n=="function"}function fF(n){return!!n.useClass}var vh=new K(""),Vd={},qD={},_y;function H0(){return _y===void 0&&(_y=new Kd),_y}var xt=class{},kc=class extends xt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Uy(e,s=>this.processProvider(s)),this.records.set(KT,ks(void 0,this)),i.has("environment")&&this.records.set(xt,ks(void 0,this));let o=this.records.get(vh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(QT,Tn,we.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?id:so,r)}destroy(){xc(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return xc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xc(this);let t=Or(this),r=nn(void 0),i;try{return e()}finally{Or(t),nn(r)}}get(e,t=so,r=we.Default){if(xc(this),e.hasOwnProperty(HD))return e[HD](this);r=yh(r);let i,o=Or(this),s=nn(void 0);try{if(!(r&we.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=vF(e)&&mh(e);l&&this.injectableDefInScope(l)?c=ks(Vy(e),Vd):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&we.Self?H0():this.parent;return t=r&we.Optional&&t===so?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Gd]=a[Gd]||[]).unshift(rn(e)),o)throw a;return eF(a,e,"R3InjectorError",this.source)}else throw a}finally{nn(s),Or(o)}}resolveInjectorInitializers(){let e=Ie(null),t=Or(this),r=nn(void 0),i;try{let o=this.get(Nc,Tn,we.Self);for(let s of o)s()}finally{Or(t),nn(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rn(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Wt(e);let t=Bs(e)?e:Wt(e&&e.provide),r=gF(e);if(!Bs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ks(void 0,Vd,!0),i.factory=()=>Fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Ie(null);try{return t.value===qD?$T(rn(e)):t.value===Vd&&(t.value=qD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&yF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Vy(n){let e=mh(n),t=e!==null?e.factory:co(n);if(t!==null)return t;if(n instanceof K)throw new V(204,!1);if(n instanceof Function)return pF(n);throw new V(204,!1)}function pF(n){if(n.length>0)throw new V(204,!1);let t=j4(n);return t!==null?()=>t.factory(n):()=>new n}function gF(n){if(XT(n))return ks(void 0,n.useValue);{let e=eS(n);return ks(e,Vd)}}function eS(n,e,t){let r;if(Bs(n)){let i=Wt(n);return co(i)||Vy(i)}else if(XT(n))r=()=>Wt(n.useValue);else if(hF(n))r=()=>n.useFactory(...Fy(n.deps||[]));else if(dF(n))r=(i,o)=>W(Wt(n.useExisting),o!==void 0&&o&we.Optional?we.Optional:void 0);else{let i=Wt(n&&(n.useClass||n.provide));if(mF(n))r=()=>new i(...Fy(n.deps));else return co(i)||Vy(i)}return r}function xc(n){if(n.destroyed)throw new V(205,!1)}function ks(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mF(n){return!!n.deps}function yF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function vF(n){return typeof n=="function"||typeof n=="object"&&n instanceof K}function Uy(n,e){for(let t of n)Array.isArray(t)?Uy(t,e):t&&jT(t)?Uy(t.\u0275providers,e):e(t)}function Ot(n,e){let t;n instanceof kc?(xc(n),t=n):t=new qd(n);let r,i=Or(t),o=nn(void 0);try{return e()}finally{Or(i),nn(o)}}function tS(){return HT()!==void 0||bc()!=null}function nS(n){if(!tS())throw new V(-203,!1)}function _F(n){return typeof n=="function"}var Br=0,me=1,ye=2,Bt=3,Bn=4,zn=5,Fc=6,Qd=7,wt=8,js=9,Vr=10,Ct=11,Lc=12,GD=13,Ks=14,jn=15,lo=16,Fs=17,Ur=18,_h=19,rS=20,wi=21,Ey=22,Yd=23,Sn=24,wy=25,Rt=26,iS=1;var ho=7,Jd=8,$s=9,Ut=10;function Ci(n){return Array.isArray(n)&&typeof n[iS]=="object"}function jr(n){return Array.isArray(n)&&n[iS]===!0}function z0(n){return(n.flags&4)!==0}function Qs(n){return n.componentOffset>-1}function Eh(n){return(n.flags&1)===1}function sr(n){return!!n.template}function Zd(n){return(n[ye]&512)!==0}function Ys(n){return(n[ye]&256)===256}var By=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function oS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var An=(()=>{let n=()=>sS;return n.ngInherit=!0,n})();function sS(n){return n.type.prototype.ngOnChanges&&(n.setInput=wF),EF}function EF(){let n=cS(this),e=n?.current;if(e){let t=n.previous;if(t===uo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wF(n,e,t,r,i){let o=this.declaredInputs[r],s=cS(n)||CF(n,{previous:uo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new By(l&&l.currentValue,t,c===uo),oS(n,e,i,t)}var aS="__ngSimpleChanges__";function cS(n){return n[aS]||null}function CF(n,e){return n[aS]=e}var WD=null;var Ke=function(n,e=null,t){WD?.(n,e,t)},uS="svg",IF="math";function ar(n){for(;Array.isArray(n);)n=n[Br];return n}function lS(n,e){return ar(e[n])}function fr(n,e){return ar(e[n.index])}function q0(n,e){return n.data[e]}function G0(n,e){return n[e]}function bF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function cr(n,e){let t=e[n];return Ci(t)?t:t[Br]}function DF(n){return(n[ye]&4)===4}function W0(n){return(n[ye]&128)===128}function TF(n){return jr(n[Bt])}function Ii(n,e){return e==null?null:n[e]}function dS(n){n[Fs]=0}function hS(n){n[ye]&1024||(n[ye]|=1024,W0(n)&&Ch(n))}function SF(n,e){for(;n>0;)e=e[Ks],n--;return e}function wh(n){return!!(n[ye]&9216||n[Sn]?.dirty)}function jy(n){n[Vr].changeDetectionScheduler?.notify(8),n[ye]&64&&(n[ye]|=1024),wh(n)&&Ch(n)}function Ch(n){n[Vr].changeDetectionScheduler?.notify(0);let e=fo(n);for(;e!==null&&!(e[ye]&8192||(e[ye]|=8192,!W0(e)));)e=fo(e)}function fS(n,e){if(Ys(n))throw new V(911,!1);n[wi]===null&&(n[wi]=[]),n[wi].push(e)}function AF(n,e){if(n[wi]===null)return;let t=n[wi].indexOf(e);t!==-1&&n[wi].splice(t,1)}function fo(n){let e=n[Bt];return jr(e)?e[Bt]:e}function K0(n){return n[Qd]??=[]}function Q0(n){return n.cleanup??=[]}function MF(n,e,t,r){let i=K0(e);i.push(t),n.firstCreatePass&&Q0(n).push(r,i.length-1)}var Ce={lFrame:ES(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $y=!1;function PF(){return Ce.lFrame.elementDepthCount}function xF(){Ce.lFrame.elementDepthCount++}function RF(){Ce.lFrame.elementDepthCount--}function Y0(){return Ce.bindingsEnabled}function OF(){return Ce.skipHydrationRootTNode!==null}function NF(n){return Ce.skipHydrationRootTNode===n}function kF(){Ce.skipHydrationRootTNode=null}function Te(){return Ce.lFrame.lView}function It(){return Ce.lFrame.tView}function xe(n){return Ce.lFrame.contextLView=n,n[wt]}function Re(n){return Ce.lFrame.contextLView=null,n}function on(){let n=pS();for(;n!==null&&n.type===64;)n=n.parent;return n}function pS(){return Ce.lFrame.currentTNode}function FF(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function _o(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function J0(){return Ce.lFrame.isParent}function gS(){Ce.lFrame.isParent=!1}function LF(){return Ce.lFrame.contextLView}function mS(){return $y}function KD(n){let e=$y;return $y=n,e}function Eo(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function VF(n){return Ce.lFrame.bindingIndex=n}function Kc(){return Ce.lFrame.bindingIndex++}function UF(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function BF(){return Ce.lFrame.inI18n}function jF(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hy(e)}function $F(){return Ce.lFrame.currentDirectiveIndex}function Hy(n){Ce.lFrame.currentDirectiveIndex=n}function HF(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function yS(){return Ce.lFrame.currentQueryIndex}function Z0(n){Ce.lFrame.currentQueryIndex=n}function zF(n){let e=n[me];return e.type===2?e.declTNode:e.type===1?n[zn]:null}function vS(n,e,t){if(t&we.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&we.Host);)if(i=zF(o),i===null||(o=o[Ks],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=_S();return r.currentTNode=e,r.lView=n,!0}function X0(n){let e=_S(),t=n[me];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _S(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?ES(n):e}function ES(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function wS(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var CS=wS;function ev(){let n=wS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qF(n){return(Ce.lFrame.contextLView=SF(n,Ce.lFrame.contextLView))[wt]}function wo(){return Ce.lFrame.selectedIndex}function po(n){Ce.lFrame.selectedIndex=n}function tv(){let n=Ce.lFrame;return q0(n.tView,n.selectedIndex)}function nv(){Ce.lFrame.currentNamespace=uS}function rv(){GF()}function GF(){Ce.lFrame.currentNamespace=null}function WF(){return Ce.lFrame.currentNamespace}var IS=!0;function Ih(){return IS}function bh(n){IS=n}function KF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=sS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function iv(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Ud(n,e,t){bS(n,e,3,t)}function Bd(n,e,t,r){(n[ye]&3)===t&&bS(n,e,t,r)}function Cy(n,e){let t=n[ye];(t&3)===e&&(t&=16383,t+=1,n[ye]=t)}function bS(n,e,t,r){let i=r!==void 0?n[Fs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Fs]+=65536),(a<o||o==-1)&&(QF(n,t,e,c),n[Fs]=(n[Fs]&4294901760)+c+2),c++}function QD(n,e){Ke(4,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),Ke(5,n,e)}}function QF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ye]>>14<n[Fs]>>16&&(n[ye]&3)===e&&(n[ye]+=16384,QD(a,o)):QD(a,o)}var Vs=-1,go=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function YF(n){return(n.flags&8)!==0}function JF(n){return(n.flags&16)!==0}function ZF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];XF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function DS(n){return n===3||n===4||n===6}function XF(n){return n.charCodeAt(0)===64}function Hs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?YD(n,t,i,null,e[++r]):YD(n,t,i,null,null))}}return n}function YD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function TS(n){return n!==Vs}function Xd(n){return n&32767}function e2(n){return n>>16}function eh(n,e){let t=e2(n),r=e;for(;t>0;)r=r[Ks],t--;return r}var zy=!0;function th(n){let e=zy;return zy=n,e}var t2=256,SS=t2-1,AS=5,n2=0,or={};function r2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oc)&&(r=t[Oc]),r==null&&(r=t[Oc]=n2++);let i=r&SS,o=1<<i;e.data[n+(i>>AS)]|=o}function nh(n,e){let t=MS(n,e);if(t!==-1)return t;let r=e[me];r.firstCreatePass&&(n.injectorIndex=e.length,Iy(r.data,n),Iy(e,null),Iy(r.blueprint,null));let i=ov(n,e),o=n.injectorIndex;if(TS(i)){let s=Xd(i),a=eh(i,e),c=a[me].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Iy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function MS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ov(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=NS(i),r===null)return Vs;if(t++,i=i[Ks],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Vs}function qy(n,e,t){r2(n,e,t)}function i2(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(DS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function PS(n,e,t){if(t&we.Optional||n!==void 0)return n;B0(e,"NodeInjector")}function xS(n,e,t,r){if(t&we.Optional&&r===void 0&&(r=null),(t&(we.Self|we.Host))===0){let i=n[js],o=nn(void 0);try{return i?i.get(e,r,t&we.Optional):zT(e,r,t&we.Optional)}finally{nn(o)}}return PS(r,e,t)}function RS(n,e,t,r=we.Default,i){if(n!==null){if(e[ye]&2048&&!(r&we.Self)){let s=c2(n,e,t,r,or);if(s!==or)return s}let o=OS(n,e,t,r,or);if(o!==or)return o}return xS(e,t,r,i)}function OS(n,e,t,r,i){let o=s2(t);if(typeof o=="function"){if(!vS(e,n,r))return r&we.Host?PS(i,t,r):xS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&we.Optional))B0(t);else return s}finally{CS()}}else if(typeof o=="number"){let s=null,a=MS(n,e),c=Vs,l=r&we.Host?e[jn][zn]:null;for((a===-1||r&we.SkipSelf)&&(c=a===-1?ov(n,e):e[a+8],c===Vs||!ZD(r,!1)?a=-1:(s=e[me],a=Xd(c),e=eh(c,e)));a!==-1;){let d=e[me];if(JD(o,a,d.data)){let f=o2(a,e,t,s,r,l);if(f!==or)return f}c=e[a+8],c!==Vs&&ZD(r,e[me].data[a+8]===l)&&JD(o,a,e)?(s=d,a=Xd(c),e=eh(c,e)):a=-1}}return i}function o2(n,e,t,r,i,o){let s=e[me],a=s.data[n+8],c=r==null?Qs(a)&&zy:r!=s&&(a.type&3)!==0,l=i&we.Host&&o===a,d=jd(a,s,t,c,l);return d!==null?Vc(e,s,d,a,i):or}function jd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,d=o>>20,f=r?a:a+d,m=i?a+d:l;for(let g=f;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&sr(g)&&g.type===t)return c}return null}function Vc(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof go){let a=o;a.resolving&&$T(W4(s[t]));let c=th(a.canSeeViewProviders);a.resolving=!0;let l,d=a.injectImpl?nn(a.injectImpl):null,f=vS(n,r,we.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&KF(t,s[t],e)}finally{d!==null&&nn(d),th(c),a.resolving=!1,CS()}}return o}function s2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oc)?n[Oc]:void 0;return typeof e=="number"?e>=0?e&SS:a2:e}function JD(n,e,t){let r=1<<n;return!!(t[e+(n>>AS)]&r)}function ZD(n,e){return!(n&we.Self)&&!(n&we.Host&&e)}var ao=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return RS(this._tNode,this._lView,e,yh(r),t)}};function a2(){return new ao(on(),Te())}function Qc(n){return qc(()=>{let e=n.prototype.constructor,t=e[zd]||Gy(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[zd]||Gy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gy(n){return LT(n)?()=>{let e=Gy(Wt(n));return e&&e()}:co(n)}function c2(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ye]&2048&&!Zd(s);){let a=OS(o,s,t,r|we.Self,or);if(a!==or)return a;let c=o.parent;if(!c){let l=s[rS];if(l){let d=l.get(t,or,r);if(d!==or)return d}c=NS(s),s=s[Ks]}o=c}return i}function NS(n){let e=n[me],t=e.type;return t===2?e.declTNode:t===1?n[zn]:null}function Dh(n){return i2(on(),n)}function XD(n,e=null,t=null,r){let i=kS(n,e,t,r);return i.resolveInjectorInitializers(),i}function kS(n,e=null,t=null,r,i=new Set){let o=[t||Tn,uF(n)];return r=r||(typeof n=="object"?void 0:rn(n)),new kc(o,e||H0(),r||null,i)}var Kt=class n{static THROW_IF_NOT_FOUND=so;static NULL=new Kd;static create(e,t){if(Array.isArray(e))return XD({name:""},t,e,"");{let r=e.name??"";return XD({name:r},e.parent,e.providers,r)}}static \u0275prov=z({token:n,providedIn:"any",factory:()=>W(KT)});static __NG_ELEMENT_ID__=-1};var u2=new K("");u2.__NG_ELEMENT_ID__=n=>{let e=on();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&we.Optional)return null;throw new V(204,!1)};var FS=!1,Js=(()=>{class n{static __NG_ELEMENT_ID__=l2;static __NG_ENV_ID__=t=>t}return n})(),Wy=class extends Js{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return Ys(t)?(e(),()=>{}):(fS(t,e),()=>AF(t,e))}};function l2(){return new Wy(Te())}var zs=class{},LS=new K("",{providedIn:"root",factory:()=>!1});var VS=new K(""),US=new K(""),pr=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Th=(()=>{class n{internalPendingTasks=$(pr);scheduler=$(zs);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return x(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ky=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tS()&&(this.destroyRef=$(Js,{optional:!0})??void 0,this.pendingTasks=$(pr,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ut&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},je=Ky;function rh(...n){}function BS(n){let e,t;function r(){n=rh;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function eT(n){return queueMicrotask(()=>n()),()=>{n=rh}}var sv="isAngularZone",ih=sv+"_ID",d2=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new je(!1);onMicrotaskEmpty=new je(!1);onStable=new je(!1);onError=new je(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=FS}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,p2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sv)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,h2,rh,rh);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},h2={};function av(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function f2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){BS(()=>{n.callbackScheduled=!1,Qy(n),n.isCheckStableRunning=!0,av(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Qy(n)}function p2(n){let e=()=>{f2(n)},t=d2++;n._inner=n._inner.fork({name:"angular",properties:{[sv]:!0,[ih]:t,[ih+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(g2(c))return r.invokeTask(o,s,a,c);try{return tT(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),nT(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return tT(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!m2(c)&&e(),nT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Qy(n),av(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Qy(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function tT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nT(n){n._nesting--,av(n)}var Yy=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new je;onMicrotaskEmpty=new je;onStable=new je;onError=new je;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function g2(n){return jS(n,"__ignore_ng_zone__")}function m2(n){return jS(n,"__scheduler_tick__")}function jS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var $n=class{_console=console;handleError(e){this._console.error("ERROR",e)}},y2=new K("",{providedIn:"root",factory:()=>{let n=$(ke),e=$($n);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function rT(n,e){return kT(n,e)}function v2(n){return kT(NT,n)}var $S=(rT.required=v2,rT);function _2(){return Zs(on(),Te())}function Zs(n,e){return new jt(fr(n,e))}var jt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=_2}return n})();function E2(n){return n instanceof jt?n.nativeElement:n}function Co(n,e){let t=Wm(n,e?.equal),r=t[Fn];return t.set=i=>Ic(r,i),t.update=i=>Km(r,i),t.asReadonly=w2.bind(t),t}function w2(){let n=this[Fn];if(n.readonlyFn===void 0){let e=()=>this();e[Fn]=n,n.readonlyFn=e}return n.readonlyFn}function C2(){return this._results[Symbol.iterator]()}var Jy=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=rF(e);(this._changesDetected=!nF(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=C2};function HS(n){return(n.flags&128)===128}var zS=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(zS||{}),qS=new Map,I2=0;function b2(){return I2++}function D2(n){qS.set(n[_h],n)}function Zy(n){qS.delete(n[_h])}var iT="__ngContext__";function Xs(n,e){Ci(e)?(n[iT]=e[_h],D2(e)):n[iT]=e}function GS(n){return KS(n[Lc])}function WS(n){return KS(n[Bn])}function KS(n){for(;n!==null&&!jr(n);)n=n[Bn];return n}var Xy;function QS(n){Xy=n}function YS(){if(Xy!==void 0)return Xy;if(typeof document<"u")return document;throw new V(210,!1)}var cv=new K("",{providedIn:"root",factory:()=>T2}),T2="ng",uv=new K(""),Nt=new K("",{providedIn:"platform",factory:()=>"unknown"});var lv=new K(""),dv=new K("",{providedIn:"root",factory:()=>YS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var S2="h",A2="b";var JS=!1,M2=new K("",{providedIn:"root",factory:()=>JS});var ZS=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(ZS||{}),Sh=new K(""),oT=new Set;function ea(n){oT.has(n)||(oT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var P2=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}return n})();var x2=(n,e,t,r)=>{};function R2(n,e,t,r){x2(n,e,t,r)}var O2=()=>null;function XS(n,e,t=!1){return O2(n,e,t)}function eA(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Z0(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function e0(n,e,t){Z0(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function hv(n,e,t){if(z0(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{Ie(r)}}}var ur=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ur||{}),Nd;function N2(){if(Nd===void 0&&(Nd=null,Lr.trustedTypes))try{Nd=Lr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nd}function Ah(n){return N2()?.createHTML(n)||n}var kd;function tA(){if(kd===void 0&&(kd=null,Lr.trustedTypes))try{kd=Lr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kd}function sT(n){return tA()?.createHTML(n)||n}function aT(n){return tA()?.createScriptURL(n)||n}var oh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OT})`}};function Mh(n){return n instanceof oh?n.changingThisBreaksApplicationSecurity:n}function fv(n,e){let t=k2(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${OT})`)}return t===e}function k2(n){return n instanceof oh&&n.getTypeName()||null}function F2(n){let e=new n0(n);return L2()?new t0(e):e}var t0=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Ah(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},n0=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ah(e),t}};function L2(){try{return!!new window.DOMParser().parseFromString(Ah(""),"text/html")}catch{return!1}}var V2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nA(n){return n=String(n),n.match(V2)?n:"unsafe:"+n}function $r(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Yc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var rA=$r("area,br,col,hr,img,wbr"),iA=$r("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),oA=$r("rp,rt"),U2=Yc(oA,iA),B2=Yc(iA,$r("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),j2=Yc(oA,$r("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cT=Yc(rA,B2,j2,U2),sA=$r("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$2=$r("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),H2=$r("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),z2=Yc(sA,$2,H2),q2=$r("script,style,template"),r0=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=K2(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=W2(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=uT(e).toLowerCase();if(!cT.hasOwnProperty(t))return this.sanitizedSomething=!0,!q2.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!z2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;sA[a]&&(c=nA(c)),this.buf.push(" ",s,'="',lT(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=uT(e).toLowerCase();cT.hasOwnProperty(t)&&!rA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(lT(e))}};function G2(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function W2(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw aA(e);return e}function K2(n){let e=n.firstChild;if(e&&G2(n,e))throw aA(e);return e}function uT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function aA(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var Q2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Y2=/([^\#-~ |!])/g;function lT(n){return n.replace(/&/g,"&amp;").replace(Q2,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(Y2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fd;function J2(n,e){let t=null;try{Fd=Fd||F2(n);let r=e?String(e):"";t=Fd.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Fd.getInertBodyElement(r)}while(r!==o);let a=new r0().sanitizeChildren(dT(t)||t);return Ah(a)}finally{if(t){let r=dT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function dT(n){return"content"in n&&Z2(n)?n.content:null}function Z2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ph=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ph||{});function mn(n){let e=pv();return e?sT(e.sanitize(Ph.HTML,n)||""):fv(n,"HTML")?sT(Mh(n)):J2(YS(),Gc(n))}function bt(n){let e=pv();return e?e.sanitize(Ph.URL,n)||"":fv(n,"URL")?Mh(n):nA(Gc(n))}function X2(n){let e=pv();if(e)return aT(e.sanitize(Ph.RESOURCE_URL,n)||"");if(fv(n,"ResourceURL"))return aT(Mh(n));throw new V(904,!1)}function eL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?X2:bt}function cA(n,e,t){return eL(e,t)(n)}function pv(){let n=Te();return n&&n[Vr].sanitizer}var tL=/^>|^->|<!--|-->|--!>|<!-$/g,nL=/(<|>)/g,rL="\u200B$1\u200B";function iL(n){return n.replace(tL,e=>e.replace(nL,rL))}function uA(n){return n.ownerDocument}function lA(n){return n instanceof Function?n():n}function oL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var dA="ng-template";function sL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(gv(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function gv(n){return n.type===4&&n.value!==dA}function aL(n,e,t){let r=n.type===4&&!t?dA:n.value;return e===r}function cL(n,e,t){let r=4,i=n.attrs,o=i!==null?dL(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Un(r)&&!Un(c))return!1;if(s&&Un(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!aL(n,c,t)||c===""&&e.length===1){if(Un(r))return!1;s=!0}}else if(r&8){if(i===null||!sL(n,i,c,t)){if(Un(r))return!1;s=!0}}else{let l=e[++a],d=uL(c,i,gv(n),t);if(d===-1){if(Un(r))return!1;s=!0;continue}if(l!==""){let f;if(d>o?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(Un(r))return!1;s=!0}}}}return Un(r)||s}function Un(n){return(n&1)===0}function uL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return hL(e,n)}function lL(n,e,t=!1){for(let r=0;r<e.length;r++)if(cL(n,e[r],t))return!0;return!1}function dL(n){for(let e=0;e<n.length;e++){let t=n[e];if(DS(t))return e}return n.length}function hL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function hT(n,e){return n?":not("+e.trim()+")":e}function fL(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Un(s)&&(e+=hT(o,i),i=""),r=s,o=o||!Un(r);t++}return i!==""&&(e+=hT(o,i)),e}function pL(n){return n.map(fL).join(",")}function gL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Un(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var gr={};function mL(n,e){return n.createText(e)}function yL(n,e,t){n.setValue(e,t)}function vL(n,e){return n.createComment(iL(e))}function hA(n,e,t){return n.createElement(e,t)}function sh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function fA(n,e,t){n.appendChild(e,t)}function fT(n,e,t,r,i){r!==null?sh(n,e,t,r,i):fA(n,e,t)}function _L(n,e,t){n.removeChild(null,e,t)}function EL(n,e,t){n.setAttribute(e,"style",t)}function wL(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function pA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ZF(n,e,r),i!==null&&wL(n,e,i),o!==null&&EL(n,e,o)}function mv(n,e,t,r,i,o,s,a,c,l,d){let f=Rt+r,m=f+i,g=CL(f,m),_=typeof l=="function"?l():l;return g[me]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:d}}function CL(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:gr);return t}function IL(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=mv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yv(n,e,t,r,i,o,s,a,c,l,d){let f=e.blueprint.slice();return f[Br]=i,f[ye]=r|4|128|8|64|1024,(l!==null||n&&n[ye]&2048)&&(f[ye]|=2048),dS(f),f[Bt]=f[Ks]=n,f[wt]=t,f[Vr]=s||n&&n[Vr],f[Ct]=a||n&&n[Ct],f[js]=c||n&&n[js]||null,f[zn]=o,f[_h]=b2(),f[Fc]=d,f[rS]=l,f[jn]=e.type==2?n[jn]:f,f}function bL(n,e,t){let r=fr(e,n),i=IL(t),o=n[Vr].rendererFactory,s=vv(n,yv(n,i,null,gA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function gA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function mA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function vv(n,e){return n[Lc]?n[GD][Bn]=e:n[Lc]=e,n[GD]=e,e}function O(n=1){yA(It(),Te(),wo()+n,!1)}function yA(n,e,t,r){if(!r)if((e[ye]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ud(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Bd(e,o,0,t)}po(t)}var xh=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(xh||{});function i0(n,e,t,r){let i=Ie(null);try{let[o,s,a]=n.inputs[t],c=null;(s&xh.SignalBased)!==0&&(c=e[o][Fn]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):oS(e,c,o,r)}finally{Ie(i)}}function vA(n,e,t,r,i){let o=wo(),s=r&2;try{po(-1),s&&e.length>Rt&&yA(n,e,Rt,!1),Ke(s?2:0,i),t(r,i)}finally{po(o),Ke(s?3:1,i)}}function Rh(n,e,t){PL(n,e,t),(t.flags&64)===64&&xL(n,e,t)}function _v(n,e,t=fr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DL(n,e,t,r){let o=r.get(M2,JS)||t===ur.ShadowDom,s=n.selectRootElement(e,o);return TL(s),s}function TL(n){SL(n)}var SL=()=>null;function AL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function _A(n,e,t,r,i,o,s,a){if(!a&&wv(e,n,t,r,i)){Qs(e)&&ML(t,e.index);return}if(e.type&3){let c=fr(e,t);r=AL(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function ML(n,e){let t=cr(e,n);t[ye]&16||(t[ye]|=64)}function PL(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Qs(t)&&bL(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Vc(e,n,s,t);if(Xs(c,e),o!==null&&kL(e,s-r,c,a,t,o),sr(a)){let l=cr(t.index,e);l[wt]=Vc(e,n,s,t)}}}function xL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$F();try{po(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];Hy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&RL(c,l)}}finally{po(-1),Hy(s)}}function RL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Ev(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];lL(e,o.selectors,!1)&&(r??=[],sr(o)?r.unshift(o):r.push(o))}return r}function OL(n,e,t,r,i,o){let s=fr(n,e);NL(e[Ct],s,o,n.value,t,r,i)}function NL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Gc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function kL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];i0(r,t,c,l)}}function FL(n,e){let t=n[js],r=t?t.get($n,null):null;r&&r.handleError(e)}function wv(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],d=s[c+1],f=e.data[l];i0(f,t[l],d,i),a=!0}if(o)for(let c of o){let l=t[c],d=e.data[c];i0(d,l,r,i),a=!0}return a}function LL(n,e){let t=cr(e,n),r=t[me];VL(r,t);let i=t[Br];i!==null&&t[Fc]===null&&(t[Fc]=XS(i,t[js])),Ke(18),Cv(r,t,t[wt]),Ke(19,t[wt])}function VL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cv(n,e,t){X0(e);try{let r=n.viewQuery;r!==null&&e0(1,r,t);let i=n.template;i!==null&&vA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ur]?.finishViewCreation(n),n.staticContentQueries&&eA(n,e),n.staticViewQueries&&e0(2,n.viewQuery,t);let o=n.components;o!==null&&UL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ye]&=-5,ev()}}function UL(n,e){for(let t=0;t<e.length;t++)LL(n,e[t])}function Oh(n,e,t,r){let i=Ie(null);try{let o=e.tView,a=n[ye]&4096?4096:16,c=yv(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[lo]=l;let d=n[Ur];return d!==null&&(c[Ur]=d.createEmbeddedView(o)),Cv(o,c,t),c}finally{Ie(i)}}function Uc(n,e){return!e||e.firstChild===null||HS(n)}var BL;function Iv(n,e){return BL(n,e)}var lr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(lr||{});function EA(n){return(n.flags&32)===32}function Ls(n,e,t,r,i){if(r!=null){let o,s=!1;jr(r)?o=r:Ci(r)&&(s=!0,r=r[Br]);let a=ar(r);n===0&&t!==null?i==null?fA(e,t,a):sh(e,t,a,i||null,!0):n===1&&t!==null?sh(e,t,a,i||null,!0):n===2?_L(e,a,s):n===3&&e.destroyNode(a),o!=null&&ZL(e,n,o,t,i)}}function jL(n,e){wA(n,e),e[Br]=null,e[zn]=null}function $L(n,e,t,r,i,o){r[Br]=i,r[zn]=e,Fh(n,r,t,1,i,o)}function wA(n,e){e[Vr].changeDetectionScheduler?.notify(9),Fh(n,e,e[Ct],2,null,null)}function HL(n){let e=n[Lc];if(!e)return by(n[me],n);for(;e;){let t=null;if(Ci(e))t=e[Lc];else{let r=e[Ut];r&&(t=r)}if(!t){for(;e&&!e[Bn]&&e!==n;)Ci(e)&&by(e[me],e),e=e[Bt];e===null&&(e=n),Ci(e)&&by(e[me],e),t=e&&e[Bn]}e=t}}function bv(n,e){let t=n[$s],r=t.indexOf(e);t.splice(r,1)}function Nh(n,e){if(Ys(e))return;let t=e[Ct];t.destroyNode&&Fh(n,e,t,3,null,null),HL(e)}function by(n,e){if(Ys(e))return;let t=Ie(null);try{e[ye]&=-129,e[ye]|=256,e[Sn]&&zm(e[Sn]),qL(n,e),zL(n,e),e[me].type===1&&e[Ct].destroy();let r=e[lo];if(r!==null&&jr(e[Bt])){r!==e[Bt]&&bv(r,e);let i=e[Ur];i!==null&&i.detachView(n)}Zy(e)}finally{Ie(t)}}function zL(n,e){let t=n.cleanup,r=e[Qd];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Qd]=null);let i=e[wi];if(i!==null){e[wi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Yd];if(o!==null){e[Yd]=null;for(let s of o)s.destroy()}}function qL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof go)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ke(4,a,c);try{c.call(a)}finally{Ke(5,a,c)}}else{Ke(4,i,o);try{o.call(i)}finally{Ke(5,i,o)}}}}}function GL(n,e,t){return WL(n,e.parent,t)}function WL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Br];if(Qs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ur.None||i===ur.Emulated)return null}return fr(r,t)}function KL(n,e,t){return YL(n,e,t)}function QL(n,e,t){return n.type&40?fr(n,t):null}var YL=QL,pT;function kh(n,e,t,r){let i=GL(n,r,e),o=e[Ct],s=r.parent||e[zn],a=KL(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)fT(o,i,t[c],a,!1);else fT(o,i,t,a,!1);pT!==void 0&&pT(o,r,e,t,i)}function Rc(n,e){if(e!==null){let t=e.type;if(t&3)return fr(e,n);if(t&4)return o0(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Rc(n,r);{let i=n[e.index];return jr(i)?o0(-1,i):ar(i)}}else{if(t&128)return Rc(n,e.next);if(t&32)return Iv(e,n)()||ar(n[e.index]);{let r=CA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=fo(n[jn]);return Rc(i,r)}else return Rc(n,e.next)}}}return null}function CA(n,e){if(e!==null){let r=n[jn][zn],i=e.projection;return r.projection[i]}return null}function o0(n,e){let t=Ut+n+1;if(t<e.length){let r=e[t],i=r[me].firstChild;if(i!==null)return Rc(r,i)}return e[ho]}function Dv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Xs(ar(a),r),t.flags|=2),!EA(t))if(c&8)Dv(n,e,t.child,r,i,o,!1),Ls(e,n,i,a,o);else if(c&32){let l=Iv(t,r),d;for(;d=l();)Ls(e,n,i,d,o);Ls(e,n,i,a,o)}else c&16?JL(n,e,r,t,i,o):Ls(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Fh(n,e,t,r,i,o){Dv(t,r,n.firstChild,e,i,o,!1)}function JL(n,e,t,r,i,o){let s=t[jn],c=s[zn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ls(e,n,i,d,o)}else{let l=c,d=s[Bt];HS(r)&&(l.flags|=128),Dv(n,e,l,d,i,o,!0)}}function ZL(n,e,t,r,i){let o=t[ho],s=ar(t);o!==s&&Ls(e,n,r,o,i);for(let a=Ut;a<t.length;a++){let c=t[a];Fh(c[me],c,n,e,r,o)}}function XL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:lr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=lr.Important),n.setStyle(t,r,i,o))}}function ah(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(ar(o)),jr(o)&&e3(o,r);let s=t.type;if(s&8)ah(n,e,t.child,r);else if(s&32){let a=Iv(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=CA(e,t);if(Array.isArray(a))r.push(...a);else{let c=fo(e[jn]);ah(c[me],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function e3(n,e){for(let t=Ut;t<n.length;t++){let r=n[t],i=r[me].firstChild;i!==null&&ah(r[me],r,i,e)}n[ho]!==n[Br]&&e.push(n[ho])}function IA(n){if(n[wy]!==null){for(let e of n[wy])e.impl.addSequence(e);n[wy].length=0}}var bA=[];function t3(n){return n[Sn]??n3(n)}function n3(n){let e=bA.pop()??Object.create(i3);return e.lView=n,e}function r3(n){n.lView[Sn]!==n&&(n.lView=null,bA.push(n))}var i3=le(j({},wc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ch(n.lView)},consumerOnSignalRead(){this.lView[Sn]=this}});function o3(n){let e=n[Sn]??Object.create(s3);return e.lView=n,e}var s3=le(j({},wc),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=fo(n.lView);for(;e&&!DA(e[me]);)e=fo(e);e&&hS(e)},consumerOnSignalRead(){this.lView[Sn]=this}});function DA(n){return n.type!==2}function TA(n){if(n[Yd]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Yd])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ye]&8192)}}var a3=100;function SA(n,e=!0,t=0){let i=n[Vr].rendererFactory,o=!1;o||i.begin?.();try{c3(n,t)}catch(s){throw e&&FL(n,s),s}finally{o||i.end?.()}}function c3(n,e){let t=mS();try{KD(!0),s0(n,e);let r=0;for(;wh(n);){if(r===a3)throw new V(103,!1);r++,s0(n,1)}}finally{KD(t)}}function u3(n,e,t,r){if(Ys(e))return;let i=e[ye],o=!1,s=!1;X0(e);let a=!0,c=null,l=null;o||(DA(n)?(l=t3(e),c=ed(l)):Vm()===null?(a=!1,l=o3(e),c=ed(l)):e[Sn]&&(zm(e[Sn]),e[Sn]=null));try{dS(e),VF(n.bindingStartIndex),t!==null&&vA(n,e,t,2,r);let d=(i&3)===3;if(!o)if(d){let g=n.preOrderCheckHooks;g!==null&&Ud(e,g,null)}else{let g=n.preOrderHooks;g!==null&&Bd(e,g,0,null),Cy(e,0)}if(s||l3(e),TA(e),AA(e,0),n.contentQueries!==null&&eA(n,e),!o)if(d){let g=n.contentCheckHooks;g!==null&&Ud(e,g)}else{let g=n.contentHooks;g!==null&&Bd(e,g,1),Cy(e,1)}h3(n,e);let f=n.components;f!==null&&PA(e,f,0);let m=n.viewQuery;if(m!==null&&e0(2,m,r),!o)if(d){let g=n.viewCheckHooks;g!==null&&Ud(e,g)}else{let g=n.viewHooks;g!==null&&Bd(e,g,2),Cy(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Ey]){for(let g of e[Ey])g();e[Ey]=null}o||(IA(e),e[ye]&=-73)}catch(d){throw o||Ch(e),d}finally{l!==null&&($m(l,c),a&&r3(l)),ev()}}function AA(n,e){for(let t=GS(n);t!==null;t=WS(t))for(let r=Ut;r<t.length;r++){let i=t[r];MA(i,e)}}function l3(n){for(let e=GS(n);e!==null;e=WS(e)){if(!(e[ye]&2))continue;let t=e[$s];for(let r=0;r<t.length;r++){let i=t[r];hS(i)}}}function d3(n,e,t){Ke(18);let r=cr(e,n);MA(r,t),Ke(19,r[wt])}function MA(n,e){W0(n)&&s0(n,e)}function s0(n,e){let r=n[me],i=n[ye],o=n[Sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Hm(o)),s||=!1,o&&(o.dirty=!1),n[ye]&=-9217,s)u3(r,n,r.template,n[wt]);else if(i&8192){TA(n),AA(n,1);let a=r.components;a!==null&&PA(n,a,1),IA(n)}}function PA(n,e,t){for(let r=0;r<e.length;r++)d3(n,e[r],t)}function h3(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)po(~i);else{let o=i,s=t[++r],a=t[++r];jF(s,o);let c=e[o];Ke(24,c),a(2,c),Ke(25,c)}}}finally{po(-1)}}function Tv(n,e){let t=mS()?64:1088;for(n[Vr].changeDetectionScheduler?.notify(e);n;){n[ye]|=t;let r=fo(n);if(Zd(n)&&!r)return n;n=r}return null}function xA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function RA(n,e){let t=Ut+e;if(t<n.length)return n[t]}function Lh(n,e,t,r=!0){let i=e[me];if(f3(i,e,n,t),r){let s=o0(t,n),a=e[Ct],c=a.parentNode(n[ho]);c!==null&&$L(i,n[zn],a,e,c,s)}let o=e[Fc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function OA(n,e){let t=Bc(n,e);return t!==void 0&&Nh(t[me],t),t}function Bc(n,e){if(n.length<=Ut)return;let t=Ut+e,r=n[t];if(r){let i=r[lo];i!==null&&i!==n&&bv(i,r),e>0&&(n[t-1][Bn]=r[Bn]);let o=Wd(n,Ut+e);jL(r[me],r);let s=o[Ur];s!==null&&s.detachView(o[me]),r[Bt]=null,r[Bn]=null,r[ye]&=-129}return r}function f3(n,e,t,r){let i=Ut+r,o=t.length;r>0&&(t[i-1][Bn]=e),r<o-Ut?(e[Bn]=t[i],WT(t,Ut+r,e)):(t.push(e),e[Bn]=null),e[Bt]=t;let s=e[lo];s!==null&&t!==s&&NA(s,e);let a=e[Ur];a!==null&&a.insertView(n),jy(e),e[ye]|=128}function NA(n,e){let t=n[$s],r=e[Bt];if(Ci(r))n[ye]|=2;else{let i=r[Bt][jn];e[jn]!==i&&(n[ye]|=2)}t===null?n[$s]=[e]:t.push(e)}var jc=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[me];return ah(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[wt]}set context(e){this._lView[wt]=e}get destroyed(){return Ys(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Bt];if(jr(e)){let t=e[Jd],r=t?t.indexOf(this):-1;r>-1&&(Bc(e,r),Wd(t,r))}this._attachedToViewContainer=!1}Nh(this._lView[me],this._lView)}onDestroy(e){fS(this._lView,e)}markForCheck(){Tv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ye]&=-129}reattach(){jy(this._lView),this._lView[ye]|=128}detectChanges(){this._lView[ye]|=1024,SA(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zd(this._lView),t=this._lView[lo];t!==null&&!e&&bv(t,this._lView),wA(this._lView[me],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=Zd(this._lView),r=this._lView[lo];r!==null&&!t&&NA(r,this._lView),jy(this._lView)}};var Hn=(()=>{class n{static __NG_ELEMENT_ID__=m3}return n})(),p3=Hn,g3=class extends p3{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Oh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new jc(i)}};function m3(){return Vh(on(),Te())}function Vh(n,e){return n.type&4?new g3(e,n,Zs(n,e)):null}function Uh(n,e,t,r,i){let o=n.data[e];if(o===null)o=y3(n,e,t,r,i),BF()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=FF();o.injectorIndex=s===null?-1:s.injectorIndex}return _o(o,!0),o}function y3(n,e,t,r,i){let o=pS(),s=J0(),a=s?o:o&&o.parent,c=n.data[e]=_3(n,a,t,e,r,i);return v3(n,c,o,s),c}function v3(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function _3(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return OF()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var aee=new RegExp(`^(\\d+)*(${A2}|${S2})*(.*)`);var E3=()=>null;function $c(n,e){return E3(n,e)}var w3=class{},kA=class{},a0=class{resolveComponentFactory(e){throw Error(`No component factory found for ${rn(e)}.`)}},Bh=class{static NULL=new a0},bi=class{},Qt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>C3()}return n})();function C3(){let n=Te(),e=on(),t=cr(e.index,n);return(Ci(t)?t:n)[Ct]}var I3=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>null})}return n})();var Dy={},c0=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yh(r);let i=this.injector.get(e,Dy,r);return i!==Dy||t===Dy?i:this.parentInjector.get(e,t,r)}};function u0(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=UD(i,a);else if(o==2){let c=a,l=e[++s];r=UD(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function U(n,e=we.Default){let t=Te();if(t===null)return W(n,e);let r=on();return RS(r,t,Wt(n),e)}function Sv(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,d=D3(s);d===null?a=s:[a,c,l]=d,A3(n,e,t,a,o,c,l)}o!==null&&r!==null&&b3(t,r,o)}function b3(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function D3(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&sr(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,T3(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function T3(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function S3(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function A3(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let g=r[m];!c&&sr(g)&&(c=!0,S3(n,t,m)),qy(nh(t,e),n,g.type)}N3(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let l=!1,d=!1,f=mA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Hs(t.mergedAttrs,g.hostAttrs),P3(n,t,e,f,g),O3(f,g,i),s!==null&&s.has(g)){let[C,S]=s.get(g);t.directiveToIndex.set(g.type,[f,C+t.directiveStart,S+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,f);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let _=g.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),f++}M3(n,t,o)}function M3(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))gT(0,e,i,r),gT(1,e,i,r),yT(e,r,!1);else{let o=t.get(i);mT(0,e,o,r),mT(1,e,o,r),yT(e,r,!0)}}}function gT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),FA(e,o)}}function mT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),FA(e,s)}}function FA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function yT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||gv(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===e){s??=[],s.push(l[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function P3(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=co(i.type,!0)),s=new go(o,sr(i),U);n.blueprint[r]=s,t[r]=s,x3(n,e,r,mA(n,t,i.hostVars,gr),i)}function x3(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;R3(s)!=a&&s.push(a),s.push(t,r,o)}}function R3(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function O3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;sr(e)&&(t[""]=n)}}function N3(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function LA(n,e,t,r,i,o,s,a){let c=e.consts,l=Ii(c,s),d=Uh(e,n,2,r,l);return o&&Sv(e,t,d,Ii(c,a),i),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),d.attrs!==null&&u0(d,d.attrs,!1),d.mergedAttrs!==null&&u0(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function VA(n,e){iv(n,e),z0(e)&&n.queries.elementEnd(e)}var ch=class extends Bh{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Us(e);return new Hc(t,this.ngModule)}};function k3(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&xh.SignalBased)!==0};return i&&(o.transform=i),o})}function F3(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function L3(n,e,t){let r=e instanceof xt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new c0(t,r):t}function V3(n){let e=n.get(bi,null);if(e===null)throw new V(407,!1);let t=n.get(I3,null),r=n.get(zs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function U3(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return hA(e,t,t==="svg"?uS:t==="math"?IF:null)}var Hc=class extends kA{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=k3(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=F3(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=pL(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ke(22);let o=Ie(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:gL(this.componentDef.selectors[0]),c=mv(0,null,null,1,0,null,null,null,null,[a],null),l=L3(s,i||this.ngModule,e),d=V3(l),f=d.rendererFactory.createRenderer(null,s),m=r?DL(f,r,s.encapsulation,l):U3(s,f),g=yv(null,c,null,512|gA(s),null,null,d,f,l,null,XS(m,l,!0));g[Rt]=m,X0(g);let _=null;try{let C=LA(Rt,c,g,"#host",()=>[this.componentDef],!0,0);m&&(pA(f,m,C),Xs(m,g)),Rh(c,g,C),hv(c,C,g),VA(c,C),t!==void 0&&B3(C,this.ngContentSelectors,t),_=cr(C.index,g),g[wt]=_[wt],Cv(c,g,null)}catch(C){throw _!==null&&Zy(_),Zy(g),C}finally{Ke(23),ev()}return new l0(this.componentType,g)}finally{Ie(o)}}},l0=class extends w3{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=q0(t[me],Rt),this.location=Zs(this._tNode,t),this.instance=cr(this._tNode.index,t)[wt],this.hostView=this.changeDetectorRef=new jc(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=wv(r,i[me],i,e,t);this.previousInputValues.set(e,t);let s=cr(r.index,i);Tv(s,1)}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function B3(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var qn=(()=>{class n{static __NG_ELEMENT_ID__=j3}return n})();function j3(){let n=on();return BA(n,Te())}var $3=qn,UA=class extends $3{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=ov(this._hostTNode,this._hostLView);if(TS(e)){let t=eh(e,this._hostLView),r=Xd(e),i=t[me].data[r+8];return new ao(i,t)}else return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=vT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ut}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=$c(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Uc(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!_F(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new Hc(Us(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let C=(s?l:this.parentInjector).get(xt,null);C&&(o=C)}let d=Us(c.componentType??{}),f=$c(this._lContainer,d?.id??null),m=f?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,Uc(this._hostTNode,f)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(TF(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Bt],l=new UA(c,c[zn],c[Bt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Lh(s,i,o,r),e.attachToViewContainerRef(),WT(Ty(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=vT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Bc(this._lContainer,t);r&&(Wd(Ty(this._lContainer),t),Nh(r[me],r))}detach(e){let t=this._adjustIndex(e,-1),r=Bc(this._lContainer,t);return r&&Wd(Ty(this._lContainer),t)!=null?new jc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function vT(n){return n[Jd]}function Ty(n){return n[Jd]||(n[Jd]=[])}function BA(n,e){let t,r=e[n.index];return jr(r)?t=r:(t=xA(r,e,null,n),e[n.index]=t,vv(e,t)),z3(t,e,n,r),new UA(t,n,e)}function H3(n,e){let t=n[Ct],r=t.createComment(""),i=fr(e,n),o=t.parentNode(i);return sh(t,o,r,t.nextSibling(i),!1),r}var z3=W3,q3=()=>!1;function G3(n,e,t){return q3(n,e,t)}function W3(n,e,t,r){if(n[ho])return;let i;t.type&8?i=ar(r):i=H3(e,t),n[ho]=i}var d0=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},h0=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Av(e,t).matches!==null&&this.queries[t].setDirty()}},uh=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=tV(e):this.predicate=e}},f0=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},p0=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,K3(t,o)),this.matchTNodeWithReadOption(e,t,jd(t,e,o,!1,!1))}else r===Hn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,jd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===jt||i===qn||i===Hn&&t.type&4)this.addMatch(t.index,-2);else{let o=jd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function K3(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function Q3(n,e){return n.type&11?Zs(n,e):n.type&4?Vh(n,e):null}function Y3(n,e,t,r){return t===-1?Q3(e,n):t===-2?J3(n,e,r):Vc(n,n[me],t,e)}function J3(n,e,t){if(t===jt)return Zs(e,n);if(t===Hn)return Vh(e,n);if(t===qn)return BA(e,n)}function jA(n,e,t,r){let i=e[Ur].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let d=o[l];a.push(Y3(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function g0(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=jA(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],d=e[-c];for(let f=Ut;f<d.length;f++){let m=d[f];m[lo]===m[Bt]&&g0(m[me],m,l,r)}if(d[$s]!==null){let f=d[$s];for(let m=0;m<f.length;m++){let g=f[m];g0(g[me],g,l,r)}}}}}return r}function Z3(n,e){return n[Ur].queries[e].queryList}function $A(n,e,t){let r=new Jy((t&4)===4);return MF(n,e,r,r.destroy),(e[Ur]??=new h0).queries.push(new d0(r))-1}function X3(n,e,t){let r=It();return r.firstCreatePass&&(HA(r,new uh(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),$A(r,Te(),e)}function eV(n,e,t,r){let i=It();if(i.firstCreatePass){let o=on();HA(i,new uh(e,t,r),o.index),nV(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return $A(i,Te(),t)}function tV(n){return n.split(",").map(e=>e.trim())}function HA(n,e,t){n.queries===null&&(n.queries=new f0),n.queries.track(new p0(e,t))}function nV(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Av(n,e){return n.queries.getByIndex(e)}function rV(n,e){let t=n[me],r=Av(t,e);return r.crossesNgTemplate?g0(t,n,e,[]):jA(t,n,r,e)}var qs=class{},Mv=class{};var m0=class extends qs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ch(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=YT(e);this._bootstrapComponents=lA(o.bootstrap),this._r3Injector=kS(e,t,[{provide:qs,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver},...r],rn(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},y0=class extends Mv{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new m0(this.moduleType,e,[])}};var lh=class extends qs{injector;componentFactoryResolver=new ch(this);instance=null;constructor(e){super();let t=new kc([...e.providers,{provide:qs,useValue:this},{provide:Bh,useValue:this.componentFactoryResolver}],e.parent||H0(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function jh(n,e,t=null){return new lh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var iV=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=JT(!1,t.type),i=r.length>0?jh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(W(xt))})}return n})();function it(n){return qc(()=>{let e=zA(n),t=le(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===zS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(iV).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ur.Emulated,styles:n.styles||Tn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ea("NgStandalone"),qA(t);let r=n.dependencies;return t.directiveDefs=_T(r,!1),t.pipeDefs=_T(r,!0),t.id=uV(t),t})}function oV(n){return Us(n)||aF(n)}function sV(n){return n!==null}function yn(n){return qc(()=>({type:n.type,bootstrap:n.bootstrap||Tn,declarations:n.declarations||Tn,imports:n.imports||Tn,exports:n.exports||Tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aV(n,e){if(n==null)return uo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=xh.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function cV(n){if(n==null)return uo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Qe(n){return qc(()=>{let e=zA(n);return qA(e),e})}function Jc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function zA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||uo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aV(n.inputs,e),outputs:cV(n.outputs),debugInfo:null}}function qA(n){n.features?.forEach(e=>e(n))}function _T(n,e){if(!n)return null;let t=e?cF:oV;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(sV)}function uV(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lV(n){return Object.getPrototypeOf(n.prototype).constructor}function Hr(n){let e=lV(n.type),t=!0,r=[n];for(;e;){let i;if(sr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Sy(n.inputs),s.declaredInputs=Sy(n.declaredInputs),s.outputs=Sy(n.outputs);let a=i.hostBindings;a&&gV(n,a);let c=i.viewQuery,l=i.contentQueries;if(c&&fV(n,c),l&&pV(n,l),dV(n,i),U4(n.outputs,i.outputs),sr(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Hr&&(t=!1)}}e=Object.getPrototypeOf(e)}hV(r)}function dV(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function hV(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Hs(i.hostAttrs,t=Hs(t,i.hostAttrs))}}function Sy(n){return n===uo?{}:n===Tn?[]:n}function fV(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function pV(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function gV(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function GA(n){return Pv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mV(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Pv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Zc(n,e,t){return n[e]=t}function WA(n,e){return n[e]}function dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function v0(n,e,t,r){let i=dr(n,e,t);return dr(n,e+1,r)||i}function KA(n,e,t,r,i,o){let s=v0(n,e,t,r);return v0(n,e+2,i,o)||s}function yV(n,e,t,r,i,o,s,a,c){let l=e.consts,d=Uh(e,n,4,s||null,a||null);Y0()&&Sv(e,t,d,Ii(l,c),Ev),d.mergedAttrs=Hs(d.mergedAttrs,d.attrs),iv(e,d);let f=d.tView=mv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function _0(n,e,t,r,i,o,s,a,c,l){let d=t+Rt,f=e.firstCreatePass?yV(d,e,n,r,i,o,s,a,c):e.data[d];_o(f,!1);let m=vV(e,n,f,t);Ih()&&kh(e,n,m,f),Xs(m,n);let g=xA(m,n,m,f);return n[d]=g,vv(n,g),G3(g,f,n),Eh(f)&&Rh(e,n,f),c!=null&&_v(n,f,l),f}function te(n,e,t,r,i,o,s,a){let c=Te(),l=It(),d=Ii(l.consts,o);return _0(c,l,n,e,t,r,i,d,s,a),te}var vV=_V;function _V(n,e,t,r){return bh(!0),e[Ct].createComment("")}var QA=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var YA=new K("");var EV=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:()=>new E0})}return n})(),E0=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ti(n){return!!n&&typeof n.then=="function"}function xv(n){return!!n&&typeof n.subscribe=="function"}var wV=new K("");var JA=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=$(wV,{optional:!0})??[];injector=$(Kt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ot(this.injector,i);if(Ti(o))t.push(o);else if(xv(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rv=new K("");function CV(){Gm(()=>{throw new V(600,!1)})}function IV(n){return n.isBoundToModule}var bV=10;var mo=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=$(y2);afterRenderManager=$(P2);zonelessEnabled=$(LS);rootEffectScheduler=$(EV);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new De;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=$(pr).hasPendingTasks.pipe(ee(t=>!t));constructor(){$(Sh,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=$(xt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Kt.NULL){Ke(10);let o=t instanceof kA;if(!this._injector.get(JA).done){let g="";throw new V(405,g)}let a;o?a=t:a=this._injector.get(Bh).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=IV(a)?void 0:this._injector.get(qs),l=r||a.selector,d=a.create(i,[],l,c),f=d.location.nativeElement,m=d.injector.get(YA,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),$d(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),Ke(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ke(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ZS.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Ie(t),this.afterTick.next(),Ke(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(bi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<bV;)Ke(14),this.synchronizeOnce(),Ke(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)DV(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$d(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Rv,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$d(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $d(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function DV(n,e,t,r){if(!t&&!wh(n))return;SA(n,e,t&&!r?0:1)}function Xc(n,e,t,r){let i=Te(),o=Kc();if(dr(i,o,e)){let s=It(),a=tv();OL(a,i,n,e,t,r)}return Xc}function ZA(n,e,t,r){return dr(n,Kc(),t)?e+Gc(t)+r:gr}function Ld(n,e){return n<<17|e<<2}function yo(n){return n>>17&32767}function TV(n){return(n&2)==2}function SV(n,e){return n&131071|e<<17}function w0(n){return n|2}function Gs(n){return(n&131068)>>2}function Ay(n,e){return n&-131069|e<<2}function AV(n){return(n&1)===1}function C0(n){return n|1}function MV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yo(s),c=Gs(s);n[r]=t;let l=!1,d;if(Array.isArray(t)){let f=t;d=f[1],(d===null||Wc(f,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let m=yo(n[a+1]);n[r+1]=Ld(m,a),m!==0&&(n[m+1]=Ay(n[m+1],r)),n[a+1]=SV(n[a+1],r)}else n[r+1]=Ld(a,0),a!==0&&(n[a+1]=Ay(n[a+1],r)),a=r;else n[r+1]=Ld(c,0),a===0?a=r:n[c+1]=Ay(n[c+1],r),c=r;l&&(n[r+1]=w0(n[r+1])),ET(n,d,r,!0),ET(n,d,r,!1),PV(e,d,n,r,o),s=Ld(a,c),o?e.classBindings=s:e.styleBindings=s}function PV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wc(o,e)>=0&&(t[r+1]=C0(t[r+1]))}function ET(n,e,t,r){let i=n[t+1],o=e===null,s=r?yo(i):Gs(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];xV(c,e)&&(a=!0,n[s+1]=r?C0(l):w0(l)),s=r?yo(l):Gs(l)}a&&(n[t+1]=r?w0(i):C0(i))}function xV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wc(n,e)>=0:!1}function F(n,e,t){let r=Te(),i=Kc();if(dr(r,i,e)){let o=It(),s=tv();_A(o,s,r,n,e,r[Ct],t,!1)}return F}function wT(n,e,t,r,i){wv(e,n,t,i?"class":"style",r)}function eu(n,e,t){return XA(n,e,t,!1),eu}function Si(n,e){return XA(n,e,null,!0),Si}function XA(n,e,t,r){let i=Te(),o=It(),s=UF(2);if(o.firstUpdatePass&&OV(o,n,s,r),e!==gr&&dr(i,s,e)){let a=o.data[wo()];VV(o,a,i,i[Ct],n,i[s+1]=UV(e,t),r,s)}}function RV(n,e){return e>=n.expandoStartIndex}function OV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[wo()],s=RV(n,t);BV(o,r)&&e===null&&!s&&(e=!1),e=NV(i,o,e,r),MV(i,o,e,t,s,r)}}function NV(n,e,t,r){let i=HF(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=My(null,n,e,t,r),t=zc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=My(i,n,e,t,r),o===null){let c=kV(n,e,r);c!==void 0&&Array.isArray(c)&&(c=My(null,n,e,c[1],r),c=zc(c,e.attrs,r),FV(n,e,r,c))}else o=LV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function kV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Gs(r)!==0)return n[yo(r)]}function FV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[yo(i)]=r}function LV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=zc(r,s,t)}return zc(r,e.attrs,t)}function My(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=zc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function zc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),oF(n,s,t?!0:e[++o]))}return n===void 0?null:n}function VV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],d=AV(l)?CT(c,e,t,i,Gs(l),s):void 0;if(!dh(d)){dh(o)||TV(l)&&(o=CT(c,null,t,i,a,s));let f=lS(wo(),t);XL(r,s,f,i,o)}}function CT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,m=t[i+1];m===gr&&(m=f?Tn:void 0);let g=f?vy(m,r):d===r?m:void 0;if(l&&!dh(g)&&(g=vy(c,r)),dh(g)&&(a=g,s))return a;let _=n[i+1];i=s?yo(_):Gs(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=vy(c,r))}return a}function dh(n){return n!==void 0}function UV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rn(Mh(n)))),n}function BV(n,e){return(n.flags&(e?8:16))!==0}var I0=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Py(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function jV(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),d=e[o],f=Py(o,l,o,d,t);if(f!==0){f<0&&n.updateValue(o,d),o++;continue}let m=n.at(s),g=e[c],_=Py(s,m,c,g,t);if(_!==0){_<0&&n.updateValue(s,g),s--,c--;continue}let C=t(o,l),S=t(s,m),k=t(o,d);if(Object.is(k,S)){let H=t(c,g);Object.is(H,C)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new hh,i??=bT(n,o,s,t),b0(n,r,o,k))n.updateValue(o,d),o++,s++;else if(i.has(k))r.set(C,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)IT(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let d=n.at(o),f=l.value,m=Py(o,d,o,f,t);if(m!==0)m<0&&n.updateValue(o,f),o++,l=c.next();else{r??=new hh,i??=bT(n,o,s,t);let g=t(o,f);if(b0(n,r,o,g))n.updateValue(o,f),o++,s++,l=c.next();else if(!i.has(g))n.attach(o,n.create(o,f)),o++,s++,l=c.next();else{let _=t(o,d);r.set(_,n.detach(o)),s--}}}for(;!l.done;)IT(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function b0(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function IT(n,e,t,r,i){if(b0(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function bT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var hh=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function $h(n,e){ea("NgControlFlow");let t=Te(),r=Kc(),i=t[r]!==gr?t[r]:-1,o=i!==-1?fh(t,Rt+i):void 0,s=0;if(dr(t,r,n)){let a=Ie(null);try{if(o!==void 0&&OA(o,s),n!==-1){let c=Rt+n,l=fh(t,c),d=A0(t[me],c),f=$c(l,d.tView.ssrId),m=Oh(t,d,e,{dehydratedView:f});Lh(l,m,s,Uc(d,f))}}finally{Ie(a)}}else if(o!==void 0){let a=RA(o,s);a!==void 0&&(a[wt]=e)}}var D0=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ut}};var T0=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Ov(n,e,t,r,i,o,s,a,c,l,d,f,m){ea("NgControlFlow");let g=Te(),_=It(),C=c!==void 0,S=Te(),k=a?s.bind(S[jn][wt]):s,H=new T0(C,k);S[Rt+n]=H,_0(g,_,n+1,e,t,r,i,Ii(_.consts,o)),C&&_0(g,_,n+2,c,l,d,f,Ii(_.consts,m))}var S0=class extends I0{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ut}at(e){return this.getLView(e)[wt].$implicit}attach(e,t){let r=t[Fc];this.needsIndexUpdate||=e!==this.length,Lh(this.lContainer,t,e,Uc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$V(this.lContainer,e)}create(e,t){let r=$c(this.lContainer,this.templateTNode.tView.ssrId),i=Oh(this.hostLView,this.templateTNode,new D0(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Nh(e[me],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[wt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[wt].$index=e}getLView(e){return HV(this.lContainer,e)}};function Nv(n){let e=Ie(null),t=wo();try{let r=Te(),i=r[me],o=r[t],s=t+1,a=fh(r,s);if(o.liveCollection===void 0){let l=A0(i,s);o.liveCollection=new S0(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(jV(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Kc(),d=c.length===0;if(dr(r,l,d)){let f=t+2,m=fh(r,f);if(d){let g=A0(i,f),_=$c(m,g.tView.ssrId),C=Oh(r,g,void 0,{dehydratedView:_});Lh(m,C,0,Uc(g,_))}else OA(m,0)}}}finally{Ie(e)}}function fh(n,e){return n[e]}function $V(n,e){return Bc(n,e)}function HV(n,e){return RA(n,e)}function A0(n,e){return q0(n,e)}function T(n,e,t,r){let i=Te(),o=It(),s=Rt+n,a=i[Ct],c=o.firstCreatePass?LA(s,o,i,e,Ev,Y0(),t,r):o.data[s],l=zV(o,i,c,a,e,n);i[s]=l;let d=Eh(c);return _o(c,!0),pA(a,l,c),!EA(c)&&Ih()&&kh(o,i,l,c),(PF()===0||d)&&Xs(l,i),xF(),d&&(Rh(o,i,c),hv(o,c,i)),r!==null&&_v(i,c),T}function P(){let n=on();J0()?gS():(n=n.parent,_o(n,!1));let e=n;NF(e)&&kF(),RF();let t=It();return t.firstCreatePass&&VA(t,e),e.classesWithoutHost!=null&&YF(e)&&wT(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&JF(e)&&wT(t,e,Te(),e.stylesWithoutHost,!1),P}function re(n,e,t,r){return T(n,e,t,r),P(),re}var zV=(n,e,t,r,i,o)=>(bh(!0),hA(r,i,WF()));function qV(n,e,t,r,i){let o=e.consts,s=Ii(o,r),a=Uh(e,n,8,"ng-container",s);s!==null&&u0(a,s,!0);let c=Ii(o,i);return Y0()&&Sv(e,t,a,c,Ev),a.mergedAttrs=Hs(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function tu(n,e,t){let r=Te(),i=It(),o=n+Rt,s=i.firstCreatePass?qV(o,i,r,e,t):i.data[o];_o(s,!0);let a=GV(i,r,s,n);return r[o]=a,Ih()&&kh(i,r,a,s),Xs(a,r),Eh(s)&&(Rh(i,r,s),hv(i,s,r)),t!=null&&_v(r,s),tu}function nu(){let n=on(),e=It();return J0()?gS():(n=n.parent,_o(n,!1)),e.firstCreatePass&&(iv(e,n),z0(n)&&e.queries.elementEnd(n)),nu}var GV=(n,e,t,r)=>(bh(!0),vL(e[Ct],""));function tt(){return Te()}var oo=void 0;function WV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var KV=["en",[["a","p"],["AM","PM"],oo],[["AM","PM"],oo,oo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],oo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],oo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",oo,"{1} 'at' {0}",oo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WV],xy={};function Hh(n){let e=QV(n),t=DT(e);if(t)return t;let r=e.split("-")[0];if(t=DT(r),t)return t;if(r==="en")return KV;throw new V(701,!1)}function DT(n){return n in xy||(xy[n]=Lr.ng&&Lr.ng.common&&Lr.ng.common.locales&&Lr.ng.common.locales[n]),xy[n]}var Io=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Io||{});function QV(n){return n.toLowerCase().replace(/_/g,"-")}var ph="en-US",YV="USD";var JV=ph;function ZV(n){typeof n=="string"&&(JV=n.toLowerCase().replace(/_/g,"-"))}function TT(n,e,t){return function r(i){if(i===Function)return t;let o=Qs(n)?cr(n.index,e):e;Tv(o,5);let s=e[wt],a=ST(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=ST(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function ST(n,e,t,r){let i=Ie(null);try{return Ke(6,e,t),t(r)!==!1}catch(o){return XV(n,o),!1}finally{Ke(7,e,t),Ie(i)}}function XV(n,e){let t=n[js],r=t?t.get($n,null):null;r&&r.handleError(e)}function AT(n,e,t,r,i,o){let s=e[t],a=e[me],l=a.data[t].outputs[r],d=s[l],f=a.firstCreatePass?Q0(a):null,m=K0(e),g=d.subscribe(o),_=m.length;m.push(o,g),f&&f.push(i,n.index,_,-(_+1))}function de(n,e,t,r){let i=Te(),o=It(),s=on();return tU(o,i,i[Ct],s,n,e,r),de}function eU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Qd],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function tU(n,e,t,r,i,o,s){let a=Eh(r),l=n.firstCreatePass?Q0(n):null,d=K0(e),f=!0;if(r.type&3||s){let m=fr(r,e),g=s?s(m):m,_=d.length,C=s?k=>s(ar(k[r.index])):r.index,S=null;if(!s&&a&&(S=eU(n,e,i,r.index)),S!==null){let k=S.__ngLastListenerFn__||S;k.__ngNextListenerFn__=o,S.__ngLastListenerFn__=o,f=!1}else{o=TT(r,e,o),R2(e,g,i,o);let k=t.listen(g,i,o);d.push(o,k),l&&l.push(i,C,_,_+1)}}else o=TT(r,e,o);if(f){let m=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let _=0;_<g.length;_+=2){let C=g[_],S=g[_+1];AT(r,e,C,S,i,o)}if(m&&m.length)for(let _ of m)AT(r,e,_,i,i,o)}}function Q(n=1){return qF(n)}function kv(n,e,t){return eM(n,"",e,"",t),kv}function eM(n,e,t,r,i){let o=Te(),s=ZA(o,e,t,r);if(s!==gr){let a=It(),c=tv();_A(a,c,o,n,s,o[Ct],i,!1)}return eM}function zh(n,e,t,r){eV(n,e,t,r)}function qh(n,e,t){X3(n,e,t)}function Ai(n){let e=Te(),t=It(),r=yS();Z0(r+1);let i=Av(t,r);if(n.dirty&&DF(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=rV(e,r);n.reset(o,E2),n.notifyOnChanges()}return!0}return!1}function Mi(){return Z3(Te(),yS())}function bo(n){let e=LF();return G0(e,Rt+n)}function N(n,e=""){let t=Te(),r=It(),i=n+Rt,o=r.firstCreatePass?Uh(r,i,1,e,null):r.data[i],s=nU(r,t,o,e,n);t[i]=s,Ih()&&kh(r,t,s,o),_o(o,!1)}var nU=(n,e,t,r,i)=>(bh(!0),mL(e[Ct],r));function $e(n){return Gn("",n,""),$e}function Gn(n,e,t){let r=Te(),i=ZA(r,n,e,t);return i!==gr&&rU(r,wo(),i),Gn}function rU(n,e,t){let r=lS(e,n);yL(n[Ct],r,t)}function iU(n,e,t){let r=It();if(r.firstCreatePass){let i=sr(n);M0(t,r.data,r.blueprint,i,!0),M0(e,r.data,r.blueprint,i,!1)}}function M0(n,e,t,r,i){if(n=Wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)M0(n[o],e,t,r,i);else{let o=It(),s=Te(),a=on(),c=Bs(n)?n:Wt(n.provide),l=eS(n),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(Bs(n)||!n.multi){let g=new go(l,i,U),_=Oy(c,e,i?d:d+m,f);_===-1?(qy(nh(a,s),o,c),Ry(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=Oy(c,e,d+m,f),_=Oy(c,e,d,d+m),C=g>=0&&t[g],S=_>=0&&t[_];if(i&&!S||!i&&!C){qy(nh(a,s),o,c);let k=aU(i?sU:oU,t.length,i,r,l);!i&&S&&(t[_].providerFactory=k),Ry(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=tM(t[i?_:g],l,!i&&r);Ry(o,n,g>-1?g:_,k)}!i&&r&&S&&t[_].componentProviders++}}}function Ry(n,e,t,r){let i=Bs(e),o=fF(e);if(i||o){let c=(o?Wt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function tM(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Oy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function oU(n,e,t,r,i){return P0(this.multi,[])}function sU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Vc(r,r[me],this.providerFactory.index,i);s=c.slice(0,a),P0(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],P0(o,s);return s}function P0(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function aU(n,e,t,r,i){let o=new go(n,t,U);return o.multi=[],o.index=e,o.componentProviders=0,tM(o,i,r&&!t),o}function Do(n,e=[]){return t=>{t.providersResolver=(r,i)=>iU(r,i?i(n):n,e)}}function Fv(n,e,t){let r=Eo()+n,i=Te();return i[r]===gr?Zc(i,r,t?e.call(t):e()):WA(i,r)}function To(n,e,t,r){return rM(Te(),Eo(),n,e,t,r)}function Gh(n,e,t,r,i){return cU(Te(),Eo(),n,e,t,r,i)}function nM(n,e,t,r,i,o,s){return iM(Te(),Eo(),n,e,t,r,i,o,s)}function Lv(n,e,t,r,i,o,s,a){let c=Eo()+n,l=Te(),d=KA(l,c,t,r,i,o);return dr(l,c+4,s)||d?Zc(l,c+5,a?e.call(a,t,r,i,o,s):e(t,r,i,o,s)):WA(l,c+5)}function Vv(n,e){let t=n[e];return t===gr?void 0:t}function rM(n,e,t,r,i,o){let s=e+t;return dr(n,s,i)?Zc(n,s+1,o?r.call(o,i):r(i)):Vv(n,s+1)}function cU(n,e,t,r,i,o,s){let a=e+t;return v0(n,a,i,o)?Zc(n,a+2,s?r.call(s,i,o):r(i,o)):Vv(n,a+2)}function iM(n,e,t,r,i,o,s,a,c){let l=e+t;return KA(n,l,i,o,s,a)?Zc(n,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):Vv(n,l+4)}function lt(n,e){let t=It(),r,i=n+Rt;t.firstCreatePass?(r=uU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=co(r.type,!0)),s,a=nn(U);try{let c=th(!1),l=o();return th(c),bF(t,Te(),i,l),l}finally{nn(a)}}function uU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function pt(n,e,t){let r=n+Rt,i=Te(),o=G0(i,r);return sM(i,r)?rM(i,Eo(),e,o.transform,t,o):o.transform(t)}function oM(n,e,t,r,i,o){let s=n+Rt,a=Te(),c=G0(a,s);return sM(a,s)?iM(a,Eo(),e,c.transform,t,r,i,o,c):c.transform(t,r,i,o)}function sM(n,e){return n[me].data[e].pure}function So(n,e){return Vh(n,e)}var Ws=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},aM=new Ws("19.2.13"),x0=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cM=(()=>{class n{compileModuleSync(t){return new y0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=YT(t),o=lA(i.declarations).reduce((s,a)=>{let c=Us(a);return c&&s.push(new Hc(c)),s},[]);return new x0(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lU=(()=>{class n{zone=$(ke);changeDetectionScheduler=$(zs);applicationRef=$(mo);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dU({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(le(j({},hU()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:Nc,multi:!0,useFactory:()=>{let r=$(lU,{optional:!0});return()=>r.initialize()}},{provide:Nc,multi:!0,useFactory:()=>{let r=$(fU);return()=>{r.initialize()}}},e===!0?{provide:VS,useValue:!0}:[],{provide:US,useValue:t??FS}]}function hU(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var fU=(()=>{class n{subscription=new ut;initialized=!1;zone=$(ke);pendingTasks=$(pr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pU=(()=>{class n{appRef=$(mo);taskService=$(pr);ngZone=$(ke);zonelessEnabled=$(LS);tracing=$(Sh,{optional:!0});disableScheduling=$(VS,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ut;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ih):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&($(US,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yy||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?eT:BS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ih+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,eT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gU(){return typeof $localize<"u"&&$localize.locale||ph}var Wh=new K("",{providedIn:"root",factory:()=>$(Wh,we.Optional|we.SkipSelf)||gU()}),uM=new K("",{providedIn:"root",factory:()=>YV});var R0=new K(""),mU=new K("");function Pc(n){return!n.moduleRef}function yU(n){let e=Pc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{Pc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get($n,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Pc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(R0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(R0);s.add(o),n.moduleRef.onDestroy(()=>{$d(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return _U(r,t,()=>{let o=e.get(JA);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Wh,ph);if(ZV(s||ph),!e.get(mU,!0))return Pc(n)?e.get(mo):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Pc(n)){let c=e.get(mo);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return vU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function vU(n,e){let t=n.injector.get(mo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new V(-403,!1);e.push(n)}function _U(n,e,t){try{let r=t();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Hd=null;function EU(n=[],e){return Kt.create({name:e,providers:[{provide:vh,useValue:"platform"},{provide:R0,useValue:new Set([()=>Hd=null])},...n]})}function wU(n=[]){if(Hd)return Hd;let e=EU(n);return Hd=e,CV(),CU(e),e}function CU(n){let e=n.get(uv,null);Ot(n,()=>{e?.forEach(t=>t())})}function ru(){return!1}var zr=(()=>{class n{static __NG_ELEMENT_ID__=IU}return n})();function IU(n){return bU(on(),Te(),(n&16)===16)}function bU(n,e,t){if(Qs(n)&&!t){let r=cr(n.index,e);return new jc(r,r)}else if(n.type&175){let r=e[jn];return new jc(r,e)}return null}var O0=class{constructor(){}supports(e){return GA(e)}create(e){return new N0(e)}},DU=(n,e)=>e,N0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||DU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<MT(r,i,o)?t:r,a=MT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,d=c-i;if(l!=d){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;d<=_&&_<l&&(o[m]=g+1)}let f=s.previousIndex;o[f]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!GA(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,mV(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new k0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new gh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},k0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},F0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},gh=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new F0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function MT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var L0=class{constructor(){}supports(e){return e instanceof Map||Pv(e)}create(){return new V0}},V0=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Pv(e)))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new U0(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},U0=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function PT(){return new Uv([new O0])}var Uv=(()=>{class n{factories;static \u0275prov=z({token:n,providedIn:"root",factory:PT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||PT()),deps:[[n,new GT,new hr]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function xT(){return new Bv([new L0])}var Bv=(()=>{class n{static \u0275prov=z({token:n,providedIn:"root",factory:xT});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xT()),deps:[[n,new GT,new hr]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new V(901,!1)}}return n})();function lM(n){Ke(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=wU(r),o=[dU({}),{provide:zs,useExisting:pU},...t||[]],s=new lh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return yU({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ke(9)}}function iu(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function vn(n){return Qm(n)}function Ao(n,e){return qm(n,e?.equal)}var RT=class{[Fn];constructor(e){this[Fn]=e}destroy(){this[Fn].destroy()}};var gt=new K("");var fM=null;function Mn(){return fM}function jv(n){fM??=n}var ou=class{},$v=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(pM),providedIn:"platform"})}return n})();var pM=(()=>{class n extends $v{_location;_history;_doc=$(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mn().getBaseHref(this._doc)}onPopState(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function gM(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function dM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function Pi(n){return n&&n[0]!=="?"?`?${n}`:n}var Mo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(yM),providedIn:"root"})}return n})(),mM=new K(""),yM=(()=>{class n extends Mo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??$(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gM(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W($v),W(mM,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ta=(()=>{class n{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=AU(dM(hM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pi(r))}normalize(t){return n.stripTrailingSlash(SU(this._basePath,hM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Pi;static joinWithSlash=gM;static stripTrailingSlash=dM;static \u0275fac=function(r){return new(r||n)(W(Mo))};static \u0275prov=z({token:n,factory:()=>TU(),providedIn:"root"})}return n})();function TU(){return new ta(W(Mo))}function SU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hM(n){return n.replace(/\/index.html$/,"")}function AU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var IM={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},Kv=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(Kv||{});var mr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function na(n,e){let t=Hh(n),r=t[Io.NumberSymbols][e];if(typeof r>"u"){if(e===mr.CurrencyDecimal)return t[Io.NumberSymbols][mr.Decimal];if(e===mr.CurrencyGroup)return t[Io.NumberSymbols][mr.Group]}return r}function bM(n,e){return Hh(n)[Io.NumberFormats][e]}function MU(n){return Hh(n)[Io.Currencies]}function DM(n,e,t="en"){let r=MU(t)[n]||IM[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var PU=2;function TM(n){let e,t=IM[n];return t&&(e=t[2]),typeof e=="number"?e:PU}var xU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,vM=22,Kh=".",su="0",RU=";",OU=",",Hv="#",_M="\xA4";function NU(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=na(t,mr.Infinity);else{let l=LU(n);s&&(l=FU(l));let d=e.minInt,f=e.minFrac,m=e.maxFrac;if(o){let H=o.match(xU);if(H===null)throw new Error(`${o} is not a valid digit info`);let G=H[1],oe=H[3],ze=H[5];G!=null&&(d=zv(G)),oe!=null&&(f=zv(oe)),ze!=null?m=zv(ze):oe!=null&&f>m&&(m=f)}VU(l,f,m);let g=l.digits,_=l.integerLen,C=l.exponent,S=[];for(c=g.every(H=>!H);_<d;_++)g.unshift(0);for(;_<0;_++)g.unshift(0);_>0?S=g.splice(_,g.length):(S=g,g=[0]);let k=[];for(g.length>=e.lgSize&&k.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)k.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&k.unshift(g.join("")),a=k.join(na(t,r)),S.length&&(a+=na(t,i)+S.join("")),C&&(a+=na(t,mr.Exponential)+"+"+C)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function SM(n,e,t,r,i){let o=bM(e,Kv.Currency),s=kU(o,na(e,mr.MinusSign));return s.minFrac=TM(r),s.maxFrac=s.minFrac,NU(n,s,e,mr.CurrencyGroup,mr.CurrencyDecimal,i).replace(_M,t).replace(_M,"").trim()}function kU(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(RU),i=r[0],o=r[1],s=i.indexOf(Kh)!==-1?i.split(Kh):[i.substring(0,i.lastIndexOf(su)+1),i.substring(i.lastIndexOf(su)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(Hv));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===su?t.minFrac=t.maxFrac=d+1:f===Hv?t.maxFrac=d+1:t.posSuf+=f}let l=a.split(OU);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-t.posPre.length-t.posSuf.length,f=o.indexOf(Hv);t.negPre=o.substring(0,f).replace(/'/g,""),t.negSuf=o.slice(f+d).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function FU(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function LU(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Kh))>-1&&(e=e.replace(Kh,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===su;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===su;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>vM&&(r=r.splice(0,vM-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function VU(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let f=s;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let f=1;f<s;f++)r[f]=0}if(a>=5)if(s-1<0){for(let f=0;f>s;f--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,d=r.reduceRight(function(f,m,g,_){return m=m+f,_[g]=m<10?m:m-10,c&&(_[g]===0&&g>=l?_.pop():c=!1),m>=10?1:0},0);d&&(r.unshift(d),n.integerLen++)}function zv(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var qv=/\s+/,EM=[],Zh=(()=>{class n{_ngEl;_renderer;initialClasses=EM;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(qv):EM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(qv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(qv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(U(jt),U(Qt))};static \u0275dir=Qe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Qh=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),wM(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);wM(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(qn),U(Hn),U(Uv))};static \u0275dir=Qe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function wM(n,e){n.context.$implicit=e.item}var Yt=(()=>{class n{_viewContainer;_context=new Yh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){CM(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){CM(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(U(qn),U(Hn))};static \u0275dir=Qe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Yh=class{$implicit=null;ngIf=null};function CM(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var Jh=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},au=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let r=t===this._ngSwitch;return this._lastCasesMatched||=r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let r of this._defaultViews)r.enforceState(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),Qv=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Jh(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(r){return new(r||n)(U(qn),U(Hn),U(au,9))};static \u0275dir=Qe({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),Yv=(()=>{class n{constructor(t,r,i){i._addDefault(new Jh(t,r))}static \u0275fac=function(r){return new(r||n)(U(qn),U(Hn),U(au,9))};static \u0275dir=Qe({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();var Jv=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:lr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(U(jt),U(Bv),U(Qt))};static \u0275dir=Qe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),Zv=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(U(qn))};static \u0275dir=Qe({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[An]})}return n})();function AM(n,e){return new V(2100,!1)}var Gv=class{createSubscription(e,t){return vn(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){vn(()=>e.unsubscribe())}},Wv=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},UU=new Wv,BU=new Gv,qr=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Ti(t))return UU;if(xv(t))return BU;throw AM(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(U(zr,16))};static \u0275pipe=Jc({name:"async",type:n,pure:!1})}return n})();var Xv=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!jU(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=DM(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=$U(t);return SM(c,s,a,r,o)}catch(c){throw AM(n,c.message)}}static \u0275fac=function(r){return new(r||n)(U(Wh,16),U(uM,16))};static \u0275pipe=Jc({name:"currency",type:n,pure:!0})}return n})();function jU(n){return!(n==null||n===""||n!==n)}function $U(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var mt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({})}return n})();function cu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xh="browser",MM="server";function Wn(n){return n===Xh}function ef(n){return n===MM}var Po=class{};var rf=new K(""),r_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(rf),W(ke))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),uu=class{_doc;constructor(e){this._doc=e}manager},tf="ng-app-id";function PM(n){for(let e of n)e.remove()}function xM(n,e){let t=e.createElement("style");return t.textContent=n,t}function HU(n,e,t,r){let i=n.head?.querySelectorAll(`style[${tf}="${e}"],link[${tf}="${e}"]`);if(i)for(let o of i)o.removeAttribute(tf),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function t_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var i_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=ef(o),HU(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,xM);r?.forEach(i=>this.addUsage(i,this.external,t_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(PM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])PM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,xM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,t_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(tf,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(gt),W(cv),W(dv,8),W(Nt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),e_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},o_=/%COMP%/g;var OM="%COMP%",zU=`_nghost-${OM}`,qU=`_ngcontent-${OM}`,GU=!0,WU=new K("",{providedIn:"root",factory:()=>GU});function KU(n){return qU.replace(o_,n)}function QU(n){return zU.replace(o_,n)}function NM(n,e){return e.map(t=>t.replace(o_,n))}var hu=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=ef(a),this.defaultRenderer=new lu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ur.ShadowDom&&(r=le(j({},r),{encapsulation:ur.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof nf?i.applyToHost(t):i instanceof du&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case ur.Emulated:o=new nf(c,l,r,this.appId,d,s,a,f,m);break;case ur.ShadowDom:return new n_(c,l,t,r,s,a,this.nonce,f,m);default:o=new du(c,l,r,d,s,a,f,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(r_),W(i_),W(cv),W(WU),W(gt),W(Nt),W(ke),W(dv),W(Sh,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),lu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(e_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(RM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(RM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=e_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=e_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(lr.DashCase|lr.Important)?e.style.setProperty(t,r,i&lr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Mn().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function RM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var n_=class extends lu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=NM(i.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let f=i.getExternalStyles?.();if(f)for(let m of f){let g=t_(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},du=class extends lu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?NM(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},nf=class extends du{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,l,d),this.contentAttr=KU(d),this.hostAttr=QU(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var of=class n extends ou{supportsDOMEvents=!0;static makeCurrent(){jv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=YU();return t==null?null:JU(t)}resetBaseElement(){fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cu(document.cookie,e)}},fu=null;function YU(){return fu=fu||document.head.querySelector("base"),fu?fu.getAttribute("href"):null}function JU(n){return new URL(n,document.baseURI).pathname}var ZU=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),FM=(()=>{class n extends uu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(gt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),kM=["alt","control","meta","shift"],XU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eB={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LM=(()=>{class n extends uu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kM.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=XU[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kM.forEach(s=>{if(s!==i){let a=eB[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(gt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function s_(n,e){return lM(j({rootComponent:n},tB(e)))}function tB(n){return{appProviders:[...sB,...n?.providers??[]],platformProviders:oB}}function nB(){of.makeCurrent()}function rB(){return new $n}function iB(){return QS(document),document}var oB=[{provide:Nt,useValue:Xh},{provide:uv,useValue:nB,multi:!0},{provide:gt,useFactory:iB}];var sB=[{provide:vh,useValue:"root"},{provide:$n,useFactory:rB},{provide:rf,useClass:FM,multi:!0,deps:[gt]},{provide:rf,useClass:LM,multi:!0,deps:[gt]},hu,i_,r_,{provide:bi,useExisting:hu},{provide:Po,useClass:ZU},[]];var ia=class{},pu=class{},Ri=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var af=class{encodeKey(e){return VM(e)}encodeValue(e){return VM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aB(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var cB=/%(\d[a-f0-9])/gi,uB={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VM(n){return encodeURIComponent(n).replace(cB,(e,t)=>uB[t]??e)}function sf(n){return`${n}`}var Wr=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new af,e.fromString){if(e.fromObject)throw new V(2805,!1);this.map=aB(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(sf):[sf(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(sf(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(sf(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cf=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function lB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function UM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function BM(n){return typeof Blob<"u"&&n instanceof Blob}function jM(n){return typeof FormData<"u"&&n instanceof FormData}function dB(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var $M="Content-Type",HM="Accept",qM="X-Request-URL",GM="text/plain",WM="application/json",hB=`${WM}, ${GM}, */*`,ra=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(lB(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ri,this.context??=new cf,!this.params)this.params=new Wr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||UM(this.body)||BM(this.body)||jM(this.body)||dB(this.body)?this.body:this.body instanceof Wr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jM(this.body)?null:BM(this.body)?this.body.type||null:UM(this.body)?null:typeof this.body=="string"?GM:this.body instanceof Wr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?WM:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),d)),new n(t,r,s,{params:d,headers:l,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},xo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(xo||{}),oa=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ri,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},uf=class n extends oa{constructor(e={}){super(e)}type=xo.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gu=class n extends oa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=xo.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},mu=class extends oa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},fB=200,pB=204;function a_(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var df=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ra)o=t;else{let c;i.headers instanceof Ri?c=i.headers:c=new Ri(i.headers);let l;i.params&&(i.params instanceof Wr?l=i.params:l=new Wr({fromObject:i.params})),o=new ra(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ne(o).pipe(Fr(c=>this.handler.handle(c)));if(t instanceof ra||i.observe==="events")return s;let a=s.pipe(We(c=>c instanceof gu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new V(2806,!1);return c.body}));case"blob":return a.pipe(ee(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new V(2807,!1);return c.body}));case"text":return a.pipe(ee(c=>{if(c.body!==null&&typeof c.body!="string")throw new V(2808,!1);return c.body}));case"json":default:return a.pipe(ee(c=>c.body))}case"response":return a;default:throw new V(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Wr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,a_(i,r))}post(t,r,i={}){return this.request("POST",t,a_(i,r))}put(t,r,i={}){return this.request("PUT",t,a_(i,r))}static \u0275fac=function(r){return new(r||n)(W(ia))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var gB=new K("");function KM(n,e){return e(n)}function mB(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function yB(n,e,t){return(r,i)=>Ot(t,()=>e(r,o=>n(o,i)))}var QM=new K(""),u_=new K(""),YM=new K(""),l_=new K("",{providedIn:"root",factory:()=>!0});function vB(){let n=null;return(e,t)=>{n===null&&(n=($(QM,{optional:!0})??[]).reduceRight(mB,KM));let r=$(pr);if($(l_)){let o=r.add();return n(e,t).pipe(Ei(()=>r.remove(o)))}else return n(e,t)}}var lf=(()=>{class n extends ia{backend;injector;chain=null;pendingTasks=$(pr);contributeToStability=$(l_);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(u_),...this.injector.get(YM,[])]));this.chain=r.reduceRight((i,o)=>yB(i,o,this.injector),KM)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ei(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(W(pu),W(xt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var _B=/^\)\]\}',?\n/,EB=RegExp(`^${qM}:`,"m");function wB(n){return"responseURL"in n&&n.responseURL?n.responseURL:EB.test(n.getAllResponseHeaders())?n.getResponseHeader(qM):null}var c_=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new V(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ve(r.\u0275loadImpl()):ne(null)).pipe(rt(()=>new he(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,S)=>s.setRequestHeader(C,S.join(","))),t.headers.has(HM)||s.setRequestHeader(HM,hB),!t.headers.has($M)){let C=t.detectContentTypeHeader();C!==null&&s.setRequestHeader($M,C)}if(t.responseType){let C=t.responseType.toLowerCase();s.responseType=C!=="json"?C:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let C=s.statusText||"OK",S=new Ri(s.getAllResponseHeaders()),k=wB(s)||t.url;return c=new uf({headers:S,status:s.status,statusText:C,url:k}),c},d=()=>{let{headers:C,status:S,statusText:k,url:H}=l(),G=null;S!==pB&&(G=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=G?fB:0);let oe=S>=200&&S<300;if(t.responseType==="json"&&typeof G=="string"){let ze=G;G=G.replace(_B,"");try{G=G!==""?JSON.parse(G):null}catch(_e){G=ze,oe&&(oe=!1,G={error:_e,text:G})}}oe?(o.next(new gu({body:G,headers:C,status:S,statusText:k,url:H||void 0})),o.complete()):o.error(new mu({error:G,headers:C,status:S,statusText:k,url:H||void 0}))},f=C=>{let{url:S}=l(),k=new mu({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});o.error(k)},m=!1,g=C=>{m||(o.next(l()),m=!0);let S={type:xo.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),t.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),o.next(S)},_=C=>{let S={type:xo.UploadProgress,loaded:C.loaded};C.lengthComputable&&(S.total=C.total),o.next(S)};return s.addEventListener("load",d),s.addEventListener("error",f),s.addEventListener("timeout",f),s.addEventListener("abort",f),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:xo.Sent}),()=>{s.removeEventListener("error",f),s.removeEventListener("abort",f),s.removeEventListener("load",d),s.removeEventListener("timeout",f),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(W(Po))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),JM=new K(""),CB="XSRF-TOKEN",IB=new K("",{providedIn:"root",factory:()=>CB}),bB="X-XSRF-TOKEN",DB=new K("",{providedIn:"root",factory:()=>bB}),yu=class{},TB=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(W(gt),W(IB))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function SB(n,e){let t=n.url.toLowerCase();if(!$(JM)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=$(yu).getToken(),i=$(DB);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var d_=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(d_||{});function AB(n,e){return{\u0275kind:n,\u0275providers:e}}function h_(...n){let e=[df,c_,lf,{provide:ia,useExisting:lf},{provide:pu,useFactory:()=>$(gB,{optional:!0})??$(c_)},{provide:u_,useValue:SB,multi:!0},{provide:JM,useValue:!0},{provide:yu,useClass:TB}];for(let t of n)e.push(...t.\u0275providers);return Di(e)}var zM=new K("");function f_(){return AB(d_.LegacyInterceptors,[{provide:zM,useFactory:vB},{provide:u_,useExisting:zM,multi:!0}])}var ZM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(gt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ee="primary",xu=Symbol("RouteTitle"),v_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function No(n){return new v_(n)}function sP(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function xB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yr(n[t],e[t]))return!1;return!0}function yr(n,e){let t=n?__(n):void 0,r=e?__(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!aP(n[i],e[i]))return!1;return!0}function __(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aP(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function cP(n){return n.length>0?n[n.length-1]:null}function ki(n){return uy(n)?n:Ti(n)?Ve(Promise.resolve(n)):ne(n)}var RB={exact:lP,subset:dP},uP={exact:OB,subset:NB,ignored:()=>!0};function XM(n,e,t){return RB[t.paths](n.root,e.root,t.matrixParams)&&uP[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function OB(n,e){return yr(n,e)}function lP(n,e,t){if(!Ro(n.segments,e.segments)||!pf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!lP(n.children[r],e.children[r],t))return!1;return!0}function NB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aP(n[t],e[t]))}function dP(n,e,t){return hP(n,e,e.segments,t)}function hP(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Ro(i,t)||e.hasChildren()||!pf(i,t,r))}else if(n.segments.length===t.length){if(!Ro(n.segments,t)||!pf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!dP(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Ro(n.segments,i)||!pf(n.segments,i,r)||!n.children[Ee]?!1:hP(n.children[Ee],e,o,r)}}function pf(n,e,t){return e.every((r,i)=>uP[t](n[i].parameters,r.parameters))}var _r=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Fe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){return LB.serialize(this)}},Fe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}},Oi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=No(this.parameters),this._parameterMap}toString(){return pP(this)}};function kB(n,e){return Ro(n,e)&&n.every((t,r)=>yr(t.parameters,e[r].parameters))}function Ro(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function FB(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ee&&(t=t.concat(e(i,r)))}),t}var Ru=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>new ko,providedIn:"root"})}return n})(),ko=class{parse(e){let t=new w_(e);return new _r(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${vu(e.root,!0)}`,r=BB(e.queryParams),i=typeof e.fragment=="string"?`#${VB(e.fragment)}`:"";return`${t}${r}${i}`}},LB=new ko;function gf(n){return n.segments.map(e=>pP(e)).join("/")}function vu(n,e){if(!n.hasChildren())return gf(n);if(e){let t=n.children[Ee]?vu(n.children[Ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ee&&r.push(`${i}:${vu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=FB(n,(r,i)=>i===Ee?[vu(n.children[Ee],!1)]:[`${i}:${vu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ee]!=null?`${gf(n)}/${t[0]}`:`${gf(n)}/(${t.join("//")})`}}function fP(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hf(n){return fP(n).replace(/%3B/gi,";")}function VB(n){return encodeURI(n)}function E_(n){return fP(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mf(n){return decodeURIComponent(n)}function eP(n){return mf(n.replace(/\+/g,"%20"))}function pP(n){return`${E_(n.path)}${UB(n.parameters)}`}function UB(n){return Object.entries(n).map(([e,t])=>`;${E_(e)}=${E_(t)}`).join("")}function BB(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${hf(t)}=${hf(i)}`).join("&"):`${hf(t)}=${hf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var jB=/^[^\/()?;#]+/;function p_(n){let e=n.match(jB);return e?e[0]:""}var $B=/^[^\/()?;=#]+/;function HB(n){let e=n.match($B);return e?e[0]:""}var zB=/^[^=?&#]+/;function qB(n){let e=n.match(zB);return e?e[0]:""}var GB=/^[^&#]+/;function WB(n){let e=n.match(GB);return e?e[0]:""}var w_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ee]=new Fe(e,t)),r}parseSegment(){let e=p_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Oi(mf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=HB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=p_(this.remaining);i&&(r=i,this.capture(r))}e[mf(t)]=mf(r)}parseQueryParam(e){let t=qB(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=WB(this.remaining);s&&(r=s,this.capture(r))}let i=eP(t),o=eP(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=p_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ee);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[Ee]:new Fe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function gP(n){return n.segments.length>0?new Fe([],{[Ee]:n}):n}function mP(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=mP(i);if(r===Ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Fe(n.segments,e);return KB(t)}function KB(n){if(n.numberOfChildren===1&&n.children[Ee]){let e=n.children[Ee];return new Fe(n.segments.concat(e.segments),e.children)}return n}function Ni(n){return n instanceof _r}function yP(n,e,t=null,r=null){let i=vP(n);return _P(i,e,t,r)}function vP(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Fe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gP(r);return e??i}function _P(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return g_(i,i,i,t,r);let o=QB(e);if(o.toRoot())return g_(i,i,new Fe([],{}),t,r);let s=YB(o,i,n),a=s.processChildren?Eu(s.segmentGroup,s.index,o.commands):wP(s.segmentGroup,s.index,o.commands);return g_(i,s.segmentGroup,a,t,r)}function vf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cu(n){return typeof n=="object"&&n!=null&&n.outlets}function g_(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let s;n===e?s=t:s=EP(n,e,t);let a=gP(mP(s));return new _r(a,o,i)}function EP(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=EP(o,e,t)}),new Fe(n.segments,r)}var _f=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&vf(r[0]))throw new V(4003,!1);let i=r.find(Cu);if(i&&i!==cP(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function QB(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new _f(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new _f(t,e,r)}var ca=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function YB(n,e,t){if(n.isAbsolute)return new ca(e,!0,0);if(!t)return new ca(e,!1,NaN);if(t.parent===null)return new ca(t,!0,0);let r=vf(n.commands[0])?0:1,i=t.segments.length-1+r;return JB(t,i,n.numberOfDoubleDots)}function JB(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new ca(r,!1,i-o)}function ZB(n){return Cu(n[0])?n[0].outlets:{[Ee]:n}}function wP(n,e,t){if(n??=new Fe([],{}),n.segments.length===0&&n.hasChildren())return Eu(n,e,t);let r=XB(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Fe(n.segments.slice(0,r.pathIndex),{});return o.children[Ee]=new Fe(n.segments.slice(r.pathIndex),n.children),Eu(o,0,i)}else return r.match&&i.length===0?new Fe(n.segments,{}):r.match&&!n.hasChildren()?C_(n,e,t):r.match?Eu(n,0,i):C_(n,e,t)}function Eu(n,e,t){if(t.length===0)return new Fe(n.segments,{});{let r=ZB(t),i={};if(Object.keys(r).some(o=>o!==Ee)&&n.children[Ee]&&n.numberOfChildren===1&&n.children[Ee].segments.length===0){let o=Eu(n.children[Ee],e,t);return new Fe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wP(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Fe(n.segments,i)}}function XB(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Cu(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!nP(c,l,s))return o;r+=2}else{if(!nP(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function C_(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Cu(o)){let c=ej(o.outlets);return new Fe(r,c)}if(i===0&&vf(t[0])){let c=n.segments[e];r.push(new Oi(c.path,tP(t[0]))),i++;continue}let s=Cu(o)?o.outlets[Ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&vf(a)?(r.push(new Oi(s,tP(a))),i+=2):(r.push(new Oi(s,{})),i++)}return new Fe(r,{})}function ej(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=C_(new Fe([],{}),0,r))}),e}function tP(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function nP(n,e,t){return n==t.path&&yr(e,t.parameters)}var yf="imperative",Tt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Tt||{}),En=class{id;url;constructor(e,t){this.id=e,this.url=t}},Fo=class extends En{type=Tt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qn=class extends En{urlAfterRedirects;type=Tt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(sn||{}),Iu=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Iu||{}),vr=class extends En{reason;code;type=Tt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kr=class extends En{reason;code;type=Tt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},la=class extends En{error;target;type=Tt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},bu=class extends En{urlAfterRedirects;state;type=Tt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class extends En{urlAfterRedirects;state;type=Tt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends En{urlAfterRedirects;state;shouldActivate;type=Tt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Cf=class extends En{urlAfterRedirects;state;type=Tt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},If=class extends En{urlAfterRedirects;state;type=Tt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bf=class{route;type=Tt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Df=class{route;type=Tt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tf=class{snapshot;type=Tt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{snapshot;type=Tt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Af=class{snapshot;type=Tt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mf=class{snapshot;type=Tt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Du=class{},da=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tj(n,e){return n.providers&&!n._injector&&(n._injector=jh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Kn(n){return n.outlet||Ee}function nj(n,e){let t=n.filter(r=>Kn(r)===e);return t.push(...n.filter(r=>Kn(r)!==e)),t}function Ou(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ou(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new pa(this.rootInjector)}},pa=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Pf(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(xt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=I_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=I_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=b_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return b_(e,this._root).map(t=>t.value)}};function I_(n,e){if(n===e.value)return e;for(let t of e.children){let r=I_(n,t);if(r)return r}return null}function b_(n,e){if(n===e.value)return[e];for(let t of e.children){let r=b_(n,t);if(r.length)return r.unshift(e),r}return[]}var _n=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function aa(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Tu=class extends xf{snapshot;constructor(e,t){super(e),this.snapshot=t,R_(this,e)}toString(){return this.snapshot.toString()}};function CP(n){let e=rj(n),t=new Pt([new Oi("",{})]),r=new Pt({}),i=new Pt({}),o=new Pt({}),s=new Pt(""),a=new Jt(t,r,o,s,i,Ee,n,e.root);return a.snapshot=e.root,new Tu(new _n(a,[]),e)}function rj(n){let e={},t={},r={},i="",o=new Oo([],e,r,i,t,Ee,n,null,{});return new Su("",new _n(o,[]))}var Jt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[xu]))??ne(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>No(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>No(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&bP(i)&&(r.resolve[xu]=i.title),r}var Oo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[xu]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=No(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Su=class extends xf{url;constructor(e,t){super(t),this.url=e,R_(this,t)}toString(){return IP(this._root)}};function R_(n,e){e.value._routerState=n,e.children.forEach(t=>R_(n,t))}function IP(n){let e=n.children.length>0?` { ${n.children.map(IP).join(", ")} } `:"";return`${n.value}${e}`}function m_(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yr(e.params,t.params)||n.paramsSubject.next(t.params),xB(e.url,t.url)||n.urlSubject.next(t.url),yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function D_(n,e){let t=yr(n.params,e.params)&&kB(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||D_(n.parent,e.parent))}function bP(n){return typeof n.title=="string"||n.title===null}var DP=new K(""),Nu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ee;activateEvents=new je;deactivateEvents=new je;attachEvents=new je;detachEvents=new je;routerOutletData=$S(void 0);parentContexts=$(pa);location=$(qn);changeDetector=$(zr);inputBinder=$(Ff,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new T_(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[An]})}return n})(),T_=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Jt?this.route:e===pa?this.childContexts:e===DP?this.outletData:this.parent.get(e,t)}},Ff=new K("");var O_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=it({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[Nu],encapsulation:2})}return n})();function N_(n){let e=n.children&&n.children.map(N_),t=e?le(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ee&&(t.component=O_),t}function ij(n,e,t){let r=Au(n,e._root,t?t._root:void 0);return new Tu(r,e)}function Au(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=oj(n,e,t);return new _n(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Au(n,a)),s}}let r=sj(e.value),i=e.children.map(o=>Au(n,o));return new _n(r,i)}}function oj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Au(n,r,i);return Au(n,r)})}function sj(n){return new Jt(new Pt(n.url),new Pt(n.params),new Pt(n.queryParams),new Pt(n.fragment),new Pt(n.data),n.outlet,n.component,n)}var ha=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},TP="ngNavigationCancelingError";function Of(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ni(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SP(!1,sn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function SP(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[TP]=!0,t.cancellationCode=e,t}function aj(n){return AP(n)&&Ni(n.url)}function AP(n){return!!n&&n[TP]}var cj=(n,e,t,r)=>ee(i=>(new S_(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),S_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),m_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=aa(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=aa(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=aa(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sf(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(m_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),m_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Nf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ua=class{component;route;constructor(e,t){this.component=e,this.route=t}};function uj(n,e,t){let r=n._root,i=e?e._root:null;return _u(r,i,t,[r.value])}function lj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ga(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!VT(n)?n:e.get(n):r}function _u(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=aa(e);return n.children.forEach(s=>{dj(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>wu(a,t.getContext(s),i)),i}function dj(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=hj(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Nf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_u(n,e,a?a.children:null,r,i):_u(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ua(a.outlet.component,s))}else s&&wu(e,a,i),i.canActivateChecks.push(new Nf(r)),o.component?_u(n,null,a?a.children:null,r,i):_u(n,null,t,r,i);return i}function hj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Ro(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ro(n.url,e.url)||!yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!D_(n,e)||!yr(n.queryParams,e.queryParams);case"paramsChange":default:return!D_(n,e)}}function wu(n,e,t){let r=aa(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?wu(s,e.children.getContext(o),t):wu(s,null,t):wu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ua(e.outlet.component,i)):t.canDeactivateChecks.push(new ua(null,i)):t.canDeactivateChecks.push(new ua(null,i))}function ku(n){return typeof n=="function"}function fj(n){return typeof n=="boolean"}function pj(n){return n&&ku(n.canLoad)}function gj(n){return n&&ku(n.canActivate)}function mj(n){return n&&ku(n.canActivateChild)}function yj(n){return n&&ku(n.canDeactivate)}function vj(n){return n&&ku(n.canMatch)}function MP(n){return n instanceof kr||n?.name==="EmptyError"}var ff=Symbol("INITIAL_VALUE");function fa(){return rt(n=>Os(n.map(e=>e.pipe(et(1),Rd(ff)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===ff)return ff;if(t===!1||_j(t))return t}return!0}),We(e=>e!==ff),et(1)))}function _j(n){return Ni(n)||n instanceof ha}function Ej(n,e){return Xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ne(le(j({},t),{guardsResult:!0})):wj(s,r,i,n).pipe(Xe(a=>a&&fj(a)?Cj(r,o,n,e):ne(a)),ee(a=>le(j({},t),{guardsResult:a})))})}function wj(n,e,t,r){return Ve(n).pipe(Xe(i=>Sj(i.component,i.route,t,e,r)),pn(i=>i!==!0,!0))}function Cj(n,e,t,r){return Ve(e).pipe(Fr(i=>vi(bj(i.route.parent,r),Ij(i.route,r),Tj(n,i.path,t),Dj(n,i.route,t))),pn(i=>i!==!0,!0))}function Ij(n,e){return n!==null&&e&&e(new Af(n)),ne(!0)}function bj(n,e){return n!==null&&e&&e(new Tf(n)),ne(!0)}function Dj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Sd(()=>{let s=Ou(e)??t,a=ga(o,s),c=gj(a)?a.canActivate(e,n):Ot(s,()=>a(e,n));return ki(c).pipe(pn())}));return ne(i).pipe(fa())}function Tj(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>lj(s)).filter(s=>s!==null).map(s=>Sd(()=>{let a=s.guards.map(c=>{let l=Ou(s.node)??t,d=ga(c,l),f=mj(d)?d.canActivateChild(r,n):Ot(l,()=>d(r,n));return ki(f).pipe(pn())});return ne(a).pipe(fa())}));return ne(o).pipe(fa())}function Sj(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let c=Ou(e)??i,l=ga(a,c),d=yj(l)?l.canDeactivate(n,e,t,r):Ot(c,()=>l(n,e,t,r));return ki(d).pipe(pn())});return ne(s).pipe(fa())}function Aj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=ga(s,n),c=pj(a)?a.canLoad(e,t):Ot(n,()=>a(e,t));return ki(c)});return ne(o).pipe(fa(),PP(r))}function PP(n){return ud(ue(e=>{if(typeof e!="boolean")throw Of(n,e)}),ee(e=>e===!0))}function Mj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=ga(s,n),c=vj(a)?a.canMatch(e,t):Ot(n,()=>a(e,t));return ki(c)});return ne(o).pipe(fa(),PP(r))}var Mu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Pu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function sa(n){return xs(new Mu(n))}function Pj(n){return xs(new V(4e3,!1))}function xj(n){return xs(SP(!1,sn.GuardRejected))}var A_=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[Ee])return Pj(`${e.redirectTo}`);i=i.children[Ee]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:m,params:g,data:_,title:C}=i,S=Ot(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:m,title:C}));if(S instanceof _r)throw new Pu(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Pu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new _r(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Fe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},M_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rj(n,e,t,r,i){let o=xP(n,e,t);return o.matched?(r=tj(e,r),Mj(r,e,t,i).pipe(ee(s=>s===!0?o:j({},M_)))):ne(o)}function xP(n,e,t){if(e.path==="**")return Oj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},M_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sP)(t,n,e);if(!i)return j({},M_);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Oj(n){return{matched:!0,parameters:n.length>0?cP(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function rP(n,e,t,r){return t.length>0&&Fj(n,t,r)?{segmentGroup:new Fe(e,kj(r,new Fe(t,n.children))),slicedSegments:[]}:t.length===0&&Lj(n,t,r)?{segmentGroup:new Fe(n.segments,Nj(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Fe(n.segments,n.children),slicedSegments:t}}function Nj(n,e,t,r){let i={};for(let o of t)if(Lf(n,e,o)&&!r[Kn(o)]){let s=new Fe([],{});i[Kn(o)]=s}return j(j({},r),i)}function kj(n,e){let t={};t[Ee]=e;for(let r of n)if(r.path===""&&Kn(r)!==Ee){let i=new Fe([],{});t[Kn(r)]=i}return t}function Fj(n,e,t){return t.some(r=>Lf(n,e,r)&&Kn(r)!==Ee)}function Lj(n,e,t){return t.some(r=>Lf(n,e,r))}function Lf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Vj(n,e,t){return e.length===0&&!n.children[t]}var P_=class{};function Uj(n,e,t,r,i,o,s="emptyOnly"){return new x_(n,e,t,r,i,s,o).recognize()}var Bj=31,x_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new A_(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=rP(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:r})=>{let i=new _n(r,t),o=new Su("",i),s=yP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Oo([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ee,t).pipe(ee(r=>({children:r,rootSnapshot:t})),fn(r=>{if(r instanceof Pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ee(s=>s instanceof _n?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ve(o).pipe(Fr(s=>{let a=r.children[s],c=nj(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Pd((s,a)=>(s.push(...a),s)),_i(null),py(),Xe(s=>{if(s===null)return sa(r);let a=RP(s);return jj(a),ne(a)}))}processSegment(e,t,r,i,o,s,a){return Ve(t).pipe(Fr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(fn(l=>{if(l instanceof Mu)return ne(null);throw l}))),pn(c=>!!c),fn(c=>{if(MP(c))return Vj(r,i,o)?ne(new P_):sa(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return Kn(r)!==s&&(s===Ee||!Lf(i,o,r))?sa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):sa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=xP(t,i,o);if(!c)return sa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Bj&&(this.allowRedirects=!1));let g=new Oo(o,l,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,iP(i),Kn(i),i.component??i._loadedComponent??null,i,oP(i)),_=Rf(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let C=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,g,e);return this.applyRedirects.lineralizeSegments(i,C).pipe(Xe(S=>this.processSegment(e,r,t,S.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=Rj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(rt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rt(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:g}=c,_=new Oo(m,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,iP(r),Kn(r),r.component??r._loadedComponent??null,r,oP(r)),C=Rf(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let{segmentGroup:S,slicedSegments:k}=rP(t,m,g,l);if(k.length===0&&S.hasChildren())return this.processChildren(d,l,S,_).pipe(ee(G=>new _n(_,G)));if(l.length===0&&k.length===0)return ne(new _n(_,[]));let H=Kn(r)===o;return this.processSegment(d,l,S,k,H?Ee:o,!0,_).pipe(ee(G=>new _n(_,G instanceof _n?[G]:[])))}))):sa(t)))}getChildConfig(e,t,r){return t.children?ne({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ne({routes:t._loadedRoutes,injector:t._loadedInjector}):Aj(e,t,r,this.urlSerializer).pipe(Xe(i=>i?this.configLoader.loadChildren(e,t).pipe(ue(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):xj(t))):ne({routes:[],injector:e})}};function jj(n){n.sort((e,t)=>e.value.outlet===Ee?-1:t.value.outlet===Ee?1:e.value.outlet.localeCompare(t.value.outlet))}function $j(n){let e=n.value.routeConfig;return e&&e.path===""}function RP(n){let e=[],t=new Set;for(let r of n){if(!$j(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=RP(r.children);e.push(new _n(r.value,i))}return e.filter(r=>!t.has(r))}function iP(n){return n.data||{}}function oP(n){return n.resolve||{}}function Hj(n,e,t,r,i,o){return Xe(s=>Uj(n,e,t,r,s.extractedUrl,i,o).pipe(ee(({state:a,tree:c})=>le(j({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function zj(n,e){return Xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ne(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of OP(c))s.add(l);let a=0;return Ve(s).pipe(Fr(c=>o.has(c)?qj(c,r,n,e):(c.data=Rf(c,c.parent,n).resolve,ne(void 0))),ue(()=>a++),Ns(1),Xe(c=>a===s.size?ne(t):Dt))})}function OP(n){let e=n.children.map(t=>OP(t)).flat();return[n,...e]}function qj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!bP(i)&&(o[xu]=i.title),Gj(o,n,e,r).pipe(ee(s=>(n._resolvedData=s,n.data=Rf(n,n.parent,t).resolve,null)))}function Gj(n,e,t,r){let i=__(n);if(i.length===0)return ne({});let o={};return Ve(i).pipe(Xe(s=>Wj(n[s],e,t,r).pipe(pn(),ue(a=>{if(a instanceof ha)throw Of(new ko,a);o[s]=a}))),Ns(1),ee(()=>o),fn(s=>MP(s)?Dt:xs(s)))}function Wj(n,e,t,r){let i=Ou(e)??r,o=ga(n,i),s=o.resolve?o.resolve(e,t):Ot(i,()=>o(e,t));return ki(s)}function y_(n){return rt(e=>{let t=n(e);return t?Ve(t).pipe(ee(()=>e)):ne(e)})}var k_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ee);return r}getResolvedTitleForRoute(t){return t.data[xu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(NP),providedIn:"root"})}return n})(),NP=(()=>{class n extends k_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(ZM))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fu=new K("",{providedIn:"root",factory:()=>({})}),Lu=new K(""),kP=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=$(cM);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ne(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ki(t.loadComponent()).pipe(ee(LP),ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ei(()=>{this.componentLoaders.delete(t)})),i=new Ds(r,()=>new De).pipe(bs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=FP(r,this.compiler,t,this.onLoadEndListener).pipe(Ei(()=>{this.childrenLoaders.delete(r)})),s=new Ds(o,()=>new De).pipe(bs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FP(n,e,t,r){return ki(n.loadChildren()).pipe(ee(LP),Xe(i=>i instanceof Mv||Array.isArray(i)?ne(i):Ve(e.compileModuleAsync(i))),ee(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Lu,[],{optional:!0,self:!0}).flat()),{routes:s.map(N_),injector:o}}))}function Kj(n){return n&&typeof n=="object"&&"default"in n}function LP(n){return Kj(n)?n.default:n}var Vf=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(Qj),providedIn:"root"})}return n})(),Qj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VP=new K("");var UP=new K(""),BP=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new De;transitionAbortSubject=new De;configLoader=$(kP);environmentInjector=$(xt);destroyRef=$(Js);urlSerializer=$(Ru);rootContexts=$(pa);location=$(ta);inputBindingEnabled=$(Ff,{optional:!0})!==null;titleStrategy=$(k_);options=$(Fu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=$(Vf);createViewTransition=$(VP,{optional:!0});navigationErrorHandler=$(UP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new bf(i)),r=i=>this.events.next(new Df(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new Pt(null),this.transitions.pipe(We(r=>r!==null),rt(r=>{let i=!1,o=!1;return ne(r).pipe(rt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",sn.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.rawUrl),l,Iu.IgnoredSameUrlNavigation)),s.resolve(!1),Dt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ne(s).pipe(rt(l=>(this.events.next(new Fo(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Dt:Promise.resolve(l))),Hj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ue(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=le(j({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let d=new bu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:d,source:f,restoredState:m,extras:g}=s,_=new Fo(l,this.urlSerializer.serialize(d),f,m);this.events.next(_);let C=CP(this.rootComponentType).snapshot;return this.currentTransition=r=le(j({},s),{targetSnapshot:C,urlAfterRedirects:d,extras:le(j({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,ne(r)}else{let l="";return this.events.next(new Kr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Iu.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Dt}}),ue(s=>{let a=new Ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ee(s=>(this.currentTransition=r=le(j({},s),{guards:uj(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),Ej(this.environmentInjector,s=>this.events.next(s)),ue(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Of(this.urlSerializer,s.guardsResult);let a=new wf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),We(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",sn.GuardRejected),!1)),y_(s=>{if(s.guards.canActivateChecks.length!==0)return ne(s).pipe(ue(a=>{let c=new Cf(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),rt(a=>{let c=!1;return ne(a).pipe(zj(this.paramsInheritanceStrategy,this.environmentInjector),ue({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",sn.NoDataFromResolver)}}))}),ue(a=>{let c=new If(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),y_(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(ue(d=>{c.component=d}),ee(()=>{})));for(let d of c.children)l.push(...a(d));return l};return Os(a(s.targetSnapshot.root)).pipe(_i(null),et(1))}),y_(()=>this.afterPreactivation()),rt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?Ve(c).pipe(ee(()=>r)):ne(r)}),ee(s=>{let a=ij(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=le(j({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ue(()=>{this.events.next(new Du)}),cj(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),et(1),ue({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),yy(this.transitionAbortSubject.pipe(ue(s=>{throw s}))),Ei(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",sn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),fn(s=>{if(this.destroyed)return r.resolve(!1),Dt;if(o=!0,AP(s))this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),aj(s)?this.events.next(new da(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new la(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof ha){let{message:l,cancellationCode:d}=Of(this.urlSerializer,c);this.events.next(new vr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,d)),this.events.next(new da(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Dt}))}))}cancelNavigationTransition(t,r,i){let o=new vr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yj(n){return n!==yf}var jP=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(Jj),providedIn:"root"})}return n})(),kf=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Jj=(()=>{class n extends kf{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qc(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$P=(()=>{class n{urlSerializer=$(Ru);options=$(Fu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=$(ta);urlHandlingStrategy=$(Vf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _r;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof _r?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=CP(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:()=>$(Zj),providedIn:"root"})}return n})(),Zj=(()=>{class n extends $P{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Fo?this.updateStateMemento():t instanceof Kr?this.commitTransition(r):t instanceof bu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Du?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof vr&&(t.code===sn.GuardRejected||t.code===sn.NoDataFromResolver)?this.restoreHistory(r):t instanceof la?this.restoreHistory(r,!0):t instanceof Qn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qc(n)))(i||n)}})();static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function F_(n,e){n.events.pipe(We(t=>t instanceof Qn||t instanceof vr||t instanceof la||t instanceof Kr),ee(t=>t instanceof Qn||t instanceof Kr?0:(t instanceof vr?t.code===sn.Redirect||t.code===sn.SupersededByNewNavigation:!1)?2:1),We(t=>t!==2),et(1)).subscribe(()=>{e()})}var Xj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},an=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=$(QA);stateManager=$($P);options=$(Fu,{optional:!0})||{};pendingTasks=$(pr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=$(BP);urlSerializer=$(Ru);location=$(ta);urlHandlingStrategy=$(Vf);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=$(jP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=$(Lu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!$(Ff,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ut;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==sn.Redirect&&r.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qn)this.navigated=!0;else if(r instanceof da){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Yj(i.source)},s);this.scheduleNavigation(a,yf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}n$(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=j({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(N_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let m=i?i.snapshot:this.routerState.snapshot.root;f=vP(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return _P(f,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yf,null,r)}navigate(t,r={skipLocationChange:!1}){return t$(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},Xj):r===!1?i=j({},e$):i=r,Ni(t))return XM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return XM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((f,m)=>{a=f,c=m});let d=this.pendingTasks.add();return F_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function t$(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}function n$(n){return!(n instanceof Du)&&!(n instanceof da)}var Pn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new De;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Qn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ni(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:cA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ni(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(U(an),U(Jt),Dh("tabindex"),U(Qt),U(jt),U(Mo))};static \u0275dir=Qe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&de("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Xc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",iu],skipLocationChange:[2,"skipLocationChange","skipLocationChange",iu],replaceUrl:[2,"replaceUrl","replaceUrl",iu],routerLink:"routerLink"},features:[An]})}return n})(),L_=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new je;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Qn&&this.update()})}ngAfterContentInit(){ne(this.links.changes,ne(null)).pipe(yi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ve(t).pipe(yi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=i$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(U(an),U(jt),U(Qt),U(zr),U(Pn,8))};static \u0275dir=Qe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&zh(o,Pn,5),r&2){let s;Ai(s=Mi())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[An]})}return n})();function i$(n){return!!n.paths}var o$=new K("");function V_(n,...e){return Di([{provide:Lu,multi:!0,useValue:n},[],{provide:Jt,useFactory:s$,deps:[an]},{provide:Rv,multi:!0,useFactory:a$},e.map(t=>t.\u0275providers)])}function s$(n){return n.routerState.root}function a$(){let n=$(Kt);return e=>{let t=n.get(mo);if(e!==t.components[0])return;let r=n.get(an),i=n.get(c$);n.get(u$)===1&&r.initialNavigation(),n.get(l$,null,we.Optional)?.setUpPreloading(),n.get(o$,null,we.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var c$=new K("",{factory:()=>new De}),u$=new K("",{providedIn:"root",factory:()=>1});var l$=new K("");var HP=()=>({exact:!0}),Bf=class n{constructor(e){this.router=e}isMobileNavOpen=!1;toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen,this.isMobileNavOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeMobileNav(){this.isMobileNavOpen=!1,document.body.style.overflow=""}navigateToLogin(){this.closeMobileNav(),console.log("Navigate to login page")}static \u0275fac=function(t){return new(t||n)(U(an))};static \u0275cmp=it({type:n,selectors:[["app-header"]],decls:33,vars:6,consts:[[1,"app-header"],[1,"container","header-content"],["routerLink","/",1,"logo"],[1,"desktop-nav"],["routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions"],["routerLink","/courses","routerLinkActive","active-link"],[1,"header-actions"],["aria-label","\u041F\u0435\u0440\u0435\u043C\u043A\u043D\u0443\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-toggle","visible-mobile",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","18","x2","21","y2","18"],[1,"mobile-nav"],[1,"mobile-nav-header"],["routerLink","/",1,"logo",3,"click"],["aria-label","\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-close",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[3,"click"]],template:function(t,r){t&1&&(T(0,"header",0)(1,"div",1)(2,"div",2),N(3," \u041E\u0440\u043E\u0441\u0424\u0456\u0437\u0456\u043E "),P(),T(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),N(8,"\u0413\u041E\u041B\u041E\u0412\u041D\u0410"),P()(),T(9,"li")(10,"a",5),N(11,"\u041A\u0423\u0420\u0421\u0418"),P()()()(),T(12,"div",6)(13,"button",7),de("click",function(){return r.toggleMobileNav()}),nv(),T(14,"svg",8),re(15,"line",9)(16,"line",10)(17,"line",11),P()()()(),rv(),T(18,"nav",12)(19,"div",13)(20,"div",14),de("click",function(){return r.closeMobileNav()}),N(21,"\u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438"),P(),T(22,"button",15),de("click",function(){return r.closeMobileNav()}),nv(),T(23,"svg",8),re(24,"line",16)(25,"line",17),P()()(),rv(),T(26,"ul")(27,"li",18),de("click",function(){return r.closeMobileNav()}),T(28,"a",4),N(29,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),P()(),T(30,"li",18),de("click",function(){return r.closeMobileNav()}),T(31,"a",5),N(32,"\u041A\u0443\u0440\u0441\u0438"),P()()()()()),t&2&&(O(7),F("routerLinkActiveOptions",Fv(4,HP)),O(11),Si("open",r.isMobileNavOpen),O(10),F("routerLinkActiveOptions",Fv(5,HP)))},dependencies:[mt,Pn,L_],styles:['.app-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--light-text-color);padding:15px 0;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:1000;width:100%}.app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;font-family:Comfortaa,sans-serif;color:var(--light-text-color);cursor:pointer;text-decoration:none}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{flex-grow:1;text-align:right}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:inline-flex}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 15px}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-weight:700;font-family:Comfortaa,sans-serif;padding-bottom:5px;position:relative}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:var(--secondary-color)}@media (max-width: 767px){.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:none}}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{padding:8px 18px;font-size:.9em}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--primary-color);z-index:1001;overflow-y:auto;padding:20px var(--container-padding);box-sizing:border-box}.app-header[_ngcontent-%COMP%]   .mobile-nav.open[_ngcontent-%COMP%]{display:flex;flex-direction:column}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.6em}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:center}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-size:1.3em;font-weight:600;display:block;padding:10px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:10px auto 0}@media (min-width: 768px){.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none!important}}.app-header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}']})};var zP=()=>{};var WP=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},d$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[d],t[f],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):d$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let f=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new B_;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),f!==64){let _=l<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},B_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},h$=function(n){let e=WP(n);return jf.encodeByteArray(e,!0)},Uu=function(n){return h$(n).replace(/\./g,"")},$f=function(n){try{return jf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var f$=()=>$_().__FIREBASE_DEFAULTS__,p$=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},g$=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&$f(n[1]);return e&&JSON.parse(e)},Hf=()=>{try{return zP()||f$()||p$()||g$()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},KP=n=>{var e,t;return(t=(e=Hf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QP=n=>{let e=KP(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},H_=()=>{var n;return(n=Hf())===null||n===void 0?void 0:n.config},YP=n=>{var e;return(e=Hf())===null||e===void 0?void 0:e[`_${n}`]};var Lo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ma(n){return n.endsWith(".cloudworkstations.dev")}function z_(n){return x(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function JP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Uu(JSON.stringify(t)),Uu(JSON.stringify(s)),""].join(".")}var Vu={};function m$(){let n={prod:[],emulator:[]};for(let e of Object.keys(Vu))Vu[e]?n.emulator.push(e):n.prod.push(e);return n}function y$(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var qP=!1;function q_(n,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||Vu[n]===e||Vu[n]||qP)return;Vu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=m$().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{qP=!0,s()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){let m=y$(r),g=t("text"),_=document.getElementById(g)||document.createElement("span"),C=t("learnmore"),S=document.getElementById(C)||document.createElement("a"),k=t("preprendIcon"),H=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let G=m.element;a(G),d(S,C);let oe=l();c(H,k),G.append(H,_,S,oe),document.body.appendChild(G)}o?(_.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function v$(){var n;let e=(n=Hf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function t1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n1(){return!v$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bu(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var _$="FirebaseError",xn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_$,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yn.prototype.create)}},Yn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?E$(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new xn(i,a,r)}};function E$(n,e){return n.replace(w$,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var w$=/\{\$([^}]+)}/g;function Vo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(GP(o)&&GP(s)){if(!Vo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function GP(n){return n!==null&&typeof n=="object"}function G_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function i1(n,e){let t=new j_(n,e);return t.subscribe.bind(t)}var j_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");C$(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=U_),i.error===void 0&&(i.error=U_),i.complete===void 0&&(i.complete=U_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function C$(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function U_(){}var Xre=4*60*60*1e3;function cn(n){return n&&n._delegate?n._delegate:n}var Zt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Uo="[DEFAULT]";var W_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Lo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b$(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return x(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I$(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function I$(n){return n===Uo?void 0:n}function b$(n){return n.instantiationMode==="EAGER"}var zf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new W_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var D$=[],Me=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Me||{}),T$={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},S$=Me.INFO,A$={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},M$=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=A$[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Er=class{constructor(e){this.name=e,this._logLevel=S$,this._logHandler=M$,this._userLogHandler=null,D$.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?T$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}};var P$=(n,e)=>e.some(t=>n instanceof t),o1,s1;function x$(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R$(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var a1=new WeakMap,Q_=new WeakMap,c1=new WeakMap,K_=new WeakMap,J_=new WeakMap;function O$(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(wr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&a1.set(t,n)}).catch(()=>{}),J_.set(e,n),e}function N$(n){if(Q_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Q_.set(n,e)}var Y_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Q_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||c1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function u1(n){Y_=n(Y_)}function k$(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(qf(this),e,...t);return c1.set(r,e.sort?e.sort():[e]),wr(r)}:R$().includes(n)?function(...e){return n.apply(qf(this),e),wr(a1.get(this))}:function(...e){return wr(n.apply(qf(this),e))}}function F$(n){return typeof n=="function"?k$(n):(n instanceof IDBTransaction&&N$(n),P$(n,x$())?new Proxy(n,Y_):n)}function wr(n){if(n instanceof IDBRequest)return O$(n);if(K_.has(n))return K_.get(n);let e=F$(n);return e!==n&&(K_.set(n,e),J_.set(e,n)),e}var qf=n=>J_.get(n);function d1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=wr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(wr(s.result),c.oldVersion,c.newVersion,wr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var L$=["get","getKey","getAll","getAllKeys","count"],V$=["put","add","delete","clear"],Z_=new Map;function l1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Z_.get(e))return Z_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=V$.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L$.includes(t)))return;let o=function(s,...a){return x(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return Z_.set(e,o),o}u1(n=>le(j({},n),{get:(e,t,r)=>l1(e,t)||n.get(e,t,r),has:(e,t)=>!!l1(e,t)||n.has(e,t)}));var eE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(U$(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function U$(n){let e=n.getComponent();return e?.type==="VERSION"}var tE="@firebase/app",h1="0.13.0";var Qr=new Er("@firebase/app"),B$="@firebase/app-compat",j$="@firebase/analytics-compat",$$="@firebase/analytics",H$="@firebase/app-check-compat",z$="@firebase/app-check",q$="@firebase/auth",G$="@firebase/auth-compat",W$="@firebase/database",K$="@firebase/data-connect",Q$="@firebase/database-compat",Y$="@firebase/functions",J$="@firebase/functions-compat",Z$="@firebase/installations",X$="@firebase/installations-compat",eH="@firebase/messaging",tH="@firebase/messaging-compat",nH="@firebase/performance",rH="@firebase/performance-compat",iH="@firebase/remote-config",oH="@firebase/remote-config-compat",sH="@firebase/storage",aH="@firebase/storage-compat",cH="@firebase/firestore",uH="@firebase/ai",lH="@firebase/firestore-compat",dH="firebase",hH="11.8.0";var nE="[DEFAULT]",fH={[tE]:"fire-core",[B$]:"fire-core-compat",[$$]:"fire-analytics",[j$]:"fire-analytics-compat",[z$]:"fire-app-check",[H$]:"fire-app-check-compat",[q$]:"fire-auth",[G$]:"fire-auth-compat",[W$]:"fire-rtdb",[K$]:"fire-data-connect",[Q$]:"fire-rtdb-compat",[Y$]:"fire-fn",[J$]:"fire-fn-compat",[Z$]:"fire-iid",[X$]:"fire-iid-compat",[eH]:"fire-fcm",[tH]:"fire-fcm-compat",[nH]:"fire-perf",[rH]:"fire-perf-compat",[iH]:"fire-rc",[oH]:"fire-rc-compat",[sH]:"fire-gcs",[aH]:"fire-gcs-compat",[cH]:"fire-fst",[lH]:"fire-fst-compat",[uH]:"fire-vertex","fire-js":"fire-js",[dH]:"fire-js-all"};var ju=new Map,pH=new Map,rE=new Map;function f1(n,e){try{n.container.addComponent(e)}catch(t){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jn(n){let e=n.name;if(rE.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;rE.set(e,n);for(let t of ju.values())f1(t,n);for(let t of pH.values())f1(t,n);return!0}function Gf(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yr(n){return n==null?!1:n.settings!==void 0}var gH={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Yn("app","Firebase",gH);var iE=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}};var ya=hH;function aE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(t||(t=H_()),!t)throw Li.create("no-options");let o=ju.get(i);if(o){if(Vo(t,o.options)&&Vo(r,o.config))return o;throw Li.create("duplicate-app",{appName:i})}let s=new zf(i);for(let c of rE.values())s.addComponent(c);let a=new iE(t,r,s);return ju.set(i,a),a}function va(n=nE){let e=ju.get(n);if(!e&&n===nE&&H_())return aE();if(!e)throw Li.create("no-app",{appName:n});return e}function Wf(){return Array.from(ju.values())}function ft(n,e,t){var r;let i=(r=fH[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Jn(new Zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var mH="firebase-heartbeat-database",yH=1,$u="firebase-heartbeat-store",X_=null;function y1(){return X_||(X_=d1(mH,yH,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($u)}catch(t){console.warn(t)}}}}).catch(n=>{throw Li.create("idb-open",{originalErrorMessage:n.message})})),X_}function vH(n){return x(this,null,function*(){try{let t=(yield y1()).transaction($u),r=yield t.objectStore($u).get(v1(n));return yield t.done,r}catch(e){if(e instanceof xn)Qr.warn(e.message);else{let t=Li.create("idb-get",{originalErrorMessage:e?.message});Qr.warn(t.message)}}})}function p1(n,e){return x(this,null,function*(){try{let r=(yield y1()).transaction($u,"readwrite");yield r.objectStore($u).put(e,v1(n)),yield r.done}catch(t){if(t instanceof xn)Qr.warn(t.message);else{let r=Li.create("idb-set",{originalErrorMessage:t?.message});Qr.warn(r.message)}}})}function v1(n){return`${n.name}!${n.options.appId}`}var _H=1024,EH=30,oE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new sE(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return x(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=g1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>EH){let s=CH(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}})}getHeartbeatsHeader(){return x(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=g1(),{heartbeatsToSend:r,unsentEntries:i}=wH(this._heartbeatsCache.heartbeats),o=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Qr.warn(t),""}})}};function g1(){return new Date().toISOString().substring(0,10)}function wH(n,e=_H){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),m1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),m1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var sE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return x(this,null,function*(){return Bu()?r1().then(()=>!0).catch(()=>!1):!1})}read(){return x(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield vH(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return x(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return p1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function m1(n){return Uu(JSON.stringify({version:2,heartbeats:n})).length}function CH(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function IH(n){Jn(new Zt("platform-logger",e=>new eE(e),"PRIVATE")),Jn(new Zt("heartbeat",e=>new oE(e),"PRIVATE")),ft(tE,h1,n),ft(tE,h1,"esm2017"),ft("fire-js","")}IH("");var bH="firebase",DH="11.8.1";ft(bH,DH,"app");function cE(n){n===void 0&&(nS(cE),n=$(Kt));let e=n.get(Th);return t=>new he(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var jo=new Ws("ANGULARFIRE2_VERSION");function Qf(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ea=(n,e)=>{let t=e?[e]:Wf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},_a=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(_a||{}),_1=ru()&&typeof Zone<"u"?_a.WARN:_a.SILENT;var Kf=class{zone;delegate;constructor(e,t=sy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},$o=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=$(ke);this.outsideAngular=t.runOutsideAngular(()=>new Kf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Kf(typeof Zone>"u"?void 0:Zone.current,Ms))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),E1=!1;function TH(n,e){!E1&&(_1>_a.SILENT||ru())&&(E1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),_1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function SH(n){let e=$(ke,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Bo(n){let e=$(ke,{optional:!0});return e?e.run(()=>n()):n()}var AH=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ot(t,()=>Bo(()=>n.apply(void 0,r)))),un=(n,e,t)=>(t||=e?_a.WARN:_a.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=$($o),s=$(Th),a=$(xt)}catch{return TH(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Bo(()=>s.add())),i[l]=AH(i[l],r,a));let c=SH(()=>n.apply(this,i));return e?c instanceof he?c.pipe(mi(o.outsideAngular),gi(o.insideAngular),cE(a)):c instanceof Promise?Bo(()=>new Promise((l,d)=>{s.run(()=>c).then(f=>Ot(a,()=>Bo(()=>l(f))),f=>Ot(a,()=>Bo(()=>d(f))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Bo(()=>c):c instanceof he?c.pipe(mi(o.outsideAngular),gi(o.insideAngular)):Bo(()=>c)});var Ho=class{constructor(e){return e}},Hu=class{constructor(){return Wf()}};function MH(n){return n&&n.length===1?n[0]:new Ho(va())}var uE=new K("angularfire2._apps"),PH={provide:Ho,useFactory:MH,deps:[[new hr,uE]]},xH={provide:Hu,deps:[[new hr,uE]]};function RH(n){return(e,t)=>{let r=t.get(Nt);ft("angularfire",jo.full,"core"),ft("angularfire",jo.full,"app"),ft("angular",aM.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ho(i)}}function w1(n,...e){return Di([PH,xH,{provide:uE,useFactory:RH(n),multi:!0,deps:[ke,Kt,$o,...e]}])}var C1=un(aE,!0);var OH=new Map,NH={activated:!1,tokenObservers:[]},kH={initialized:!1,enabled:!1};function Zn(n){return OH.get(n)||Object.assign({},NH)}function T1(){return kH}var FH="https://content-firebaseappcheck.googleapis.com/v1";var LH="exchangeDebugToken",I1={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ioe=24*60*60*1e3;var hE=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return x(this,null,function*(){this.stop();try{this.pending=new Lo,this.pending.promise.catch(t=>{}),yield VH(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Lo,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function VH(n){return new Promise(e=>{setTimeout(e,n)})}var UH={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Vi=new Yn("appCheck","AppCheck",UH);function S1(n){if(!Zn(n).activated)throw Vi.create("use-before-activation",{appName:n.name})}function A1(r,i){return x(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw Vi.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Vi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw Vi.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=l.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let f=Number(d[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+f,issuedAtTimeMillis:m}})}function M1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${FH}/projects/${t}/apps/${r}:${LH}?key=${i}`,body:{debug_token:e}}}var BH="firebase-app-check-database",jH=1,fE="firebase-app-check-store";var Yf=null;function $H(){return Yf||(Yf=new Promise((n,e)=>{try{let t=indexedDB.open(BH,jH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fE,{keyPath:"compositeKey"})}}}catch(t){e(Vi.create("storage-open",{originalErrorMessage:t?.message}))}}),Yf)}function HH(n,e){return zH(qH(n),e)}function zH(n,e){return x(this,null,function*(){let r=(yield $H()).transaction(fE,"readwrite"),o=r.objectStore(fE).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Vi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function qH(n){return`${n.options.appId}-${n.name}`}var zu=new Er("@firebase/app-check");function lE(n,e){return Bu()?HH(n,e).catch(t=>{zu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function P1(){return T1().enabled}function x1(){return x(this,null,function*(){let n=T1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var GH={error:"UNKNOWN_ERROR"};function WH(n){return jf.encodeString(JSON.stringify(n),!1)}function pE(n,e=!1,t=!1){return x(this,null,function*(){let r=n.app;S1(r);let i=Zn(r),o=i.token,s;if(o&&!qu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(qu(l)?o=l:yield lE(r,void 0))}if(!e&&o&&qu(o))return{token:o.token};let a=!1;if(P1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=A1(M1(r,yield x1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield lE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zu.warn(l.message):t&&zu.error(l),dE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Zn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?zu.warn(l.message):t&&zu.error(l),s=l}let c;return o?s?qu(o)?c={token:o.token,internalError:s}:c=dE(s):(c={token:o.token},i.token=o,yield lE(r,o)):c=dE(s),a&&JH(r,c),c})}function KH(n){return x(this,null,function*(){let e=n.app;S1(e);let{provider:t}=Zn(e);if(P1()){let r=yield x1(),{token:i}=yield A1(M1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function QH(n,e,t,r){let{app:i}=n,o=Zn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),b1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>b1(n))}function R1(n,e){let t=Zn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function b1(n){let{app:e}=n,t=Zn(e),r=t.tokenRefresher;r||(r=YH(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function YH(n){let{app:e}=n;return new hE(()=>x(null,null,function*(){let t=Zn(e),r;if(t.token?r=yield pE(n,!0):r=yield pE(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Zn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},I1.RETRIAL_MIN_WAIT,I1.RETRIAL_MAX_WAIT)}function JH(n,e){let t=Zn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qu(n){return n.expireTimeMillis-Date.now()>0}function dE(n){return{token:WH(GH),error:n}}var gE=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Zn(this.app);for(let t of e)R1(this.app,t.next);return Promise.resolve()}};function ZH(n,e){return new gE(n,e)}function XH(n){return{getToken:e=>pE(n,e),getLimitedUseToken:()=>KH(n),addTokenListener:e=>QH(n,"INTERNAL",e),removeTokenListener:e=>R1(n.app,e)}}var ez="@firebase/app-check",tz="0.10.0";var nz="app-check",D1="app-check-internal";function rz(){Jn(new Zt(nz,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return ZH(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(D1).initialize()})),Jn(new Zt(D1,n=>{let e=n.getProvider("app-check").getImmediate();return XH(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ft(ez,tz)}rz();var iz="app-check";var Jf=class{constructor(){return Ea(iz)}};var oz=["localhost","0.0.0.0","127.0.0.1"],yoe=typeof window<"u"&&oz.includes(window.location.hostname);function B1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var j1=B1,$1=new Yn("auth","Firebase",B1());var tp=new Er("@firebase/auth");function az(n,...e){tp.logLevel<=Me.WARN&&tp.warn(`Auth (${ya}): ${n}`,...e)}function Xf(n,...e){tp.logLevel<=Me.ERROR&&tp.error(`Auth (${ya}): ${n}`,...e)}function O1(n,...e){throw SE(n,...e)}function TE(n,...e){return SE(n,...e)}function H1(n,e,t){let r=Object.assign(Object.assign({},j1()),{[e]:t});return new Yn("auth","Firebase",r).create(e,{appName:n.name})}function ep(n){return H1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $1.create(n,...e)}function Le(n,e,...t){if(!n)throw SE(e,...t)}function Gu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xf(e),new Error(e)}function np(n,e){n||Gu(e)}function cz(){return N1()==="http:"||N1()==="https:"}function N1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function uz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cz()||e1()||"connection"in navigator)?navigator.onLine:!0}function lz(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Go=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,np(t>e,"Short delay should be less than long delay!"),this.isMobile=ZP()||t1()}get(){return uz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dz(n,e){np(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pz=new Go(3e4,6e4);function z1(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function cp(o,s,a,c){return x(this,arguments,function*(n,e,t,r,i={}){return q1(n,i,()=>x(null,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=G_(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},l);return XP()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ma(n.emulatorConfig.host)&&(g.credentials="include"),rp.fetch()(yield G1(n,n.config.apiHost,t,f),g)}))})}function q1(n,e,t){return x(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},hz),e);try{let i=new vE(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Zf(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Zf(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw H1(n,d,l);O1(n,d)}}catch(i){if(i instanceof xn)throw i;O1(n,"network-request-failed",{message:String(i)})}})}function G1(n,e,t,r){return x(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?dz(n.config,i):`${n.config.apiScheme}://${i}`;return fz.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var vE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(TE(this.auth,"network-request-failed")),pz.get())})}};function Zf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=TE(n,e,r);return i.customData._tokenResponse=t,i}function gz(n,e){return x(this,null,function*(){return cp(n,"POST","/v1/accounts:delete",e)})}function ip(n,e){return x(this,null,function*(){return cp(n,"POST","/v1/accounts:lookup",e)})}function Wu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function AE(n,e=!1){return x(this,null,function*(){let t=cn(n),r=yield t.getIdToken(e),i=W1(r);Le(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Wu(mE(i.auth_time)),issuedAtTime:Wu(mE(i.iat)),expirationTime:Wu(mE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function mE(n){return Number(n)*1e3}function W1(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xf("JWT malformed, contained fewer than 3 sections"),null;try{let i=$f(t);return i?JSON.parse(i):(Xf("Failed to decode base64 JWT payload"),null)}catch(i){return Xf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function k1(n){let e=W1(n);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function _E(n,e,t=!1){return x(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof xn&&mz(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function mz({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var EE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>x(this,null,function*(){yield this.iteration()}),t)}iteration(){return x(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function op(n){return x(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield _E(n,ip(t,{idToken:r}));Le(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?K1(o.providerUserInfo):[],a=yz(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,d=c?l:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Qu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,f)})}function ME(n){return x(this,null,function*(){let e=cn(n);yield op(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function yz(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K1(n){return n.map(e=>{var{providerId:t}=e,r=cy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vz(n,e){return x(this,null,function*(){let t=yield q1(n,{},()=>x(null,null,function*(){let r=G_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield G1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rp.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function _z(n,e){return x(this,null,function*(){return cp(n,"POST","/v2/accounts:revokeToken",z1(n,e))})}var Ku=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):k1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");let t=k1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return x(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return x(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield vz(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Le(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Le(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Le(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gu("not implemented")}};function Ui(n,e){Le(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var zo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return x(this,null,function*(){let t=yield _E(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return AE(this,e)}reload(){return ME(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return x(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield op(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return x(this,null,function*(){if(Yr(this.auth.app))return Promise.reject(ep(this.auth));let e=yield this.getIdToken();return yield _E(this,gz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,d;let f=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=t.photoURL)!==null&&s!==void 0?s:void 0,C=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:G,emailVerified:oe,isAnonymous:ze,providerData:_e,stsTokenManager:I}=t;Le(G&&I,e,"internal-error");let v=Ku.fromJSON(this.name,I);Le(typeof G=="string",e,"internal-error"),Ui(f,e.name),Ui(m,e.name),Le(typeof oe=="boolean",e,"internal-error"),Le(typeof ze=="boolean",e,"internal-error"),Ui(g,e.name),Ui(_,e.name),Ui(C,e.name),Ui(S,e.name),Ui(k,e.name),Ui(H,e.name);let E=new n({uid:G,auth:e,email:m,emailVerified:oe,displayName:f,isAnonymous:ze,photoURL:_,phoneNumber:g,tenantId:C,stsTokenManager:v,createdAt:k,lastLoginAt:H});return _e&&Array.isArray(_e)&&(E.providerData=_e.map(b=>Object.assign({},b))),S&&(E._redirectEventId=S),E}static _fromIdTokenResponse(e,t,r=!1){return x(this,null,function*(){let i=new Ku;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield op(o),o})}static _fromGetAccountInfoResponse(e,t,r){return x(this,null,function*(){let i=t.users[0];Le(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?K1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ku;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var F1=new Map;function qo(n){np(n instanceof Function,"Expected a class definition");let e=F1.get(n);return e?(np(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,F1.set(n,e),e)}var Ez=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return x(this,null,function*(){return!0})}_set(t,r){return x(this,null,function*(){this.storage[t]=r})}_get(t){return x(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return x(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),wE=Ez;function yE(n,e,t){return`firebase:${n}:${e}:${t}`}var sp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yE(this.userKey,i.apiKey,o),this.fullPersistenceKey=yE("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return x(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield ip(this.auth,{idToken:e}).catch(()=>{});return t?zo._fromGetAccountInfoResponse(this.auth,t,e):null}return zo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return x(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return x(this,null,function*(){if(!t.length)return new n(qo(wE),e,r);let i=(yield Promise.all(t.map(l=>x(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||qo(wE),s=yE(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let d=yield l._get(s);if(d){let f;if(typeof d=="string"){let m=yield ip(e,{idToken:d}).catch(()=>{});if(!m)break;f=yield zo._fromGetAccountInfoResponse(e,m,d)}else f=zo._fromJSON(e,d);l!==o&&(a=f),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>x(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function L1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tz(e))return"Blackberry";if(Sz(e))return"Webos";if(Cz(e))return"Safari";if((e.includes("chrome/")||Iz(e))&&!e.includes("edge/"))return"Chrome";if(Dz(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function wz(n=wn()){return/firefox\//i.test(n)}function Cz(n=wn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iz(n=wn()){return/crios\//i.test(n)}function bz(n=wn()){return/iemobile/i.test(n)}function Dz(n=wn()){return/android/i.test(n)}function Tz(n=wn()){return/blackberry/i.test(n)}function Sz(n=wn()){return/webos/i.test(n)}function Q1(n,e=[]){let t;switch(n){case"Browser":t=L1(wn());break;case"Worker":t=`${L1(wn())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ya}/${r}`}var CE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return x(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Az(t){return x(this,arguments,function*(n,e={}){return cp(n,"GET","/v2/passwordPolicy",z1(n,e))})}var Mz=6,IE=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:Mz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var bE=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ap(this),this.idTokenSubscription=new ap(this),this.beforeStateQueue=new CE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qo(t)),this._initializationPromise=this.queue(()=>x(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield sp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return x(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return x(this,null,function*(){try{let t=yield ip(this,{idToken:e}),r=yield zo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return x(this,null,function*(){var t;if(Yr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return x(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return x(this,null,function*(){try{yield op(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=lz()}_delete(){return x(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return x(this,null,function*(){if(Yr(this.app))return Promise.reject(ep(this));let t=e?cn(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return x(this,null,function*(){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>x(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return x(this,null,function*(){return Yr(this.app)?Promise.reject(ep(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Yr(this.app)?Promise.reject(ep(this)):this.queue(()=>x(this,null,function*(){yield this.assertedPersistence.setPersistence(qo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return x(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return x(this,null,function*(){let e=yield Az(this),t=new IE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return x(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _z(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return x(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return x(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&qo(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=yield sp.create(this,[qo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return x(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>x(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return x(this,null,function*(){if(e===this.currentUser)return this.queue(()=>x(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return x(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return x(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return x(this,null,function*(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&az(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Pz(n){return cn(n)}var ap=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=i1(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xz={loadJS(){return x(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rz(n){xz=n}function Oz(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Nz(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Moe=Oz("rcb"),Poe=new Go(3e4,6e4);var xoe=new Go(2e3,1e4);var Roe=10*60*1e3;var Ooe=new Go(3e4,6e4);var Noe=new Go(5e3,15e3);var koe=encodeURIComponent("fac");var V1="@firebase/auth",U1="1.10.6";var DE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return x(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kz(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fz(n){Jn(new Zt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Le(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(n)},l=new bE(r,i,o,c);return Nz(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Zt("auth-internal",e=>{let t=Pz(e.getProvider("auth").getImmediate());return(r=>new DE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ft(V1,U1,kz(n)),ft(V1,U1,"esm2017")}var Lz=5*60,Foe=YP("authIdTokenMaxAge")||Lz;function Vz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Rz({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=TE("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Vz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fz("Browser");var F5="auth";var up=class{constructor(){return Ea(F5)}};var Y1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J1={};var Jr,PE;(function(){var n;function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(b,D,M){for(var w=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)w[bn-2]=arguments[bn];return v.prototype[D].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)b[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],D=I.g[2];var M=I.g[3],w=v+(M^E&(D^M))+b[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=M+(D^v&(E^D))+b[1]+3905402710&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(E^M&(v^E))+b[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(v^D&(M^v))+b[3]+3250441966&4294967295,E=D+(w<<22&4294967295|w>>>10),w=v+(M^E&(D^M))+b[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=M+(D^v&(E^D))+b[5]+1200080426&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(E^M&(v^E))+b[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(v^D&(M^v))+b[7]+4249261313&4294967295,E=D+(w<<22&4294967295|w>>>10),w=v+(M^E&(D^M))+b[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=M+(D^v&(E^D))+b[9]+2336552879&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(E^M&(v^E))+b[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(v^D&(M^v))+b[11]+2304563134&4294967295,E=D+(w<<22&4294967295|w>>>10),w=v+(M^E&(D^M))+b[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=M+(D^v&(E^D))+b[13]+4254626195&4294967295,M=v+(w<<12&4294967295|w>>>20),w=D+(E^M&(v^E))+b[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=E+(v^D&(M^v))+b[15]+1236535329&4294967295,E=D+(w<<22&4294967295|w>>>10),w=v+(D^M&(E^D))+b[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(v^E))+b[6]+3225465664&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^E&(M^v))+b[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^v&(D^M))+b[0]+3921069994&4294967295,E=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(E^D))+b[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(v^E))+b[10]+38016083&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^E&(M^v))+b[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^v&(D^M))+b[4]+3889429448&4294967295,E=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(E^D))+b[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(v^E))+b[14]+3275163606&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^E&(M^v))+b[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^v&(D^M))+b[8]+1163531501&4294967295,E=D+(w<<20&4294967295|w>>>12),w=v+(D^M&(E^D))+b[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=M+(E^D&(v^E))+b[2]+4243563512&4294967295,M=v+(w<<9&4294967295|w>>>23),w=D+(v^E&(M^v))+b[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=E+(M^v&(D^M))+b[12]+2368359562&4294967295,E=D+(w<<20&4294967295|w>>>12),w=v+(E^D^M)+b[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=M+(v^E^D)+b[8]+2272392833&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^E)+b[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^v)+b[14]+4259657740&4294967295,E=D+(w<<23&4294967295|w>>>9),w=v+(E^D^M)+b[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=M+(v^E^D)+b[4]+1272893353&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^E)+b[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^v)+b[10]+3200236656&4294967295,E=D+(w<<23&4294967295|w>>>9),w=v+(E^D^M)+b[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=M+(v^E^D)+b[0]+3936430074&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^E)+b[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^v)+b[6]+76029189&4294967295,E=D+(w<<23&4294967295|w>>>9),w=v+(E^D^M)+b[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=M+(v^E^D)+b[12]+3873151461&4294967295,M=v+(w<<11&4294967295|w>>>21),w=D+(M^v^E)+b[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=E+(D^M^v)+b[2]+3299628645&4294967295,E=D+(w<<23&4294967295|w>>>9),w=v+(D^(E|~M))+b[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=M+(E^(v|~D))+b[7]+1126891415&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~E))+b[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~v))+b[5]+4237533241&4294967295,E=D+(w<<21&4294967295|w>>>11),w=v+(D^(E|~M))+b[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=M+(E^(v|~D))+b[3]+2399980690&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~E))+b[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~v))+b[1]+2240044497&4294967295,E=D+(w<<21&4294967295|w>>>11),w=v+(D^(E|~M))+b[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=M+(E^(v|~D))+b[15]+4264355552&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~E))+b[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~v))+b[13]+1309151649&4294967295,E=D+(w<<21&4294967295|w>>>11),w=v+(D^(E|~M))+b[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=M+(E^(v|~D))+b[11]+3174756917&4294967295,M=v+(w<<10&4294967295|w>>>22),w=D+(v^(M|~E))+b[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=E+(M^(D|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,b=this.B,D=this.h,M=0;M<v;){if(D==0)for(;M<=E;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<v;)if(b[D++]=I.charCodeAt(M++),D==this.blockSize){i(this,b),D=0;break}}else for(;M<v;)if(b[D++]=I[M++],D==this.blockSize){i(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var b=0;32>b;b+=8)I[E++]=this.g[v]>>>b&255;return I};function o(I,v){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function s(I,v){this.h=v;for(var E=[],b=!0,D=I.length-1;0<=D;D--){var M=I[D]|0;b&&M==v||(E[D]=M,b=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return S(l(-I));for(var v=[],E=1,b=0;I>=E;b++)v[b]=I/E|0,E*=4294967296;return new s(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return S(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),b=f,D=0;D<I.length;D+=8){var M=Math.min(8,I.length-D),w=parseInt(I.substring(D,D+M),v);8>M?(M=l(Math.pow(v,M)),b=b.j(M).add(l(w))):(b=b.j(E),b=b.add(l(w)))}return b}var f=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(C(this))return-S(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var b=this.i(E);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(C(this))return"-"+S(this).toString(I);for(var v=l(Math.pow(I,6)),E=this,b="";;){var D=oe(E,v).g;E=k(E,D.j(v));var M=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=D,_(E))return M+b;for(;6>M.length;)M="0"+M;b=M+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function C(I){return I.h==-1}n.l=function(I){return I=k(this,I),C(I)?-1:_(I)?0:1};function S(I){for(var v=I.g.length,E=[],b=0;b<v;b++)E[b]=~I.g[b];return new s(E,~I.h).add(m)}n.abs=function(){return C(this)?S(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0,D=0;D<=v;D++){var M=b+(this.i(D)&65535)+(I.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);b=w>>>16,M&=65535,w&=65535,E[D]=w<<16|M}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(I,v){return I.add(S(v))}n.j=function(I){if(_(this)||_(I))return f;if(C(this))return C(I)?S(this).j(S(I)):S(S(this).j(I));if(C(I))return S(this.j(S(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],b=0;b<2*v;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<I.g.length;D++){var M=this.i(b)>>>16,w=this.i(b)&65535,bn=I.i(D)>>>16,ui=I.i(D)&65535;E[2*b+2*D]+=w*ui,H(E,2*b+2*D),E[2*b+2*D+1]+=M*ui,H(E,2*b+2*D+1),E[2*b+2*D+1]+=w*bn,H(E,2*b+2*D+1),E[2*b+2*D+2]+=M*bn,H(E,2*b+2*D+2)}for(b=0;b<v;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=v;b<2*v;b++)E[b]=0;return new s(E,0)};function H(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function G(I,v){this.g=I,this.h=v}function oe(I,v){if(_(v))throw Error("division by zero");if(_(I))return new G(f,f);if(C(I))return v=oe(S(I),v),new G(S(v.g),S(v.h));if(C(v))return v=oe(I,S(v)),new G(S(v.g),v.h);if(30<I.g.length){if(C(I)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,b=v;0>=b.l(I);)E=ze(E),b=ze(b);var D=_e(E,1),M=_e(b,1);for(b=_e(b,2),E=_e(E,2);!_(b);){var w=M.add(b);0>=w.l(I)&&(D=D.add(E),M=w),b=_e(b,1),E=_e(E,1)}return v=k(I,D.j(v)),new G(D,v)}for(D=f;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),M=l(E),w=M.j(v);C(w)||0<w.l(I);)E-=b,M=l(E),w=M.j(v);_(M)&&(M=m),D=D.add(M),I=k(I,w)}return new G(D,I)}n.A=function(I){return oe(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)&I.i(b);return new s(E,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)|I.i(b);return new s(E,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)^I.i(b);return new s(E,this.h^I.h)};function ze(I){for(var v=I.g.length+1,E=[],b=0;b<v;b++)E[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(E,I.h)}function _e(I,v){var E=v>>5;v%=32;for(var b=I.g.length-E,D=[],M=0;M<b;M++)D[M]=0<v?I.i(M+E)>>>v|I.i(M+E+1)<<32-v:I.i(M+E);return new s(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PE=J1.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=d,Jr=J1.Integer=s}).apply(typeof Y1<"u"?Y1:typeof self<"u"?self:typeof window<"u"?window:{});var lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zr={};var xE,L5,wa,RE,Yu,dp,OE,NE,kE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lp=="object"&&lp];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var A=u[y];if(!(A in p))break e;p=p[A]}u=u[u.length-1],y=p[u],h=h(y),h!=y&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function o(u,h){u instanceof String&&(u+="");var p=0,y=!1,A={next:function(){if(!y&&p<u.length){var R=p++;return{value:h(R,u[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(u){return u||function(){return o(this,function(h,p){return p})}});var s=s||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),u.apply(h,A)}}return function(){return u.apply(h,arguments)}}function m(u,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var y=p.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function _(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(y,A,R){for(var q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)q[qe-2]=arguments[qe];return h.prototype[A].apply(y,q)}}function C(u){let h=u.length;if(0<h){let p=Array(h);for(let y=0;y<h;y++)p[y]=u[y];return p}return[]}function S(u,h){for(let p=1;p<arguments.length;p++){let y=arguments[p];if(c(y)){let A=u.length||0,R=y.length||0;u.length=A+R;for(let q=0;q<R;q++)u[A+q]=y[q]}else u.push(y)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(u){return/^[\s\xa0]*$/.test(u)}function G(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function oe(u){return oe[" "](u),u}oe[" "]=function(){};var ze=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function _e(u,h,p){for(let y in u)h.call(p,u[y],y,u)}function I(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function v(u){let h={};for(let p in u)h[p]=u[p];return h}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,h){let p,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(p in y)u[p]=y[p];for(let R=0;R<E.length;R++)p=E[R],Object.prototype.hasOwnProperty.call(y,p)&&(u[p]=y[p])}}function D(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function M(u){a.setTimeout(()=>{throw u},0)}function w(){var u=Ae;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class bn{constructor(){this.h=this.g=null}add(h,p){let y=ui.get();y.set(h,p),this.h?this.h.next=y:this.g=y,this.h=y}}var ui=new k(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ie=!1,Ae=new bn,ht=()=>{let u=a.Promise.resolve(void 0);X=()=>{u.then(Dn)}};var Dn=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){M(p)}var h=ui;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}ie=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ye(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Ye.prototype.h=function(){this.defaultPrevented=!0};var Je=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function li(u,h){if(Ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(ze){e:{try{oe(h.nodeName);var A=!0;break e}catch{}A=!1}A||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:am[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&li.aa.h.call(this)}}_(li,Ye);var am={2:"touch",3:"pen",4:"mouse"};li.prototype.h=function(){li.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),Mr=0;function en(u,h,p,y,A){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!y,this.ha=A,this.key=++Mr,this.da=this.fa=!1}function Pr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function di(u){this.src=u,this.g={},this.h=0}di.prototype.add=function(u,h,p,y,A){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var q=um(u,h,y,A);return-1<q?(h=u[q],p||(h.fa=!1)):(h=new en(h,this.src,R,!!y,A),h.fa=p,u.push(h)),h};function cm(u,h){var p=h.type;if(p in u.g){var y=u.g[p],A=Array.prototype.indexOf.call(y,h,void 0),R;(R=0<=A)&&Array.prototype.splice.call(y,A,1),R&&(Pr(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function um(u,h,p,y){for(var A=0;A<u.length;++A){var R=u[A];if(!R.da&&R.listener==h&&R.capture==!!p&&R.ha==y)return A}return-1}var lm="closure_lm_"+(1e6*Math.random()|0),dm={};function tb(u,h,p,y,A){if(y&&y.once)return rb(u,h,p,y,A);if(Array.isArray(h)){for(var R=0;R<h.length;R++)tb(u,h[R],p,y,A);return null}return p=gm(p),u&&u[at]?u.K(h,p,l(y)?!!y.capture:!!y,A):nb(u,h,p,!1,y,A)}function nb(u,h,p,y,A,R){if(!h)throw Error("Invalid event type");var q=l(A)?!!A.capture:!!A,qe=fm(u);if(qe||(u[lm]=qe=new di(u)),p=qe.add(h,p,y,q,R),p.proxy)return p;if(y=wk(),p.proxy=y,y.src=u,y.listener=p,u.addEventListener)Je||(A=q),A===void 0&&(A=!1),u.addEventListener(h.toString(),y,A);else if(u.attachEvent)u.attachEvent(ob(h.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return p}function wk(){function u(p){return h.call(u.src,u.listener,p)}let h=Ck;return u}function rb(u,h,p,y,A){if(Array.isArray(h)){for(var R=0;R<h.length;R++)rb(u,h[R],p,y,A);return null}return p=gm(p),u&&u[at]?u.L(h,p,l(y)?!!y.capture:!!y,A):nb(u,h,p,!0,y,A)}function ib(u,h,p,y,A){if(Array.isArray(h))for(var R=0;R<h.length;R++)ib(u,h[R],p,y,A);else y=l(y)?!!y.capture:!!y,p=gm(p),u&&u[at]?(u=u.i,h=String(h).toString(),h in u.g&&(R=u.g[h],p=um(R,p,y,A),-1<p&&(Pr(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete u.g[h],u.h--)))):u&&(u=fm(u))&&(h=u.g[h.toString()],u=-1,h&&(u=um(h,p,y,A)),(p=-1<u?h[u]:null)&&hm(p))}function hm(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[at])cm(h.i,u);else{var p=u.type,y=u.proxy;h.removeEventListener?h.removeEventListener(p,y,u.capture):h.detachEvent?h.detachEvent(ob(p),y):h.addListener&&h.removeListener&&h.removeListener(y),(p=fm(h))?(cm(p,u),p.h==0&&(p.src=null,h[lm]=null)):Pr(u)}}}function ob(u){return u in dm?dm[u]:dm[u]="on"+u}function Ck(u,h){if(u.da)u=!0;else{h=new li(h,this);var p=u.listener,y=u.ha||u.src;u.fa&&hm(u),u=p.call(y,h)}return u}function fm(u){return u=u[lm],u instanceof di?u:null}var pm="__closure_events_fn_"+(1e9*Math.random()>>>0);function gm(u){return typeof u=="function"?u:(u[pm]||(u[pm]=function(h){return u.handleEvent(h)}),u[pm])}function Ft(){st.call(this),this.i=new di(this),this.M=this,this.F=null}_(Ft,st),Ft.prototype[at]=!0,Ft.prototype.removeEventListener=function(u,h,p,y){ib(this,u,h,p,y)};function zt(u,h){var p,y=u.F;if(y)for(p=[];y;y=y.F)p.push(y);if(u=u.M,y=h.type||h,typeof h=="string")h=new Ye(h,u);else if(h instanceof Ye)h.target=h.target||u;else{var A=h;h=new Ye(y,u),b(h,A)}if(A=!0,p)for(var R=p.length-1;0<=R;R--){var q=h.g=p[R];A=Fl(q,y,!0,h)&&A}if(q=h.g=u,A=Fl(q,y,!0,h)&&A,A=Fl(q,y,!1,h)&&A,p)for(R=0;R<p.length;R++)q=h.g=p[R],A=Fl(q,y,!1,h)&&A}Ft.prototype.N=function(){if(Ft.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],y=0;y<p.length;y++)Pr(p[y]);delete u.g[h],u.h--}}this.F=null},Ft.prototype.K=function(u,h,p,y){return this.i.add(String(u),h,!1,p,y)},Ft.prototype.L=function(u,h,p,y){return this.i.add(String(u),h,!0,p,y)};function Fl(u,h,p,y){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var A=!0,R=0;R<h.length;++R){var q=h[R];if(q&&!q.da&&q.capture==p){var qe=q.listener,Mt=q.ha||q.src;q.fa&&cm(u.i,q),A=qe.call(Mt,y)!==!1&&A}}return A&&!y.defaultPrevented}function sb(u,h,p){if(typeof u=="function")p&&(u=m(u,p));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function ab(u){u.g=sb(()=>{u.g=null,u.i&&(u.i=!1,ab(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class Ik extends st{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ab(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sc(u){st.call(this),this.h=u,this.g={}}_(sc,st);var cb=[];function ub(u){_e(u.g,function(h,p){this.g.hasOwnProperty(p)&&hm(h)},u),u.g={}}sc.prototype.N=function(){sc.aa.N.call(this),ub(this)},sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mm=a.JSON.stringify,bk=a.JSON.parse,Dk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ym(){}ym.prototype.h=null;function lb(u){return u.h||(u.h=u.i())}function db(){}var ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vm(){Ye.call(this,"d")}_(vm,Ye);function _m(){Ye.call(this,"c")}_(_m,Ye);var Yi={},hb=null;function Ll(){return hb=hb||new Ft}Yi.La="serverreachability";function fb(u){Ye.call(this,Yi.La,u)}_(fb,Ye);function cc(u){let h=Ll();zt(h,new fb(h))}Yi.STAT_EVENT="statevent";function pb(u,h){Ye.call(this,Yi.STAT_EVENT,u),this.stat=h}_(pb,Ye);function qt(u){let h=Ll();zt(h,new pb(h,u))}Yi.Ma="timingevent";function gb(u,h){Ye.call(this,Yi.Ma,u),this.size=h}_(gb,Ye);function uc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function lc(){this.g=!0}lc.prototype.xa=function(){this.g=!1};function Tk(u,h,p,y,A,R){u.info(function(){if(u.g)if(R)for(var q="",qe=R.split("&"),Mt=0;Mt<qe.length;Mt++){var Ne=qe[Mt].split("=");if(1<Ne.length){var Lt=Ne[0];Ne=Ne[1];var Vt=Lt.split("_");q=2<=Vt.length&&Vt[1]=="type"?q+(Lt+"="+Ne+"&"):q+(Lt+"=redacted&")}}else q=null;else q=R;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+h+`
`+p+`
`+q})}function Sk(u,h,p,y,A,R,q){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+h+`
`+p+`
`+R+" "+q})}function ms(u,h,p,y){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+Mk(u,p)+(y?" "+y:"")})}function Ak(u,h){u.info(function(){return"TIMEOUT: "+h})}lc.prototype.info=function(){};function Mk(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var y=p[u];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var R=A[0];if(R!="noop"&&R!="stop"&&R!="close")for(var q=1;q<A.length;q++)A[q]=""}}}}return mm(p)}catch{return h}}var Vl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Em;function Ul(){}_(Ul,ym),Ul.prototype.g=function(){return new XMLHttpRequest},Ul.prototype.i=function(){return{}},Em=new Ul;function hi(u,h,p,y){this.j=u,this.i=h,this.l=p,this.R=y||1,this.U=new sc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yb}function yb(){this.i=null,this.g="",this.h=!1}var vb={},wm={};function Cm(u,h,p){u.L=1,u.v=Hl(xr(h)),u.m=p,u.P=!0,_b(u,null)}function _b(u,h){u.F=Date.now(),Bl(u),u.A=xr(u.v);var p=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),Ob(p.i,"t",y),u.C=0,p=u.j.J,u.h=new yb,u.g=Jb(u.j,p?h:null,!u.m),0<u.O&&(u.M=new Ik(m(u.Y,u,u.g),u.O)),h=u.U,p=u.g,y=u.ca;var A="readystatechange";Array.isArray(A)||(A&&(cb[0]=A.toString()),A=cb);for(var R=0;R<A.length;R++){var q=tb(p,A[R],y||h.handleEvent,!1,h.h||h);if(!q)break;h.g[q.key]=q}h=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),cc(),Tk(u.i,u.u,u.A,u.l,u.R,u.m)}hi.prototype.ca=function(u){u=u.target;let h=this.M;h&&Rr(u)==3?h.j():this.Y(u)},hi.prototype.Y=function(u){try{if(u==this.g)e:{let Vt=Rr(this.g);var h=this.g.Ba();let _s=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Bb(this.g)))){this.J||Vt!=4||h==7||(h==8||0>=_s?cc(3):cc(2)),Im(this);var p=this.g.Z();this.X=p;t:if(Eb(this)){var y=Bb(this.g);u="";var A=y.length,R=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ji(this),dc(this);var q="";break t}this.h.i=new a.TextDecoder}for(h=0;h<A;h++)this.h.h=!0,u+=this.h.i.decode(y[h],{stream:!(R&&h==A-1)});y.length=0,this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,Sk(this.i,this.u,this.A,this.l,this.R,Vt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Mt=this.g;if((qe=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(qe)){var Ne=qe;break t}}Ne=null}if(p=Ne)ms(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bm(this,p);else{this.o=!1,this.s=3,qt(12),Ji(this),dc(this);break e}}if(this.P){p=!0;let kn;for(;!this.J&&this.C<q.length;)if(kn=Pk(this,q),kn==wm){Vt==4&&(this.s=4,qt(14),p=!1),ms(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==vb){this.s=4,qt(15),ms(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else ms(this.i,this.l,kn,null),bm(this,kn);if(Eb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||q.length!=0||this.h.h||(this.s=1,qt(16),p=!1),this.o=this.o&&p,!p)ms(this.i,this.l,q,"[Invalid Chunked Response]"),Ji(this),dc(this);else if(0<q.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Pm(Lt),Lt.M=!0,qt(11))}}else ms(this.i,this.l,q,null),bm(this,q);Vt==4&&Ji(this),this.o&&!this.J&&(Vt==4?Wb(this.j,this):(this.o=!1,Bl(this)))}else Wk(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),Ji(this),dc(this)}}}catch{}finally{}};function Eb(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pk(u,h){var p=u.C,y=h.indexOf(`
`,p);return y==-1?wm:(p=Number(h.substring(p,y)),isNaN(p)?vb:(y+=1,y+p>h.length?wm:(h=h.slice(y,y+p),u.C=y+p,h)))}hi.prototype.cancel=function(){this.J=!0,Ji(this)};function Bl(u){u.S=Date.now()+u.I,wb(u,u.I)}function wb(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=uc(m(u.ba,u),h)}function Im(u){u.B&&(a.clearTimeout(u.B),u.B=null)}hi.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(Ak(this.i,this.A),this.L!=2&&(cc(),qt(17)),Ji(this),this.s=2,dc(this)):wb(this,this.S-u)};function dc(u){u.j.G==0||u.J||Wb(u.j,u)}function Ji(u){Im(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,ub(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function bm(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||Dm(p.h,u))){if(!u.K&&Dm(p.h,u)&&p.G==3){try{var y=p.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Kl(p),Gl(p);else break e;Mm(p),qt(18)}}else p.za=A[1],0<p.za-p.T&&37500>A[2]&&p.F&&p.v==0&&!p.C&&(p.C=uc(m(p.Za,p),6e3));if(1>=bb(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Xi(p,11)}else if((u.K||p.g==u)&&Kl(p),!H(h))for(A=p.Da.g.parse(h),h=0;h<A.length;h++){let Ne=A[h];if(p.T=Ne[0],Ne=Ne[1],p.G==2)if(Ne[0]=="c"){p.K=Ne[1],p.ia=Ne[2];let Lt=Ne[3];Lt!=null&&(p.la=Lt,p.j.info("VER="+p.la));let Vt=Ne[4];Vt!=null&&(p.Aa=Vt,p.j.info("SVER="+p.Aa));let _s=Ne[5];_s!=null&&typeof _s=="number"&&0<_s&&(y=1.5*_s,p.L=y,p.j.info("backChannelRequestTimeoutMs_="+y)),y=p;let kn=u.g;if(kn){let Yl=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yl){var R=y.h;R.g||Yl.indexOf("spdy")==-1&&Yl.indexOf("quic")==-1&&Yl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Tm(R,R.h),R.h=null))}if(y.D){let xm=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;xm&&(y.ya=xm,Ze(y.I,y.D,xm))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),y=p;var q=u;if(y.qa=Yb(y,y.J?y.ia:null,y.W),q.K){Db(y.h,q);var qe=q,Mt=y.L;Mt&&(qe.I=Mt),qe.B&&(Im(qe),Bl(qe)),y.g=q}else qb(y);0<p.i.length&&Wl(p)}else Ne[0]!="stop"&&Ne[0]!="close"||Xi(p,7);else p.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Xi(p,7):Am(p):Ne[0]!="noop"&&p.l&&p.l.ta(Ne),p.v=0)}}cc(4)}catch{}}var xk=class{constructor(u,h){this.g=u,this.map=h}};function Cb(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ib(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bb(u){return u.h?1:u.g?u.g.size:0}function Dm(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function Tm(u,h){u.g?u.g.add(h):u.h=h}function Db(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}Cb.prototype.cancel=function(){if(this.i=Tb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function Tb(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return C(u.i)}function Rk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,y=0;y<p;y++)h.push(u[y]);return h}h=[],p=0;for(y in u)h[p++]=u[y];return h}function Ok(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let y in u)h[p++]=y;return h}}}function Sb(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=Ok(u),y=Rk(u),A=y.length,R=0;R<A;R++)h.call(void 0,y[R],p&&p[R],u)}var Ab=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nk(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var y=u[p].indexOf("="),A=null;if(0<=y){var R=u[p].substring(0,y);A=u[p].substring(y+1)}else R=u[p];h(R,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function Zi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Zi){this.h=u.h,jl(this,u.j),this.o=u.o,this.g=u.g,$l(this,u.s),this.l=u.l;var h=u.i,p=new pc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),Mb(this,p),this.m=u.m}else u&&(h=String(u).match(Ab))?(this.h=!1,jl(this,h[1]||"",!0),this.o=hc(h[2]||""),this.g=hc(h[3]||"",!0),$l(this,h[4]),this.l=hc(h[5]||"",!0),Mb(this,h[6]||"",!0),this.m=hc(h[7]||"")):(this.h=!1,this.i=new pc(null,this.h))}Zi.prototype.toString=function(){var u=[],h=this.j;h&&u.push(fc(h,Pb,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(fc(h,Pb,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(fc(p,p.charAt(0)=="/"?Lk:Fk,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",fc(p,Uk)),u.join("")};function xr(u){return new Zi(u)}function jl(u,h,p){u.j=p?hc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function $l(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function Mb(u,h,p){h instanceof pc?(u.i=h,Bk(u.i,u.h)):(p||(h=fc(h,Vk)),u.i=new pc(h,u.h))}function Ze(u,h,p){u.i.set(h,p)}function Hl(u){return Ze(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function hc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,kk),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function kk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Pb=/[#\/\?@]/g,Fk=/[#\?:]/g,Lk=/[#\?]/g,Vk=/[#\?@]/g,Uk=/#/g;function pc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function fi(u){u.g||(u.g=new Map,u.h=0,u.i&&Nk(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}n=pc.prototype,n.add=function(u,h){fi(this),this.i=null,u=ys(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function xb(u,h){fi(u),h=ys(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function Rb(u,h){return fi(u),h=ys(u,h),u.g.has(h)}n.forEach=function(u,h){fi(this),this.g.forEach(function(p,y){p.forEach(function(A){u.call(h,A,y,this)},this)},this)},n.na=function(){fi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let y=0;y<h.length;y++){let A=u[y];for(let R=0;R<A.length;R++)p.push(h[y])}return p},n.V=function(u){fi(this);let h=[];if(typeof u=="string")Rb(this,u)&&(h=h.concat(this.g.get(ys(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},n.set=function(u,h){return fi(this),this.i=null,u=ys(this,u),Rb(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},n.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function Ob(u,h,p){xb(u,h),0<p.length&&(u.i=null,u.g.set(ys(u,h),C(p)),u.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var y=h[p];let R=encodeURIComponent(String(y)),q=this.V(y);for(y=0;y<q.length;y++){var A=R;q[y]!==""&&(A+="="+encodeURIComponent(String(q[y]))),u.push(A)}}return this.i=u.join("&")};function ys(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function Bk(u,h){h&&!u.j&&(fi(u),u.i=null,u.g.forEach(function(p,y){var A=y.toLowerCase();y!=A&&(xb(this,y),Ob(this,A,p))},u)),u.j=h}function jk(u,h){let p=new lc;if(a.Image){let y=new Image;y.onload=g(pi,p,"TestLoadImage: loaded",!0,h,y),y.onerror=g(pi,p,"TestLoadImage: error",!1,h,y),y.onabort=g(pi,p,"TestLoadImage: abort",!1,h,y),y.ontimeout=g(pi,p,"TestLoadImage: timeout",!1,h,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else h(!1)}function $k(u,h){let p=new lc,y=new AbortController,A=setTimeout(()=>{y.abort(),pi(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:y.signal}).then(R=>{clearTimeout(A),R.ok?pi(p,"TestPingServer: ok",!0,h):pi(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(A),pi(p,"TestPingServer: error",!1,h)})}function pi(u,h,p,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(p)}catch{}}function Hk(){this.g=new Dk}function zk(u,h,p){let y=p||"";try{Sb(u,function(A,R){let q=A;l(A)&&(q=mm(A)),h.push(y+R+"="+encodeURIComponent(q))})}catch(A){throw h.push(y+"type="+encodeURIComponent("_badmap")),A}}function gc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(gc,ym),gc.prototype.g=function(){return new zl(this.l,this.j)},gc.prototype.i=function(u){return function(){return u}}({});function zl(u,h){Ft.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(zl,Ft),n=zl.prototype,n.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,yc(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mc(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Nb(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Nb(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?mc(this):yc(this),this.readyState==3&&Nb(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,mc(this))},n.Qa=function(u){this.g&&(this.response=u,mc(this))},n.ga=function(){this.g&&mc(this)};function mc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yc(u)}n.setRequestHeader=function(u,h){this.u.append(u,h)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function yc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kb(u){let h="";return _e(u,function(p,y){h+=y,h+=":",h+=p,h+=`\r
`}),h}function Sm(u,h,p){e:{for(y in p){var y=!1;break e}y=!0}y||(p=kb(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Ze(u,h,p))}function ct(u){Ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(ct,Ft);var qk=/^https?$/i,Gk=["POST","PUT"];n=ct.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,h,p,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Em.g(),this.v=this.o?lb(this.o):lb(Em),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(R){Fb(this,R);return}if(u=p||"",p=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)p.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())p.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),A=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Gk,h,void 0))||y||A||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,q]of p)this.g.setRequestHeader(R,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ub(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){Fb(this,R)}};function Fb(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,Lb(u),ql(u)}function Lb(u){u.A||(u.A=!0,zt(u,"complete"),zt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,zt(this,"complete"),zt(this,"abort"),ql(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ql(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Vb(this):this.bb())},n.bb=function(){Vb(this)};function Vb(u){if(u.h&&typeof s<"u"&&(!u.v[1]||Rr(u)!=4||u.Z()!=2)){if(u.u&&Rr(u)==4)sb(u.Ea,0,u);else if(zt(u,"readystatechange"),Rr(u)==4){u.h=!1;try{let q=u.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var y;if(y=q===0){var A=String(u.D).match(Ab)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!qk.test(A?A.toLowerCase():"")}p=y}if(p)zt(u,"complete"),zt(u,"success");else{u.m=6;try{var R=2<Rr(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",Lb(u)}}finally{ql(u)}}}}function ql(u,h){if(u.g){Ub(u);let p=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||zt(u,"ready");try{p.onreadystatechange=y}catch{}}}function Ub(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Rr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),bk(h)}};function Bb(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wk(u){let h={};u=(u.g&&2<=Rr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(H(u[y]))continue;var p=D(u[y]);let A=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=h[A]||[];h[A]=R,R.push(p)}I(h,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function jb(u){this.Aa=0,this.i=[],this.j=new lc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vc("baseRetryDelayMs",5e3,u),this.cb=vc("retryDelaySeedMs",1e4,u),this.Wa=vc("forwardChannelMaxRetries",2,u),this.wa=vc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Cb(u&&u.concurrentRequestLimit),this.Da=new Hk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jb.prototype,n.la=8,n.G=1,n.connect=function(u,h,p,y){qt(0),this.W=u,this.H=h||{},p&&y!==void 0&&(this.H.OSID=p,this.H.OAID=y),this.F=this.X,this.I=Yb(this,null,this.W),Wl(this)};function Am(u){if($b(u),u.G==3){var h=u.U++,p=xr(u.I);if(Ze(p,"SID",u.K),Ze(p,"RID",h),Ze(p,"TYPE","terminate"),_c(u,p),h=new hi(u,u.j,h),h.L=2,h.v=Hl(xr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=Jb(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bl(h)}Qb(u)}function Gl(u){u.g&&(Pm(u),u.g.cancel(),u.g=null)}function $b(u){Gl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Kl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Wl(u){if(!Ib(u.h)&&!u.s){u.s=!0;var h=u.Ga;X||ht(),ie||(X(),ie=!0),Ae.add(h,u),u.B=0}}function Kk(u,h){return bb(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=uc(m(u.Ga,u,h),Kb(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let A=new hi(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(A.H=R,R=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var y=this.i[p];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=zb(this,A,h),p=xr(this.I),Ze(p,"RID",u),Ze(p,"CVER",22),this.D&&Ze(p,"X-HTTP-Session-Id",this.D),_c(this,p),R&&(this.O?h="headers="+encodeURIComponent(String(kb(R)))+"&"+h:this.m&&Sm(p,this.m,R)),Tm(this.h,A),this.Ua&&Ze(p,"TYPE","init"),this.P?(Ze(p,"$req",h),Ze(p,"SID","null"),A.T=!0,Cm(A,p,null)):Cm(A,p,h),this.G=2}}else this.G==3&&(u?Hb(this,u):this.i.length==0||Ib(this.h)||Hb(this))};function Hb(u,h){var p;h?p=h.l:p=u.U++;let y=xr(u.I);Ze(y,"SID",u.K),Ze(y,"RID",p),Ze(y,"AID",u.T),_c(u,y),u.m&&u.o&&Sm(y,u.m,u.o),p=new hi(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=zb(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Tm(u.h,p),Cm(p,y,h)}function _c(u,h){u.H&&_e(u.H,function(p,y){Ze(h,y,p)}),u.l&&Sb({},function(p,y){Ze(h,y,p)})}function zb(u,h,p){p=Math.min(u.i.length,p);var y=u.l?m(u.l.Na,u.l,u):null;e:{var A=u.i;let R=-1;for(;;){let q=["count="+p];R==-1?0<p?(R=A[0].g,q.push("ofs="+R)):R=0:q.push("ofs="+R);let qe=!0;for(let Mt=0;Mt<p;Mt++){let Ne=A[Mt].g,Lt=A[Mt].map;if(Ne-=R,0>Ne)R=Math.max(0,A[Mt].g-100),qe=!1;else try{zk(Lt,q,"req"+Ne+"_")}catch{y&&y(Lt)}}if(qe){y=q.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,y}function qb(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;X||ht(),ie||(X(),ie=!0),Ae.add(h,u),u.v=0}}function Mm(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=uc(m(u.Fa,u),Kb(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Gb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=uc(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),Gl(this),Gb(this))};function Pm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Gb(u){u.g=new hi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=xr(u.qa);Ze(h,"RID","rpc"),Ze(h,"SID",u.K),Ze(h,"AID",u.T),Ze(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ze(h,"TO",u.ja),Ze(h,"TYPE","xmlhttp"),_c(u,h),u.m&&u.o&&Sm(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Hl(xr(h)),p.m=null,p.P=!0,_b(p,u)}n.Za=function(){this.C!=null&&(this.C=null,Gl(this),Mm(this),qt(19))};function Kl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Wb(u,h){var p=null;if(u.g==h){Kl(u),Pm(u),u.g=null;var y=2}else if(Dm(u.h,h))p=h.D,Db(u.h,h),y=1;else return;if(u.G!=0){if(h.o)if(y==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var A=u.B;y=Ll(),zt(y,new gb(y,p)),Wl(u)}else qb(u);else if(A=h.s,A==3||A==0&&0<h.X||!(y==1&&Kk(u,h)||y==2&&Mm(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),A){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function Kb(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function Xi(u,h){if(u.j.info("Error code "+h),h==2){var p=m(u.fb,u),y=u.Xa;let A=!y;y=new Zi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jl(y,"https"),Hl(y),A?jk(y.toString(),p):$k(y.toString(),p)}else qt(2);u.G=0,u.l&&u.l.sa(h),Qb(u),$b(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Qb(u){if(u.G=0,u.ka=[],u.l){let h=Tb(u.h);(h.length!=0||u.i.length!=0)&&(S(u.ka,h),S(u.ka,u.i),u.h.i.length=0,C(u.i),u.i.length=0),u.l.ra()}}function Yb(u,h,p){var y=p instanceof Zi?xr(p):new Zi(p);if(y.g!="")h&&(y.g=h+"."+y.g),$l(y,y.s);else{var A=a.location;y=A.protocol,h=h?h+"."+A.hostname:A.hostname,A=+A.port;var R=new Zi(null);y&&jl(R,y),h&&(R.g=h),A&&$l(R,A),p&&(R.l=p),y=R}return p=u.D,h=u.ya,p&&h&&Ze(y,p,h),Ze(y,"VER",u.la),_c(u,y),y}function Jb(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new ct(new gc({eb:p})):new ct(u.pa),h.Ha(u.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zb(){}n=Zb.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ql(){}Ql.prototype.g=function(u,h){return new hn(u,h)};function hn(u,h){Ft.call(this),this.g=new jb(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!H(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new vs(this)}_(hn,Ft),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Am(this.g)},hn.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=mm(u),u=p);h.i.push(new xk(h.Ya++,u)),h.G==3&&Wl(h)},hn.prototype.N=function(){this.g.l=null,delete this.j,Am(this.g),delete this.g,hn.aa.N.call(this)};function Xb(u){vm.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}_(Xb,vm);function eD(){_m.call(this),this.status=1}_(eD,_m);function vs(u){this.g=u}_(vs,Zb),vs.prototype.ua=function(){zt(this.g,"a")},vs.prototype.ta=function(u){zt(this.g,new Xb(u))},vs.prototype.sa=function(u){zt(this.g,new eD)},vs.prototype.ra=function(){zt(this.g,"b")},Ql.prototype.createWebChannel=Ql.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,kE=Zr.createWebChannelTransport=function(){return new Ql},NE=Zr.getStatEventTarget=function(){return Ll()},OE=Zr.Event=Yi,dp=Zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,Yu=Zr.ErrorCode=Vl,mb.COMPLETE="complete",RE=Zr.EventType=mb,db.EventType=ac,ac.OPEN="a",ac.CLOSE="b",ac.ERROR="c",ac.MESSAGE="d",Ft.prototype.listen=Ft.prototype.K,wa=Zr.WebChannel=db,L5=Zr.FetchXmlHttpFactory=gc,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,xE=Zr.XhrIo=ct}).apply(typeof lp<"u"?lp:typeof self<"u"?self:typeof window<"u"?window:{});var Z1="@firebase/firestore",X1="4.7.16";var St=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");var $a="11.8.1";var Jo=new Er("@firebase/firestore");function Ca(){return Jo.logLevel}function Y(n,...e){if(Jo.logLevel<=Me.DEBUG){let t=e.map(TC);Jo.debug(`Firestore (${$a}): ${n}`,...t)}}function ei(n,...e){if(Jo.logLevel<=Me.ERROR){let t=e.map(TC);Jo.error(`Firestore (${$a}): ${n}`,...t)}}function Ma(n,...e){if(Jo.logLevel<=Me.WARN){let t=e.map(TC);Jo.warn(`Firestore (${$a}): ${n}`,...t)}}function TC(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Gx(n,r,t)}function Gx(n,e,t){let r=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ei(r),new Error(r)}function Ue(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||Gx(e,i,r)}function pe(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends xn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var vp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},BE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(St.UNAUTHENTICATED))}shutdown(){}},jE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},$E=class{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>x(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new vp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new St(e)}},HE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},zE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new HE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_p=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ue(this.o===void 0,3512);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _p(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _p(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function V5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function Wx(){return new TextEncoder}var Ep=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=V5(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Se(n,e){return n<e?-1:n>e?1:0}function GE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Se(r,i);{let o=Wx(),s=U5(o.encode(ex(n,t)),o.encode(ex(e,t)));return s!==0?s:Se(r,i)}}t+=r>65535?2:1}return Se(n.length,e.length)}function ex(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function U5(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Se(n[t],e[t]);return Se(n.length,e.length)}function Pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var tx=-62135596800,nx=1e6,kt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*nx);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<tx)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nx}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-tx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new kt(0,0))}static max(){return new n(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rx="__name__",wp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ce(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ce(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):GE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jr.fromString(e.substring(4,e.length-2))}},ot=class n extends wp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},B5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Cn=class n extends wp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return B5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rx}static keyField(){return new n([rx])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var se=class n{constructor(e){this.path=e}static fromPath(e){return new n(ot.fromString(e))}static fromName(e){return new n(ot.fromString(e).popFirst(5))}static empty(){return new n(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ot(e.slice()))}};var rl=-1,WE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};WE.UNKNOWN_ID=-1;function j5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new Zo(i,se.empty(),e)}function $5(n){return new Zo(n.readTime,n.key,rl)}var Zo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ve.min(),se.empty(),rl)}static max(){return new n(ve.max(),se.empty(),rl)}};function H5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=se.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}var z5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",KE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ha(n){return x(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==z5)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(d=>{s[l]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function q5(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function za(n){return n.name==="IndexedDbTransactionError"}var SC=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),AC=-1;function eg(n){return n==null}function il(n){return n===0&&1/n==-1/0}function G5(n){return typeof n=="number"&&Number.isInteger(n)&&!il(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var Kx="";function W5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ix(e)),e=K5(n.get(t),e);return ix(e)}function K5(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case Kx:t+="";break;default:t+=o}}return t}function ix(n){return n+Kx+""}var Q5="remoteDocuments",Qx="owner";var Yx="mutationQueues";var Jx="mutations";var Zx="documentMutations",Y5="remoteDocumentsV14";var Xx="remoteDocumentGlobal";var eR="targets";var tR="targetDocuments";var nR="targetGlobal",rR="collectionParents";var iR="clientMetadata";var oR="bundles";var sR="namedQueries";var J5="indexConfiguration";var Z5="indexState";var X5="indexEntries";var aR="documentOverlays";var e8="globals";var t8=[Yx,Jx,Zx,Q5,eR,Qx,nR,tR,iR,Xx,rR,oR,sR],Bse=[...t8,aR],n8=[Yx,Jx,Zx,Y5,eR,Qx,nR,tR,iR,Xx,rR,oR,sR,aR],r8=n8,i8=[...r8,J5,Z5,X5];var jse=[...i8,e8];function ox(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ss(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var dt=class n{constructor(e,t){this.comparator=e,this.root=t||Ir.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ta(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ta(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ta(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ta(this.root,e,this.comparator,!0)}},Ta=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ir(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var At=class n{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Cr=class n{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new n([])}unionWith(e){let t=new At(Cn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ip=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ht=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ip("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ht.EMPTY_BYTE_STRING=new Ht("");var o8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(n){if(Ue(!!n,39018),typeof n=="string"){let e=0,t=o8.exec(n);if(Ue(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(n.seconds),nanos:nt(n.nanos)}}function nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ni(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}var uR="server_timestamp",lR="__type__",dR="__previous_value__",hR="__local_write_time__";function MC(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[lR])===null||t===void 0?void 0:t.stringValue)===uR}function tg(n){let e=n.mapValue.fields[dR];return MC(e)?tg(e):e}function ol(n){let e=ti(n.mapValue.fields[hR].timestampValue);return new kt(e.seconds,e.nanos)}var QE=class{constructor(e,t,r,i,o,s,a,c,l,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=d}},bp="(default)",Dp=class n{constructor(e,t){this.projectId=e,this.database=t||bp}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===bp}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var PC="__type__",fR="__max__",hp={mapValue:{fields:{__type__:{stringValue:fR}}}},xC="__vector__",xa="value";function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MC(n)?4:gR(n)?9007199254740991:pR(n)?10:11:ce(28295,{value:n})}function Tr(n,e){if(n===e)return!0;let t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ol(n).isEqual(ol(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=ti(i.timestampValue),a=ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return ni(i.bytesValue).isEqual(ni(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return nt(i.geoPointValue.latitude)===nt(o.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return nt(i.integerValue)===nt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=nt(i.doubleValue),a=nt(o.doubleValue);return s===a?il(s)===il(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Pa(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(ox(s)!==ox(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Tr(s[c],a[c])))return!1;return!0}(n,e);default:return ce(52216,{left:n})}}function sl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function Ra(n,e){if(n===e)return 0;let t=ji(n),r=ji(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=nt(o.integerValue||o.doubleValue),c=nt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return sx(n.timestampValue,e.timestampValue);case 4:return sx(ol(n),ol(e));case 5:return GE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=ni(o),c=ni(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=Se(a[l],c[l]);if(d!==0)return d}return Se(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(nt(o.latitude),nt(s.latitude));return a!==0?a:Se(nt(o.longitude),nt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ax(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,d;let f=o.fields||{},m=s.fields||{},g=(a=f[xa])===null||a===void 0?void 0:a.arrayValue,_=(c=m[xa])===null||c===void 0?void 0:c.arrayValue,C=Se(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return C!==0?C:ax(g,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===hp.mapValue&&s===hp.mapValue)return 0;if(o===hp.mapValue)return 1;if(s===hp.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=GE(c[f],d[f]);if(m!==0)return m;let g=Ra(a[c[f]],l[d[f]]);if(g!==0)return g}return Se(c.length,d.length)}(n.mapValue,e.mapValue);default:throw ce(23264,{Pe:t})}}function sx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);let t=ti(n),r=ti(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function ax(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ra(t[i],r[i]);if(o)return o}return Se(t.length,r.length)}function Oa(n){return YE(n)}function YE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=ti(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ni(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=YE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${YE(t.fields[s])}`;return i+"}"}(n.mapValue):ce(61005,{value:n})}function gp(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=tg(n);return e?16+gp(e):16;case 5:return 2*n.stringValue.length;case 6:return ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+gp(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ss(r.fields,(o,s)=>{i+=o.length+gp(s)}),i}(n.mapValue);default:throw ce(13486,{value:n})}}function cx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function JE(n){return!!n&&"integerValue"in n}function RC(n){return!!n&&"arrayValue"in n}function ux(n){return!!n&&"nullValue"in n}function lx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mp(n){return!!n&&"mapValue"in n}function pR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[PC])===null||t===void 0?void 0:t.stringValue)===xC}function Zu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ss(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fR}var Hse={mapValue:{fields:{[PC]:{stringValue:xC},[xa]:{arrayValue:{}}}}};var Xn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zu(t)}setAll(e){let t=Cn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Zu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());mp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ss(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Zu(this.value))}};function mR(n){let e=[];return ss(n.fields,(t,r)=>{let i=new Cn([t]);if(mp(r)){let o=mR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Cr(e)}var er=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),Xn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ve.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),Xn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),Xn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Na=class{constructor(e,t){this.position=e,this.inclusive=t}};function dx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=se.comparator(se.fromName(s.referenceValue),t.key):r=Ra(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}var ka=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function s8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Tp=class{},_t=class n extends Tp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new XE(e,t,r):t==="array-contains"?new nw(e,r):t==="in"?new rw(e,r):t==="not-in"?new iw(e,r):t==="array-contains-any"?new ow(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ew(e,r):new tw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ra(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(Ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tr=class n extends Tp{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return yR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function yR(n){return n.op==="and"}function vR(n){return a8(n)&&yR(n)}function a8(n){for(let e of n.filters)if(e instanceof tr)return!1;return!0}function ZE(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+Oa(n.value);if(vR(n))return n.filters.map(e=>ZE(e)).join(",");{let e=n.filters.map(t=>ZE(t)).join(",");return`${n.op}(${e})`}}function _R(n,e){return n instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&Tr(r.value,i.value)}(n,e):n instanceof tr?function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_R(s,i.filters[a]),!0):!1}(n,e):void ce(19439)}function ER(n){return n instanceof _t?function(t){return`${t.field.canonicalString()} ${t.op} ${Oa(t.value)}`}(n):n instanceof tr?function(t){return t.op.toString()+" {"+t.getFilters().map(ER).join(" ,")+"}"}(n):"Filter"}var XE=class extends _t{constructor(e,t,r){super(e,t,r),this.key=se.fromName(r.referenceValue)}matches(e){let t=se.comparator(e.key,this.key);return this.matchesComparison(t)}},ew=class extends _t{constructor(e,t){super(e,"in",t),this.keys=wR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},tw=class extends _t{constructor(e,t){super(e,"not-in",t),this.keys=wR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function wR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>se.fromName(r.referenceValue))}var nw=class extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return RC(t)&&sl(t.arrayValue,this.value)}},rw=class extends _t{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&sl(this.value.arrayValue,t)}},iw=class extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!sl(this.value.arrayValue,t)}},ow=class extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!RC(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sl(this.value.arrayValue,r))}};var sw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function fx(n,e=null,t=[],r=[],i=null,o=null,s=null){return new sw(n,e,t,r,i,o,s)}function OC(n){let e=pe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ZE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),eg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oa(r)).join(",")),e.Ie=t}return e.Ie}function NC(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!_R(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hx(n.startAt,e.startAt)&&hx(n.endAt,e.endAt)}function aw(n){return se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Xo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function c8(n,e,t,r,i,o,s,a){return new Xo(n,e,t,r,i,o,s,a)}function kC(n){return new Xo(n)}function px(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CR(n){return n.collectionGroup!==null}function Xu(n){let e=pe(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new At(Cn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new ka(o,r))}),t.has(Cn.keyField().canonicalString())||e.Ee.push(new ka(Cn.keyField(),r))}return e.Ee}function br(n){let e=pe(n);return e.de||(e.de=u8(e,Xu(n))),e.de}function u8(n,e){if(n.limitType==="F")return fx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ka(i.field,o)});let t=n.endAt?new Na(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Na(n.startAt.position,n.startAt.inclusive):null;return fx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cw(n,e){let t=n.filters.concat([e]);return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sp(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ng(n,e){return NC(br(n),br(e))&&n.limitType===e.limitType}function IR(n){return`${OC(br(n))}|lt:${n.limitType}`}function Ia(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>ER(i)).join(", ")}]`),eg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Oa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Oa(i)).join(",")),`Target(${r})`}(br(n))}; limitType=${n.limitType})`}function rg(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):se.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Xu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=dx(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,Xu(r),i)||r.endAt&&!function(s,a,c){let l=dx(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,Xu(r),i))}(n,e)}function l8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bR(n){return(e,t)=>{let r=!1;for(let i of Xu(n)){let o=d8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function d8(n,e,t){let r=n.field.isKeyField()?se.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Ra(c,l):ce(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:n.dir})}}var ri=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return cR(this.inner)}size(){return this.innerSize}};var h8=new dt(se.comparator);function ii(){return h8}var DR=new dt(se.comparator);function Ju(...n){let e=DR;for(let t of n)e=e.insert(t.key,t);return e}function TR(n){let e=DR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Wo(){return el()}function SR(){return el()}function el(){return new ri(n=>n.toString(),(n,e)=>n.isEqual(e))}var f8=new dt(se.comparator),p8=new At(se.comparator);function Pe(...n){let e=p8;for(let t of n)e=e.add(t);return e}var g8=new At(Se);function m8(){return g8}function FC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:il(e)?"-0":e}}function AR(n){return{integerValue:""+n}}function y8(n,e){return G5(e)?AR(e):FC(n,e)}var Fa=class{constructor(){this._=void 0}};function v8(n,e,t){return n instanceof es?function(i,o){let s={fields:{[lR]:{stringValue:uR},[hR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&MC(o)&&(o=tg(o)),o&&(s.fields[dR]=o),{mapValue:s}}(t,e):n instanceof ts?PR(n,e):n instanceof ns?xR(n,e):function(i,o){let s=MR(i,o),a=gx(s)+gx(i.Re);return JE(s)&&JE(i.Re)?AR(a):FC(i.serializer,a)}(n,e)}function _8(n,e,t){return n instanceof ts?PR(n,e):n instanceof ns?xR(n,e):t}function MR(n,e){return n instanceof La?function(r){return JE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var es=class extends Fa{},ts=class extends Fa{constructor(e){super(),this.elements=e}};function PR(n,e){let t=RR(e);for(let r of n.elements)t.some(i=>Tr(i,r))||t.push(r);return{arrayValue:{values:t}}}var ns=class extends Fa{constructor(e){super(),this.elements=e}};function xR(n,e){let t=RR(e);for(let r of n.elements)t=t.filter(i=>!Tr(i,r));return{arrayValue:{values:t}}}var La=class extends Fa{constructor(e,t){super(),this.serializer=e,this.Re=t}};function gx(n){return nt(n.integerValue||n.doubleValue)}function RR(n){return RC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var uw=class{constructor(e,t){this.field=e,this.transform=t}};function E8(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ts&&i instanceof ts||r instanceof ns&&i instanceof ns?Pa(r.elements,i.elements,Tr):r instanceof La&&i instanceof La?Tr(r.Re,i.Re):r instanceof es&&i instanceof es}(n.transform,e.transform)}var lw=class{constructor(e,t){this.version=e,this.transformResults=t}},Yo=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Va=class{};function OR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ap(n.key,Yo.none()):new rs(n.key,n.data,Yo.none());{let t=n.data,r=Xn.empty(),i=new At(Cn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new oi(n.key,r,new Cr(i.toArray()),Yo.none())}}function w8(n,e,t){n instanceof rs?function(i,o,s){let a=i.value.clone(),c=yx(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof oi?function(i,o,s){if(!yp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=yx(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(NR(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function tl(n,e,t,r){return n instanceof rs?function(o,s,a,c){if(!yp(o.precondition,s))return a;let l=o.value.clone(),d=vx(o.fieldTransforms,c,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof oi?function(o,s,a,c){if(!yp(o.precondition,s))return a;let l=vx(o.fieldTransforms,c,s),d=s.data;return d.setAll(NR(o)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,t,r):function(o,s,a){return yp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function C8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=MR(r.transform,i||null);o!=null&&(t===null&&(t=Xn.empty()),t.set(r.field,o))}return t||null}function mx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pa(r,i,(o,s)=>E8(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var rs=class extends Va{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},oi=class extends Va{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function NR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function yx(n,e,t){let r=new Map;Ue(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_8(s,a,t[i]))}return r}function vx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,v8(o,s,e))}return r}var Ap=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},dw=class extends Va{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var hw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&w8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=tl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=tl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=SR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=OR(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(t,r)=>mx(t,r))&&Pa(this.baseMutations,e.baseMutations,(t,r)=>mx(t,r))}},fw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ue(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return f8}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var pw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var yt,Oe;function I8(n){switch(n){case L.OK:return ce(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ce(15467,{code:n})}}function kR(n){if(n===void 0)return ei("GRPC error has no .code"),L.UNKNOWN;switch(n){case yt.OK:return L.OK;case yt.CANCELLED:return L.CANCELLED;case yt.UNKNOWN:return L.UNKNOWN;case yt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case yt.INTERNAL:return L.INTERNAL;case yt.UNAVAILABLE:return L.UNAVAILABLE;case yt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case yt.NOT_FOUND:return L.NOT_FOUND;case yt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case yt.ABORTED:return L.ABORTED;case yt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case yt.DATA_LOSS:return L.DATA_LOSS;default:return ce(39323,{code:n})}}(Oe=yt||(yt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var _x=null;var b8=new Jr([4294967295,4294967295],0);function Ex(n){let e=Wx().encode(n),t=new PE;return t.update(e),new Uint8Array(t.digest())}function wx(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Jr([t,r],0),new Jr([i,o],0)]}var mw=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ko(`Invalid padding: ${t}`);if(r<0)throw new Ko(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ko(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ko(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Jr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Jr.fromNumber(r)));return i.compare(b8)===1&&(i=new Jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=Ex(e),[r,i]=wx(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=Ex(e),[r,i]=wx(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ko=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ve.min(),i,new dt(Se),ii(),Pe())}},al=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Pe(),Pe(),Pe())}};var Sa=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Pp=class{constructor(e,t){this.targetId=e,this.Ce=t}},xp=class{constructor(e,t,r=Ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Rp=class{constructor(){this.Fe=0,this.Me=Cx(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pe(),t=Pe(),r=Pe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ce(38017,{changeType:o})}}),new al(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Cx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},yw=class{constructor(e){this.ze=e,this.je=new Map,this.He=ii(),this.Je=fp(),this.Ye=fp(),this.Ze=new dt(Se)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(aw(o))if(r===0){let s=new se(o.path);this.tt(t,s,er.newNoDocument(s,ve.min()))}else Ue(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}_x?.ht(function(d,f,m,g,_){var C,S,k,H,G,oe;let ze={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},_e=f.unchangedNames;return _e&&(ze.bloomFilter={applied:_===0,hashCount:(C=_e?.hashCount)!==null&&C!==void 0?C:0,bitmapLength:(H=(k=(S=_e?.bits)===null||S===void 0?void 0:S.bitmap)===null||k===void 0?void 0:k.length)!==null&&H!==void 0?H:0,padding:(oe=(G=_e?.bits)===null||G===void 0?void 0:G.padding)!==null&&oe!==void 0?oe:0,mightContain:I=>{var v;return(v=g?.mightContain(I))!==null&&v!==void 0&&v}}),ze}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=ni(r).toUint8Array()}catch(c){if(c instanceof Ip)return Ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new mw(s,i,o)}catch(c){return Ma(c instanceof Ko?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&aw(a.target)){let c=new se(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,er.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Pe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Mp(e,t,this.Ze,this.He,r);return this.He=ii(),this.Je=fp(),this.Ye=fp(),this.Ze=new dt(Se),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Rp,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new At(Se),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new At(Se),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Rp),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function fp(){return new dt(se.comparator)}function Cx(){return new dt(se.comparator)}var D8={asc:"ASCENDING",desc:"DESCENDING"},T8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S8={and:"AND",or:"OR"},vw=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _w(n,e){return n.useProto3Json||eg(e)?e:{value:e}}function Op(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function A8(n,e){return Op(n,e.toTimestamp())}function Dr(n){return Ue(!!n,49232),ve.fromTimestamp(function(t){let r=ti(t);return new kt(r.seconds,r.nanos)}(n))}function LC(n,e){return Ew(n,e).canonicalString()}function Ew(n,e){let t=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function LR(n){let e=ot.fromString(n);return Ue($R(e),10190,{key:e.toString()}),e}function ww(n,e){return LC(n.databaseId,e.path)}function FE(n,e){let t=LR(e);if(t.get(1)!==n.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new se(UR(t))}function VR(n,e){return LC(n.databaseId,e)}function M8(n){let e=LR(n);return e.length===4?ot.emptyPath():UR(e)}function Cw(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UR(n){return Ue(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ix(n,e,t){return{name:ww(n,e),fields:t.value.mapValue.fields}}function P8(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,d){return l.useProto3Json?(Ue(d===void 0||typeof d=="string",58123),Ht.fromBase64String(d||"")):(Ue(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ht.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let d=l.code===void 0?L.UNKNOWN:kR(l.code);return new J(d,l.message||"")}(s);t=new xp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=FE(n,r.document.name),o=Dr(r.document.updateTime),s=r.document.createTime?Dr(r.document.createTime):ve.min(),a=new Xn({mapValue:{fields:r.document.fields}}),c=er.newFoundDocument(i,o,s,a),l=r.targetIds||[],d=r.removedTargetIds||[];t=new Sa(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=FE(n,r.document),o=r.readTime?Dr(r.readTime):ve.min(),s=er.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Sa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=FE(n,r.document),o=r.removedTargetIds||[];t=new Sa([],o,i,null)}else{if(!("filter"in e))return ce(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new gw(i,o),a=r.targetId;t=new Pp(a,s)}}return t}function x8(n,e){let t;if(e instanceof rs)t={update:Ix(n,e.key,e.value)};else if(e instanceof Ap)t={delete:ww(n,e.key)};else if(e instanceof oi)t={update:Ix(n,e.key,e.data),updateMask:B8(e.fieldMask)};else{if(!(e instanceof dw))return ce(16599,{ft:e.type});t={verify:ww(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ts)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ns)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw ce(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:A8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce(27497)}(n,e.precondition)),t}function R8(n,e){return n&&n.length>0?(Ue(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?Dr(i.updateTime):Dr(o);return s.isEqual(ve.min())&&(s=Dr(o)),new lw(s,i.transformResults||[])}(t,e))):[]}function O8(n,e){return{documents:[VR(n,e.path)]}}function N8(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=VR(n,i);let o=function(l){if(l.length!==0)return jR(tr.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(d=>function(m){return{field:ba(m.field),direction:L8(m.dir)}}(d))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=_w(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function k8(n){let e=M8(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ue(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(f){let m=BR(f);return m instanceof tr&&vR(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(f){return f.map(m=>function(_){return new ka(Da(_.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,eg(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(f){let m=!!f.before,g=f.values||[];return new Na(g,m)}(t.startAt));let l=null;return t.endAt&&(l=function(f){let m=!f.before,g=f.values||[];return new Na(g,m)}(t.endAt)),c8(e,i,s,o,a,"F",c,l)}function F8(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Da(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Da(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Da(t.unaryFilter.field);return _t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Da(t.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(n):n.fieldFilter!==void 0?function(t){return _t.create(Da(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return tr.create(t.compositeFilter.filters.map(r=>BR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(t.compositeFilter.op))}(n):ce(30097,{filter:n})}function L8(n){return D8[n]}function V8(n){return T8[n]}function U8(n){return S8[n]}function ba(n){return{fieldPath:n.canonicalString()}}function Da(n){return Cn.fromServerFormat(n.fieldPath)}function jR(n){return n instanceof _t?function(t){if(t.op==="=="){if(lx(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(ux(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lx(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(ux(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:V8(t.op),value:t.value}}}(n):n instanceof tr?function(t){let r=t.getFilters().map(i=>jR(i));return r.length===1?r[0]:{compositeFilter:{op:U8(t.op),filters:r}}}(n):ce(54877,{filter:n})}function B8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var cl=class n{constructor(e,t,r,i,o=ve.min(),s=ve.min(),a=Ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Iw=class{constructor(e){this.wt=e}};function j8(n){let e=k8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sp(e,e.limit,"L"):e}var Np=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(nt(e.integerValue));else if("doubleValue"in e){let r=nt(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),il(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=ti(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ni(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?gR(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):pR(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):ce(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=xa,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(nt(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),se.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Np.Wt=new Np;var bw=class{constructor(){this.Cn=new Dw}addToCollectionParentIndex(e,t){return this.Cn.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Zo.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Zo.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},Dw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new At(ot.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(ot.comparator)).toArray()}};var zse=new Uint8Array(0);var bx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HR=41943040,Rn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(HR,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);var ul=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var Dx="LruGarbageCollector",$8=1048576;function Tx([n,e],[t,r]){let i=Se(n,t);return i===0?Se(e,r):i}var Tw=class{constructor(e){this.Er=e,this.buffer=new At(Tx),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();Tx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Sw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Y(Dx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>x(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){za(t)?Y(Dx,"Ignoring IndexedDB error during garbage collection: ",t):yield Ha(t)}yield this.mr(3e5)}))}},Aw=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(SC.le);let r=new Tw(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(bx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Ca()<=Me.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function H8(n,e){return new Aw(n,e)}var Mw=class{constructor(){this.changes=new ri(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var xw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&tl(r.mutation,i,Cr.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){let i=Wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ju();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Wo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ii(),s=el(),a=function(){return el()}();return t.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof oi)?o=o.insert(l.key,l):d!==void 0?(s.set(l.key,d.mutation.getFieldMask()),tl(d.mutation,l,d.mutation.getFieldMask(),kt.now())):s.set(l.key,Cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,d)=>s.set(l,d)),t.forEach((l,d)=>{var f;return a.set(l,new Pw(d,(f=s.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,t){let r=el(),i=new dt((s,a)=>s-a),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let d=r.get(c)||Cr.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||Pe()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=SR();d.forEach(m=>{if(!o.has(m)){let g=OR(t.get(m),r.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return se.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(Wo()),a=rl,c=o;return s.next(l=>B.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Pe())).next(d=>({batchId:a,changes:TR(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new se(t)).next(r=>{let i=Ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ju();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,c=>{let l=function(f,m){return new Xo(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let d=l.getKey();s.get(d)===null&&(s=s.insert(d,er.newInvalidDocument(d)))});let a=Ju();return s.forEach((c,l)=>{let d=o.get(c);d!==void 0&&tl(d.mutation,l,Cr.empty(),kt.now()),rg(t,l)&&(a=a.insert(c,l))}),a})}};var Rw=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return B.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:j8(i.bundledQuery),readTime:Dr(i.readTime)}}(t)),B.resolve()}};var Ow=class{constructor(){this.overlays=new dt(se.comparator),this.Qr=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Wo();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=Wo(),o=t.length+1,s=new se(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((l,d)=>l-d),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let d=o.get(l.largestBatchId);d===null&&(d=Wo(),o=o.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=Wo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return B.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new pw(t,r));let o=this.Qr.get(t);o===void 0&&(o=Pe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Nw=class{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var ll=class{constructor(){this.$r=new At(vt.Ur),this.Kr=new At(vt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new vt(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new vt(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new se(new ot([])),r=new vt(t,e),i=new vt(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new se(new ot([])),r=new vt(t,e),i=new vt(t,e+1),o=Pe();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new vt(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},vt=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return se.comparator(e.key,t.key)||Se(e.Zr,t.Zr)}static Wr(e,t){return Se(e.Zr,t.Zr)||se.comparator(e.key,t.key)}};var kw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new At(vt.Ur)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new hw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new vt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?AC:this.nr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new vt(t,0),i=new vt(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(Se);return t.forEach(i=>{let o=new vt(i,0),s=new vt(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),B.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;se.isDocumentKey(o)||(o=o.child(""));let s=new vt(new se(o),0),a=new At(Se);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),B.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ue(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return B.forEach(t.mutations,i=>{let o=new vt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new vt(t,0),i=this.Xr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Fw=class{constructor(e){this.ii=e,this.docs=function(){return new dt(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():er.newInvalidDocument(t))}getEntries(e,t){let r=ii();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():er.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ii(),s=t.path,a=new se(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||H5($5(d),r)<=0||(i.has(d.key)||rg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ce(9500)}si(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Lw(this)}getSize(e){return B.resolve(this.size)}},Lw=class extends Mw{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var Vw=class{constructor(e){this.persistence=e,this.oi=new ri(t=>OC(t),NC),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this._i=0,this.ai=new ll,this.targetCount=0,this.ui=ul.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),B.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new ul(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Tr(t),B.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.ai.containsKey(t))}};var kp=class{constructor(e,t){this.ci={},this.overlays={},this.li=new SC(0),this.hi=!1,this.hi=!0,this.Pi=new Nw,this.referenceDelegate=e(this),this.Ti=new Vw(this),this.indexManager=new bw,this.remoteDocumentCache=function(i){return new Fw(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Iw(t),this.Ei=new Rw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ow,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new kw(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new Uw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return B.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},Uw=class extends KE{constructor(e){super(),this.currentSequenceNumber=e}},Bw=class n{constructor(e){this.persistence=e,this.Vi=new ll,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw ce(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),B.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.gi,r=>{let i=se.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ve.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return B.or([()=>B.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Fp=class n{constructor(e,t){this.persistence=e,this.yi=new ri(r=>W5(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=H8(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return B.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ve.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),B.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gp(e.data.value)),t}Dr(e,t,r){return B.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Pe(),i=Pe();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var $w=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return n1()?8:q5(wn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new $w;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Ca()<=Me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Ia(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),B.resolve()):(Ca()<=Me.DEBUG&&Y("QueryEngine","Query:",Ia(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Ca()<=Me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Ia(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(t))):B.resolve())}ws(e,t){if(px(t))return B.resolve(null);let r=br(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Sp(t,null,"F"),r=br(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Pe(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,Sp(t,null,"F")):this.Fs(e,l,t,c)}))})))}Ss(e,t,r,i){return px(t)||i.isEqual(ve.min())?B.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?B.resolve(null):(Ca()<=Me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ia(t)),this.Fs(e,s,t,j5(i,rl)).next(a=>a))})}vs(e,t){let r=new At(bR(e));return t.forEach((i,o)=>{rg(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Ca()<=Me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Ia(t)),this.ys.getDocumentsMatchingQuery(e,t,Zo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var VC="LocalStore",z8=3e8,zw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new dt(Se),this.Os=new ri(o=>OC(o),NC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function q8(n,e,t,r){return new zw(n,e,t,r)}function zR(n,e){return x(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Pe();for(let l of i){s.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of o){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function G8(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,m=f.keys(),g=B.resolve();return m.forEach(_=>{g=g.next(()=>d.getEntry(c,_)).next(C=>{let S=l.docVersions.get(_);Ue(S!==null,48541),C.version.compareTo(S)<0&&(f.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),d.addEntry(C)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Pe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function qR(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function W8(n,e){let t=pe(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(t.Ti.removeMatchingKeys(o,d.removedDocuments,f).next(()=>t.Ti.addMatchingKeys(o,d.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Ht.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(C,S,k){return C.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=z8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,g,d)&&a.push(t.Ti.updateTargetData(o,g))});let c=ii(),l=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(K8(o,s,e.documentUpdates).next(d=>{c=d.qs,l=d.Qs})),!r.isEqual(ve.min())){let d=t.Ti.getLastRemoteSnapshotVersion(o).next(f=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function K8(n,e,t){let r=Pe(),i=Pe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ii();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ve.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):Y(VC,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function Q8(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=AC),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y8(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new cl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function qw(n,e,t){return x(this,null,function*(){let r=pe(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!za(s))throw s;Y(VC,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function Sx(n,e,t){let r=pe(n),i=ve.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,d){let f=pe(c),m=f.Os.get(d);return m!==void 0?B.resolve(f.xs.get(m)):f.Ti.getTargetData(l,d)}(r,s,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ve.min(),t?o:Pe())).next(a=>(J8(r,l8(e),a),{documents:a,$s:o})))}function J8(n,e,t){let r=n.Ns.get(e)||ve.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Lp=class{constructor(){this.activeTargetIds=m8()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Gw=class{constructor(){this.xo=new Lp,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Lp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ww=class{No(e){}shutdown(){}};var Ax="ConnectivityMonitor",Vp=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Y(Ax,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){Y(Ax,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pp=null;function Kw(){return pp===null?pp=function(){return 268435456+Math.round(2147483648*Math.random())}():pp++,"0x"+pp.toString(16)}var LE="RestConnection",Z8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Qw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===bp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=Kw(),a=this.jo(e,t.toUriEncodedString());Y(LE,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),d=ma(l);return this.Jo(e,a,c,r,d).then(f=>(Y(LE,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Ma(LE,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=Z8[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var Yw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var $t="WebChannelConnection",Jw=class extends Qw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=Kw();return new Promise((a,c)=>{let l=new xE;l.setWithCredentials(!0),l.listenOnce(RE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Yu.NO_ERROR:let f=l.getResponseJson();Y($t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Yu.TIMEOUT:Y($t,`RPC '${e}' ${s} timed out`),c(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:let m=l.getStatus();if(Y($t,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let C=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(H)>=0?H:L.UNKNOWN}(_.status);c(new J(C,_.message))}else c(new J(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new J(L.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{Y($t,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);Y($t,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",d,r,15)})}T_(e,t,r){let i=Kw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kE(),a=NE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");Y($t,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=s.createWebChannel(d,c),m=!1,g=!1,_=new Yw({Zo:S=>{g?Y($t,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(Y($t,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Y($t,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},Xo:()=>f.close()}),C=(S,k,H)=>{S.listen(k,G=>{try{H(G)}catch(oe){setTimeout(()=>{throw oe},0)}})};return C(f,wa.EventType.OPEN,()=>{g||(Y($t,`RPC '${e}' stream ${i} transport opened.`),_.__())}),C(f,wa.EventType.CLOSE,()=>{g||(g=!0,Y($t,`RPC '${e}' stream ${i} transport closed`),_.u_())}),C(f,wa.EventType.ERROR,S=>{g||(g=!0,Ma($t,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.u_(new J(L.UNAVAILABLE,"The operation could not be completed")))}),C(f,wa.EventType.MESSAGE,S=>{var k;if(!g){let H=S.data[0];Ue(!!H,16349);let G=H,oe=G?.error||((k=G[0])===null||k===void 0?void 0:k.error);if(oe){Y($t,`RPC '${e}' stream ${i} received error:`,oe);let ze=oe.status,_e=function(E){let b=yt[E];if(b!==void 0)return kR(b)}(ze),I=oe.message;_e===void 0&&(_e=L.INTERNAL,I="Unknown error status: "+ze+" with message "+oe.message),g=!0,_.u_(new J(_e,I)),f.close()}else Y($t,`RPC '${e}' stream ${i} received:`,H),_.c_(H)}}),C(a,OE.STAT_EVENT,S=>{S.stat===dp.PROXY?Y($t,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===dp.NOPROXY&&Y($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}};function VE(){return typeof document<"u"?document:null}function ig(n){return new vw(n,!0)}var Up=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var Mx="PersistentStream",Bp=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Up(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return x(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return x(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return x(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new J(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>x(this,null,function*(){this.state=0,this.start()}))}W_(e){return Y(Mx,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Y(Mx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Zw=class extends Bp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=P8(this.serializer,e),r=function(o){if(!("targetChange"in o))return ve.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Dr(s.readTime):ve.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=Cw(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=aw(c)?{documents:O8(o,c)}:{query:N8(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=FR(o,s.resumeToken);let l=_w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ve.min())>0){a.readTime=Op(o,s.snapshotVersion.toTimestamp());let l=_w(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=F8(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=Cw(this.serializer),t.removeTarget=e,this.L_(t)}},Xw=class extends Bp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();let t=R8(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.ea(r,t)}ta(){let e={};e.database=Cw(this.serializer),this.L_(e)}Z_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>x8(this.serializer,r))};this.L_(t)}};var eC=class{},tC=class extends eC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,Ew(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(L.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,Ew(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(L.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},nC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ei(t),this.oa=!1):Y("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var is="RemoteStore",rC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>x(this,null,function*(){as(this)&&(Y(is,"Restarting streams for network reachability change."),yield function(c){return x(this,null,function*(){let l=pe(c);l.Ta.add(4),yield yl(l),l.da.set("Unknown"),l.Ta.delete(4),yield og(l)})}(this))}))}),this.da=new nC(r,i)}};function og(n){return x(this,null,function*(){if(as(n))for(let e of n.Ia)yield e(!0)})}function yl(n){return x(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function GR(n,e){let t=pe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),$C(t)?jC(t):qa(t).M_()&&BC(t,e))}function UC(n,e){let t=pe(n),r=qa(t);t.Pa.delete(e),r.M_()&&WR(t,e),t.Pa.size===0&&(r.M_()?r.N_():as(t)&&t.da.set("Unknown"))}function BC(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qa(n).H_(e)}function WR(n,e){n.Aa.Ke(e),qa(n).J_(e)}function jC(n){n.Aa=new yw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),qa(n).start(),n.da._a()}function $C(n){return as(n)&&!qa(n).F_()&&n.Pa.size>0}function as(n){return pe(n).Ta.size===0}function KR(n){n.Aa=void 0}function X8(n){return x(this,null,function*(){n.da.set("Online")})}function e6(n){return x(this,null,function*(){n.Pa.forEach((e,t)=>{BC(n,e)})})}function t6(n,e){return x(this,null,function*(){KR(n),$C(n)?(n.da.ca(e),jC(n)):n.da.set("Unknown")})}function n6(n,e,t){return x(this,null,function*(){if(n.da.set("Online"),e instanceof xp&&e.state===2&&e.cause)try{yield function(i,o){return x(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){Y(is,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jp(n,r)}else if(e instanceof Sa?n.Aa.Xe(e):e instanceof Pp?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(ve.min()))try{let r=yield qR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Pa.get(l);d&&o.Pa.set(l,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let d=o.Pa.get(c);if(!d)return;o.Pa.set(c,d.withResumeToken(Ht.EMPTY_BYTE_STRING,d.snapshotVersion)),WR(o,c);let f=new cl(d.target,c,l,d.sequenceNumber);BC(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){Y(is,"Failed to raise snapshot:",r),yield jp(n,r)}})}function jp(n,e,t){return x(this,null,function*(){if(!za(e))throw e;n.Ta.add(1),yield yl(n),n.da.set("Offline"),t||(t=()=>qR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>x(null,null,function*(){Y(is,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield og(n)}))})}function QR(n,e){return e().catch(t=>jp(n,t,e))}function sg(n){return x(this,null,function*(){let e=pe(n),t=$i(e),r=e.ha.length>0?e.ha[e.ha.length-1].batchId:AC;for(;r6(e);)try{let i=yield Q8(e.localStore,r);if(i===null){e.ha.length===0&&t.N_();break}r=i.batchId,i6(e,i)}catch(i){yield jp(e,i)}YR(e)&&JR(e)})}function r6(n){return as(n)&&n.ha.length<10}function i6(n,e){n.ha.push(e);let t=$i(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function YR(n){return as(n)&&!$i(n).F_()&&n.ha.length>0}function JR(n){$i(n).start()}function o6(n){return x(this,null,function*(){$i(n).ta()})}function s6(n){return x(this,null,function*(){let e=$i(n);for(let t of n.ha)e.Z_(t.mutations)})}function a6(n,e,t){return x(this,null,function*(){let r=n.ha.shift(),i=fw.from(r,e,t);yield QR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sg(n)})}function c6(n,e){return x(this,null,function*(){e&&$i(n).Y_&&(yield function(r,i){return x(this,null,function*(){if(function(s){return I8(s)&&s!==L.ABORTED}(i.code)){let o=r.ha.shift();$i(r).O_(),yield QR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield sg(r)}})}(n,e)),YR(n)&&JR(n)})}function Px(n,e){return x(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),Y(is,"RemoteStore received new credentials");let r=as(t);t.Ta.add(3),yield yl(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield og(t)})}function u6(n,e){return x(this,null,function*(){let t=pe(n);e?(t.Ta.delete(2),yield og(t)):e||(t.Ta.add(2),yield yl(t),t.da.set("Unknown"))})}function qa(n){return n.Ra||(n.Ra=function(t,r,i){let o=pe(t);return o.ra(),new Zw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:X8.bind(null,n),n_:e6.bind(null,n),i_:t6.bind(null,n),j_:n6.bind(null,n)}),n.Ia.push(e=>x(null,null,function*(){e?(n.Ra.O_(),$C(n)?jC(n):n.da.set("Unknown")):(yield n.Ra.stop(),KR(n))}))),n.Ra}function $i(n){return n.Va||(n.Va=function(t,r,i){let o=pe(t);return o.ra(),new Xw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:o6.bind(null,n),i_:c6.bind(null,n),X_:s6.bind(null,n),ea:a6.bind(null,n)}),n.Ia.push(e=>x(null,null,function*(){e?(n.Va.O_(),yield sg(n)):(yield n.Va.stop(),n.ha.length>0&&(Y(is,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))}))),n.Va}var iC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function HC(n,e){if(ei("AsyncQueue",`${e}: ${n}`),za(n))return new J(L.UNAVAILABLE,`${e}: ${n}`);throw n}var $p=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||se.comparator(t.key,r.key):(t,r)=>se.comparator(t.key,r.key),this.keyedMap=Ju(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Hp=class{constructor(){this.ma=new dt(se.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ce(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},Ua=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$p.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ng(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var oC=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},sC=class{constructor(){this.queries=xx(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=pe(t),o=i.queries;i.queries=xx(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new J(L.ABORTED,"Firestore shutting down"))}};function xx(){return new ri(n=>IR(n),ng)}function l6(n,e){return x(this,null,function*(){let t=pe(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new oC,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=HC(s,`Initialization of query '${Ia(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&zC(t)})}function d6(n,e){return x(this,null,function*(){let t=pe(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function h6(n,e){let t=pe(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&zC(t)}function f6(n,e,t){let r=pe(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function zC(n){n.ba.forEach(e=>{e.next()})}var aC,Rx;(Rx=aC||(aC={})).Ca="default",Rx.Cache="cache";var cC=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==aC.Cache}};var zp=class{constructor(e){this.key=e}},qp=class{constructor(e){this.key=e}},uC=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Pe(),this.mutatedKeys=Pe(),this.Ha=bR(e),this.Ja=new $p(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new Hp,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),g=rg(this.query,f)?f:null,_=!!m&&this.mutatedKeys.has(m.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),S=!1;m&&g?m.data.isEqual(g.data)?_!==C&&(r.track({type:3,doc:g}),S=!0):this.eu(m,g)||(r.track({type:2,doc:g}),S=!0,(c&&this.Ha(g,c)>0||l&&this.Ha(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),S=!0):m&&!g&&(r.track({type:1,doc:m}),S=!0,(c||l)&&(a=!0)),S&&(g?(s=s.add(g),o=C?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((d,f)=>function(g,_){let C=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Vt:S})}};return C(g)-C(_)}(d.type,f.type)||this.Ha(d.doc,f.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,l=c!==this.za;return this.za=c,s.length!==0||l?{snapshot:new Ua(this.query,e.Ja,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Hp,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Pe(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new qp(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new zp(r))}),t}su(e){this.Ga=e.$s,this.ja=Pe();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Ua.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},qC="SyncEngine",lC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},dC=class{constructor(e){this.key=e,this._u=!1}},hC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new ri(a=>IR(a),ng),this.cu=new Map,this.lu=new Set,this.hu=new dt(se.comparator),this.Pu=new Map,this.Tu=new ll,this.Iu={},this.Eu=new Map,this.du=ul.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function p6(n,e,t=!0){return x(this,null,function*(){let r=rO(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield ZR(r,e,t,!0),i})}function g6(n,e){return x(this,null,function*(){let t=rO(n);yield ZR(t,e,!0,!1)})}function ZR(n,e,t,r){return x(this,null,function*(){let i=yield Y8(n.localStore,br(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield m6(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&GR(n.remoteStore,i),a})}function m6(n,e,t,r,i){return x(this,null,function*(){n.Ru=(f,m,g)=>function(C,S,k,H){return x(this,null,function*(){let G=S.view.Za(k);G.Cs&&(G=yield Sx(C.localStore,S.query,!1).then(({documents:I})=>S.view.Za(I,G)));let oe=H&&H.targetChanges.get(S.targetId),ze=H&&H.targetMismatches.get(S.targetId)!=null,_e=S.view.applyChanges(G,C.isPrimaryClient,oe,ze);return Nx(C,S.targetId,_e.ru),_e.snapshot})}(n,f,m,g);let o=yield Sx(n.localStore,e,!0),s=new uC(e,o.$s),a=s.Za(o.documents),c=al.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);Nx(n,t,l.ru);let d=new lC(e,t,s);return n.uu.set(e,d),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),l.snapshot})}function y6(n,e,t){return x(this,null,function*(){let r=pe(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!ng(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&UC(r.remoteStore,i.targetId),fC(r,i.targetId)}).catch(Ha))):(fC(r,i.targetId),yield qw(r.localStore,i.targetId,!0))})}function v6(n,e){return x(this,null,function*(){let t=pe(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),UC(t.remoteStore,r.targetId))})}function _6(n,e,t){return x(this,null,function*(){let r=T6(n);try{let i=yield function(s,a){let c=pe(s),l=kt.now(),d=a.reduce((g,_)=>g.add(_.key),Pe()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=ii(),C=Pe();return c.Bs.getEntries(g,d).next(S=>{_=S,_.forEach((k,H)=>{H.isValidDocument()||(C=C.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,_)).next(S=>{f=S;let k=[];for(let H of a){let G=C8(H,f.get(H.key).overlayedDocument);G!=null&&k.push(new oi(H.key,G,mR(G.value.mapValue),Yo.exists(!0)))}return c.mutationQueue.addMutationBatch(g,l,k,a)}).next(S=>{m=S;let k=S.applyToLocalDocumentSet(f,C);return c.documentOverlayCache.saveOverlays(g,S.batchId,k)})}).then(()=>({batchId:m.batchId,changes:TR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,c){let l=s.Iu[s.currentUser.toKey()];l||(l=new dt(Se)),l=l.insert(a,c),s.Iu[s.currentUser.toKey()]=l}(r,i.batchId,t),yield vl(r,i.changes),yield sg(r.remoteStore)}catch(i){let o=HC(i,"Failed to persist write");t.reject(o)}})}function XR(n,e){return x(this,null,function*(){let t=pe(n);try{let r=yield W8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Ue(s._u,14607):i.removedDocuments.size>0&&(Ue(s._u,42227),s._u=!1))}),yield vl(t,r,e)}catch(r){yield Ha(r)}})}function Ox(n,e,t){let r=pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=pe(s);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let m of f.ya)m.Da(a)&&(l=!0)}),l&&zC(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function E6(n,e,t){return x(this,null,function*(){let r=pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new dt(se.comparator);s=s.insert(o,er.newNoDocument(o,ve.min()));let a=Pe().add(o),c=new Mp(ve.min(),new Map,new dt(Se),s,a);yield XR(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),GC(r)}else yield qw(r.localStore,e,!1).then(()=>fC(r,e,t)).catch(Ha)})}function w6(n,e){return x(this,null,function*(){let t=pe(n),r=e.batch.batchId;try{let i=yield G8(t.localStore,e);tO(t,r,null),eO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vl(t,i)}catch(i){yield Ha(i)}})}function C6(n,e,t){return x(this,null,function*(){let r=pe(n);try{let i=yield function(s,a){let c=pe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Ue(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);tO(r,e,t),eO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vl(r,i)}catch(i){yield Ha(i)}})}function eO(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function tO(n,e,t){let r=pe(n),i=r.Iu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}function fC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||nO(n,r)})}function nO(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(UC(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),GC(n))}function Nx(n,e,t){for(let r of t)r instanceof zp?(n.Tu.addReference(r.key,e),I6(n,r)):r instanceof qp?(Y(qC,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||nO(n,r.key)):ce(19791,{mu:r})}function I6(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Y(qC,"New document in limbo: "+t),n.lu.add(r),GC(n))}function GC(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new se(ot.fromString(e)),r=n.du.next();n.Pu.set(r,new dC(t)),n.hu=n.hu.insert(t,r),GR(n.remoteStore,new cl(br(kC(t.path)),r,"TargetPurposeLimboResolution",SC.le))}}function vl(n,e,t){return x(this,null,function*(){let r=pe(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(l=>{var d;if((l||t)&&r.isPrimaryClient){let f=l?!l.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(l){i.push(l);let f=jw.Rs(c.targetId,l);o.push(f)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,l){return x(this,null,function*(){let d=pe(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(l,m=>B.forEach(m.ds,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>B.forEach(m.As,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!za(f))throw f;Y(VC,"Failed to update sequence numbers: "+f)}for(let f of l){let m=f.targetId;if(!f.fromCache){let g=d.xs.get(m),_=g.snapshotVersion,C=g.withLastLimboFreeSnapshotVersion(_);d.xs=d.xs.insert(m,C)}}})}(r.localStore,o))})}function b6(n,e){return x(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){Y(qC,"User change. New user:",e.toKey());let r=yield zR(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new J(L.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vl(t,r.ks)}})}function D6(n,e){let t=pe(n),r=t.Pu.get(e);if(r&&r._u)return Pe().add(r.key);{let i=Pe(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function rO(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E6.bind(null,e),e.au.j_=h6.bind(null,e.eventManager),e.au.Vu=f6.bind(null,e.eventManager),e}function T6(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C6.bind(null,e),e}var iO=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return x(this,null,function*(){this.serializer=ig(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return q8(this.persistence,new Hw,t.initialUser,this.serializer)}yu(t){return new kp(Bw.fi,this.serializer)}pu(t){return new Gw}terminate(){return x(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),pC=class extends iO{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ue(this.persistence.referenceDelegate instanceof Fp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Sw(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new kp(r=>Fp.fi(r,t),this.serializer)}};var S6=(()=>{class n{initialize(t,r){return x(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ox(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b6.bind(null,this.syncEngine),yield u6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new sC}()}createDatastore(t){let r=ig(t.databaseInfo.databaseId),i=function(s){return new Jw(s)}(t.databaseInfo);return function(s,a,c,l){return new tC(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new rC(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>Ox(this.syncEngine,r,0),function(){return Vp.C()?new Vp:new Ww}())}createSyncEngine(t,r){return function(o,s,a,c,l,d,f){let m=new hC(o,s,a,c,l,d);return f&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return x(this,null,function*(){var t,r;yield function(o){return x(this,null,function*(){let s=pe(o);Y(is,"RemoteStore shutting down."),s.Ta.add(5),yield yl(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var gC=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Hi="FirestoreClient",mC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=Ep.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>x(this,null,function*(){Y(Hi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y(Hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>x(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=HC(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function UE(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(Hi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>x(null,null,function*(){r.isEqual(i)||(yield zR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function kx(n,e){return x(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield A6(n);Y(Hi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Px(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Px(e.remoteStore,i)),n._onlineComponents=e})}function A6(n){return x(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(Hi,"Using user provided OfflineComponentProvider");try{yield UE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ma("Error using user provided cache. Falling back to memory cache: "+t),yield UE(n,new iO)}}else Y(Hi,"Using default OfflineComponentProvider"),yield UE(n,new pC(void 0));return n._offlineComponents})}function oO(n){return x(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(Hi,"Using user provided OnlineComponentProvider"),yield kx(n,n._uninitializedComponentsProvider._online)):(Y(Hi,"Using default OnlineComponentProvider"),yield kx(n,new S6))),n._onlineComponents})}function M6(n){return oO(n).then(e=>e.syncEngine)}function Fx(n){return x(this,null,function*(){let e=yield oO(n),t=e.eventManager;return t.onListen=p6.bind(null,e.syncEngine),t.onUnlisten=y6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=g6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=v6.bind(null,e.syncEngine),t})}function sO(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var Lx=new Map;function aO(n,e,t){if(!t)throw new J(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P6(n,e,t,r){if(e===!0&&r===!0)throw new J(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vx(n){if(!se.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ux(n){if(se.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ag(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce(12329,{type:typeof n})}function nl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ag(n);throw new J(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function x6(n,e){if(e<=0)throw new J(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var cO="firestore.googleapis.com",Bx=!0,Gp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cO,this.ssl=Bx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Bx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$8)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ba=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BE;switch(r.type){case"firstParty":return new zE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return x(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Lx.get(t);r&&(Y("ComponentProvider","Removing Datastore"),Lx.delete(t),r.terminate())}(this),Promise.resolve()}};function uO(n,e,t,r={}){var i;n=nl(n,Ba);let o=ma(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(z_(`https://${c}`),q_("Firestore",!0)),s.host!==cO&&s.host!==c&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Vo(l,a)&&(n._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=St.MOCK_USER;else{d=JP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new St(m)}n._authCredentials=new jE(new vp(d,f))}}var os=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},In=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Bi=class n extends os{constructor(e,t,r){super(e,t,kC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new se(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lO(n,e,...t){if(n=cn(n),aO("collection","path",e),n instanceof Ba){let r=ot.fromString(e,...t);return Ux(r),new Bi(n,null,r)}{if(!(n instanceof In||n instanceof Bi))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return Ux(r),new Bi(n.firestore,null,r)}}function WC(n,e,...t){if(n=cn(n),arguments.length===1&&(e=Ep.newId()),aO("doc","path",e),n instanceof Ba){let r=ot.fromString(e,...t);return Vx(r),new In(n,null,new se(r))}{if(!(n instanceof In||n instanceof Bi))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ot.fromString(e,...t));return Vx(r),new In(n.firestore,n instanceof Bi?n.converter:null,new se(r))}}var jx="AsyncQueue",Wp=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Up(this,"async_queue_retry"),this.ec=()=>{let r=VE();r&&Y(jx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=VE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=VE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new Xr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return x(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!za(e))throw e;Y(jx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ei("INTERNAL UNHANDLED ERROR: ",$x(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=iC.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&ce(47125,{_c:$x(this.Ju)})}verifyOperationInProgress(){}ac(){return x(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function $x(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function Hx(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ja=class extends Ba{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Wp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return x(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Wp(e),this._firestoreClient=void 0,yield e}})}};function dO(n,e){let t=typeof n=="object"?n:va(),r=typeof n=="string"?n:e||bp,i=Gf(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=QP("firestore");o&&uO(i,...o)}return i}function hO(n){if(n._terminated)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||R6(n),n._firestoreClient}function R6(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,d){return new QE(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,sO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new mC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var dl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ht.fromBase64String(e))}catch(t){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hl=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fl=class{constructor(e){this._methodName=e}};var pl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var gl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var O6=/^__.*__$/,yC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,t,this.fieldTransforms):new rs(e,this.data,t,this.fieldTransforms)}};function fO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{hc:n})}}var vC=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Kp(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(fO(this.hc)&&O6.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},_C=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ig(e)}gc(e,t,r,i=!1){return new vC({hc:e,methodName:t,fc:r,path:Cn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function pO(n){let e=n._freezeSettings(),t=ig(n._databaseId);return new _C(n._databaseId,!!e.ignoreUndefinedProperties,t)}function N6(n,e,t,r,i,o={}){let s=n.gc(o.merge||o.mergeFields?2:0,e,t,i);yO("Data must be an object, but it was:",s,r);let a=gO(r,s),c,l;if(o.merge)c=new Cr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let f of o.mergeFields){let m=F6(e,f,t);if(!s.contains(m))throw new J(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);V6(d,m)||d.push(m)}c=new Cr(d),l=s.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=s.fieldTransforms;return new yC(new Xn(a),c,l)}var EC=class n extends fl{_toFieldTransform(e){return new uw(e.path,new es)}isEqual(e){return e instanceof n}};function k6(n,e,t,r=!1){return KC(t,n.gc(r?4:3,e))}function KC(n,e){if(mO(n=cn(n)))return yO("Unsupported field value:",e,n),gO(n,e);if(n instanceof fl)return function(r,i){if(!fO(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=KC(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return y8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=kt.fromDate(r);return{timestampValue:Op(i.serializer,o)}}if(r instanceof kt){let o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Op(i.serializer,o)}}if(r instanceof pl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:FR(i.serializer,r._byteString)};if(r instanceof In){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:LC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gl)return function(s,a){return{mapValue:{fields:{[PC]:{stringValue:xC},[xa]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return FC(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${ag(r)}`)}(n,e)}function gO(n,e){let t={};return cR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(n,(r,i)=>{let o=KC(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function mO(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof pl||n instanceof dl||n instanceof In||n instanceof fl||n instanceof gl)}function yO(n,e,t){if(!mO(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=ag(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function F6(n,e,t){if((e=cn(e))instanceof hl)return e._internalPath;if(typeof e=="string")return vO(n,e);throw Kp("Field path arguments must be of type string or ",n,!1,void 0,t)}var L6=new RegExp("[~\\*/\\[\\]]");function vO(n,e,t){if(e.search(L6)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hl(...e.split("."))._internalPath}catch{throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Kp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new J(L.INVALID_ARGUMENT,a+n+c)}function V6(n,e){return n.some(t=>t.isEqual(e))}var Qp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new wC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(QC("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},wC=class extends Qp{data(){return super.data()}};function QC(n,e){return typeof e=="string"?vO(n,e):e instanceof hl?e._internalPath:e._delegate._internalPath}function U6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new J(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ml=class{},Yp=class extends ml{};function _O(n,e,...t){let r=[];e instanceof ml&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof CC).length,a=o.filter(c=>c instanceof Jp).length;if(s>1||s>0&&a>0)throw new J(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Jp=class n extends Yp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return CO(e._query,t),new os(e.firestore,e.converter,cw(e._query,t))}_parse(e){let t=pO(e.firestore);return function(o,s,a,c,l,d,f){let m;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qx(f,d);let _=[];for(let C of f)_.push(zx(c,o,C));m={arrayValue:{values:_}}}else m=zx(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qx(f,d),m=k6(a,s,f,d==="in"||d==="not-in");return _t.create(l,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function EO(n,e,t){let r=e,i=QC("where",n);return Jp._create(i,r,t)}var CC=class n extends ml{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:tr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)CO(s,c),s=cw(s,c)}(e._query,t),new os(e.firestore,e.converter,cw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var IC=class n extends Yp{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new os(e.firestore,e.converter,Sp(e._query,this._limit,this._limitType))}};function wO(n){return x6("limit",n),IC._create("limit",n,"F")}function zx(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new J(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(e)&&t.indexOf("/")!==-1)throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ot.fromString(t));if(!se.isDocumentKey(r))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cx(n,new se(r))}if(t instanceof In)return cx(n,t._key);throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ag(t)}.`)}function qx(n,e){if(!Array.isArray(n)||n.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CO(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var bC=class{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ss(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[xa].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>nt(s.doubleValue));return new gl(o)}convertGeoPoint(e){return new pl(nt(e.latitude),nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=tg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ol(e));default:return null}}convertTimestamp(e){let t=ti(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ot.fromString(e);Ue($R(r),9688,{name:e});let i=new Dp(r.get(1),r.get(3)),o=new se(r.popFirst(5));return i.isEqual(t)||ei(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function B6(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Qo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zp=class extends Qp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(QC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Aa=class extends Zp{data(e={}){return super.data(e)}},DC=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Aa(this._firestore,this._userDataWriter,r.key,r,new Qo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Aa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:j6(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function j6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:n})}}var Xp=class extends bC{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,t)}};function IO(n,e){let t=nl(n.firestore,ja),r=WC(n),i=B6(n.converter,e);return $6(t,[N6(pO(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Yo.exists(!1))]).then(()=>r)}function YC(n,...e){var t,r,i;n=cn(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Hx(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Hx(e[s])){let f=e[s];e[s]=(t=f.next)===null||t===void 0?void 0:t.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(n instanceof In)l=nl(n.firestore,ja),d=kC(n._key.path),c={next:f=>{e[s]&&e[s](H6(l,n,f))},error:e[s+1],complete:e[s+2]};else{let f=nl(n,os);l=nl(f.firestore,ja),d=f._query;let m=new Xp(l);c={next:g=>{e[s]&&e[s](new DC(l,m,f,g))},error:e[s+1],complete:e[s+2]},U6(n._query)}return function(m,g,_,C){let S=new gC(C),k=new cC(g,S,_);return m.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return l6(yield Fx(m),k)})),()=>{S.Cu(),m.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return d6(yield Fx(m),k)}))}}(hO(l),d,a,c)}function $6(n,e){return function(r,i){let o=new Xr;return r.asyncQueue.enqueueAndForget(()=>x(null,null,function*(){return _6(yield M6(r),i,o)})),o.promise}(hO(n),e)}function H6(n,e,t){let r=t.docs.get(e._key),i=new Xp(n);return new Zp(n,i,e._key,r,new Qo(t.hasPendingWrites,t.fromCache),e.converter)}function bO(){return new EC("serverTimestamp")}(function(e,t=!0){(function(i){$a=i})(ya),Jn(new Zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ja(new $E(r.getProvider("auth-internal")),new qE(s,r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dp(l.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ft(Z1,X1,e),ft(Z1,X1,"esm2017")})();var cg=function(){return cg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},cg.apply(this,arguments)};var G6={includeMetadataChanges:!1};function JC(n,e){return e===void 0&&(e=G6),new he(function(t){var r=YC(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function DO(n){return JC(n,{includeMetadataChanges:!0})}function TO(n,e){return e===void 0&&(e={}),DO(n).pipe(ee(function(t){return ZC(t,e)}))}function ZC(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:cg(cg({},r),(t={},t[e.idField]=n.id,t))}function SO(n){return JC(n,{includeMetadataChanges:!0}).pipe(ee(function(e){return e.docs}))}function AO(n,e){return e===void 0&&(e={}),SO(n).pipe(ee(function(t){return t.map(function(r){return ZC(r,e)})}))}var Xt=class{constructor(e){return e}},MO="firestore",XC=class{constructor(){return Ea(MO)}};var eI=new K("angularfire2.firestore-instances");function W6(n,e){let t=Qf(MO,n,e);return t&&new Xt(t)}function K6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xt(r)}}var Q6={provide:XC,deps:[[new hr,eI]]},Y6={provide:Xt,useFactory:W6,deps:[[new hr,eI],Ho]};function PO(n,...e){return ft("angularfire",jo.full,"fst"),Di([Y6,Q6,{provide:eI,useFactory:K6(n),multi:!0,deps:[ke,Kt,$o,Hu,[new hr,up],[new hr,Jf],...e]}])}var zi=un(AO,!0);var Ga=un(TO,!0);var xO=un(IO,!0,2);var si=un(lO,!0,2);var Wa=un(WC,!0,2);var RO=un(dO,!0);var _l=un(wO,!0,2);var cs=un(_O,!0,2);var El=un(EO,!0,2);var qi=class n{settingsDocPath="homePageContent/main";globalTelegramLink$;telegramBotLink$;firestore=$(Xt);constructor(){let e=Wa(this.firestore,this.settingsDocPath),t=Ga(e).pipe(my(1));this.globalTelegramLink$=t.pipe(ee(r=>r?.heroSection?.telegramLink),Mc()),this.telegramBotLink$=t.pipe(ee(r=>r?.telegramBotLink),Mc())}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function J6(n,e){if(n&1&&(T(0,"li")(1,"a",21),re(2,"i",22),N(3," \u0412\u0436\u0435 \u043A\u0443\u043F\u0438\u043B\u0438 \u043A\u0443\u0440\u0441? (Telegram \u0411\u043E\u0442) "),P()()),n&2){let t=e.ngIf;O(),F("href",t,bt)}}var lg=class n{constructor(e){this.siteSettingsService=e;this.telegramBotLink$=this.siteSettingsService.telegramBotLink$.pipe(et(1))}currentYear=new Date().getFullYear();telegramBotLink$;static \u0275fac=function(t){return new(t||n)(U(qi))};static \u0275cmp=it({type:n,selectors:[["app-footer"]],decls:40,vars:4,consts:[[1,"app-footer"],[1,"container","footer-content"],[1,"footer-column","about-column"],["routerLink","/",1,"footer-logo"],[1,"social-icons"],["href","https://facebook.com","aria-label","Facebook","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","aria-label","Instagram","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-instagram"],["href","https://telegram.com","aria-label","Twitter","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-telegram"],[1,"footer-column","links-column"],["routerLink","/"],["routerLink","/courses"],[4,"ngIf"],[1,"footer-column","contact-column"],["href","mailto:olgaor994@gmail.com"],[1,"footer-bottom"],[1,"container"],["href","assets/documents/privacy-policy.pdf"],["href","assets/documents/public-offer.pdf","target","_blank","rel","noopener noreferrer"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"fab","fa-telegram-plane"]],template:function(t,r){t&1&&(T(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3",3),N(4,"\u041E\u0440\u043E\u0441\u0424\u0456\u0437\u0456\u043E"),P(),T(5,"div",4)(6,"a",5),re(7,"i",6),P(),T(8,"a",7),re(9,"i",8),P(),T(10,"a",9),re(11,"i",10),P()()(),T(12,"div",11)(13,"h4"),N(14,"\u0428\u0432\u0438\u0434\u043A\u0456 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F"),P(),T(15,"ul")(16,"li")(17,"a",12),N(18,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),P()(),T(19,"li")(20,"a",13),N(21,"\u041A\u0443\u0440\u0441\u0438"),P()(),te(22,J6,4,1,"li",14),lt(23,"async"),P()(),T(24,"div",15)(25,"h4"),N(26,"\u0417\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043D\u0430\u043C\u0438"),P(),T(27,"p"),N(28,"\u0415\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430 \u043F\u043E\u0448\u0442\u0430: "),T(29,"a",16),N(30,"olgaor994@gmail.com"),P()()()(),T(31,"div",17)(32,"div",18)(33,"p"),N(34),T(35,"a",19),N(36,"\u041F\u043E\u043B\u0456\u0442\u0438\u043A\u0430 \u043A\u043E\u043D\u0444\u0456\u0434\u0435\u043D\u0446\u0456\u0439\u043D\u043E\u0441\u0442\u0456"),P(),N(37," | "),T(38,"a",20),N(39,"\u041F\u0443\u0431\u043B\u0456\u0447\u043D\u0430 \u043E\u0444\u0435\u0440\u0442\u0430"),P()()()()()),t&2&&(O(22),F("ngIf",pt(23,2,r.telegramBotLink$)),O(12),Gn("\xA9 ",r.currentYear," \u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438. \u0412\u0441\u0456 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043D\u043E. | "))},dependencies:[mt,Yt,qr],styles:[".app-footer[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1);padding-top:40px}.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px;padding-bottom:40px}@media (min-width: 768px){.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--light-text-color);margin-bottom:15px;text-decoration:none;display:inline-block}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:var(--light-text-color);margin-bottom:15px;position:relative}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95em;line-height:1.6;margin-bottom:10px;color:#e0e0e0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{margin-top:20px}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:var(--light-text-color);border:1px solid var(--light-text-color);border-radius:50%;width:36px;height:36px;line-height:34px;text-align:center;margin-right:10px;text-decoration:none;font-size:.9em;transition:background-color .3s,color .3s}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color);border-color:var(--secondary-color);color:var(--accent-text-color-1)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{background-color:var(--accent-color-1);padding:15px 0;text-align:center;font-size:.85em;color:#ccc}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}"]})};var dg=class n{title="mothers-courses-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&(re(0,"app-header"),T(1,"main"),re(2,"router-outlet"),P(),re(3,"app-footer"))},dependencies:[Nu,Bf,lg],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px);font-family:Comfortaa,sans-serif}"]})};var Z6=n=>["/course",n];function X6(n,e){if(n&1){let t=tt();T(0,"div",1),re(1,"img",2),T(2,"div",3)(3,"h3",4),N(4),P(),T(5,"p",5),N(6),P(),re(7,"div",6),T(8,"div",7)(9,"span",8),N(10),P(),T(11,"a",9),de("click",function(){xe(t);let i=Q();return Re(i.console.log(i.course))}),N(12,"\u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0456\u0448\u0435"),P()()()()}if(n&2){let t=Q();O(),F("src",t.course.imageUrl,bt)("alt",t.course.title),O(3),$e(t.course.title),O(2),$e(t.course.tagline),O(4),Gn("",t.course.price.toFixed(2),"\u20B4"),O(),F("routerLink",To(6,Z6,t.course.slug))}}var Ka=class n{course;print=print;console=console;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=it({type:n,selectors:[["app-course-card"]],inputs:{course:"course"},decls:1,vars:1,consts:[["class","course-card card",4,"ngIf"],[1,"course-card","card"],[1,"course-image",3,"src","alt"],[1,"course-content"],[1,"course-title"],[1,"course-tagline"],[1,"course-meta"],[1,"course-price-action"],[1,"course-price"],[1,"btn","btn-primary",3,"click","routerLink"]],template:function(t,r){t&1&&te(0,X6,13,8,"div",0),t&2&&F("ngIf",r.course)},dependencies:[mt,Yt,Pn],styles:[".course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:transform .3s ease,box-shadow .3s ease}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #00000026}.course-card[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:15px;flex-grow:1;display:flex;text-align:center;flex-direction:column;justify-content:space-between}.course-card[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.6em;margin:0;color:var(--accent-color-1)}.course-card[_ngcontent-%COMP%]   .course-tagline[_ngcontent-%COMP%]{font-size:1.1em;margin:0;font-weight:600;color:var(--text-color);min-height:30px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:15px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-bottom:3px}.course-card[_ngcontent-%COMP%]   .course-price-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.course-card[_ngcontent-%COMP%]   .course-price[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:var(--accent-color-1)}"]})};var ge=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ge||{}),On="*";function nI(n,e){return{type:ge.Trigger,name:n,definitions:e,options:{}}}function hg(n,e=null){return{type:ge.Animate,styles:e,timings:n}}function OO(n,e=null){return{type:ge.Sequence,steps:n,options:e}}function ls(n){return{type:ge.Style,styles:n,offset:null}}function fg(n,e,t){return{type:ge.State,name:n,styles:e,options:t}}function pg(n,e,t=null){return{type:ge.Transition,expr:n,animation:e,options:t}}var Sr=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},us=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Qa="!";var eq=(n,e,t,r,i)=>({width:n,transform:e,transition:t,"padding-left":r,"padding-right":i}),tq=(n,e,t,r)=>({width:n,"margin-left":e,"margin-right":t,left:r}),nq=(n,e)=>({$implicit:n,index:e}),UO=(n,e)=>e.id;function rq(n,e){}function iq(n,e){if(n&1&&te(0,rq,0,0,"ng-template",3),n&2){let t=Q(),r=t.$implicit,i=t.$index,o=Q();F("ngTemplateOutlet",r.tplRef)("ngTemplateOutletContext",Gh(2,nq,o.preparePublicSlide(r),i))}}function oq(n,e){if(n&1){let t=tt();T(0,"div",2),de("animationend",function(){let i=xe(t).$implicit,o=Q();return Re(o.clear(i.id))}),te(1,iq,1,5,null,3),P()}if(n&2){let t=e.$implicit;F("ngClass",t.classes)("ngStyle",nM(4,tq,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),O(),$h(t.load?1:-1)}}var sq=(n,e,t,r,i)=>({"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":r,"owl-grab":i}),aq=(n,e)=>({isMouseDragable:n,isTouchDragable:e}),gg=n=>({disabled:n}),cq=(n,e)=>({active:n,"owl-dot-text":e});function uq(n,e){if(n&1&&(T(0,"div",2),re(1,"owl-stage",3),P()),n&2){let t=Q();O(),F("owlDraggable",Gh(3,aq,t.owlDOMData==null?null:t.owlDOMData.isMouseDragable,t.owlDOMData==null?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}function lq(n,e){if(n&1){let t=tt();T(0,"div",9),de("click",function(){let i=xe(t).$implicit,o=Q(2);return Re(o.moveByDot(i.id))}),re(1,"span",10),P()}if(n&2){let t=e.$implicit;F("ngClass",Gh(2,cq,t.active,t.showInnerContent)),O(),F("innerHTML",t.innerContent,mn)}}function dq(n,e){if(n&1){let t=tt();T(0,"div",4)(1,"div",5),de("click",function(){xe(t);let i=Q();return Re(i.prev())}),P(),T(2,"div",6),de("click",function(){xe(t);let i=Q();return Re(i.next())}),P()(),T(3,"div",7),Ov(4,lq,2,5,"div",8,UO),P()}if(n&2){let t=Q();F("ngClass",To(6,gg,t.navData==null?null:t.navData.disabled)),O(),F("ngClass",To(8,gg,t.navData==null||t.navData.prev==null?null:t.navData.prev.disabled))("innerHTML",t.navData==null||t.navData.prev==null?null:t.navData.prev.htmlText,mn),O(),F("ngClass",To(10,gg,t.navData==null||t.navData.next==null?null:t.navData.next.disabled))("innerHTML",t.navData==null||t.navData.next==null?null:t.navData.next.htmlText,mn),O(),F("ngClass",To(12,gg,t.dotsData==null?null:t.dotsData.disabled)),O(),Nv(t.dotsData==null?null:t.dotsData.dots)}}var rI=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},iI=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},sI=(()=>{class n{errorHandler;constructor(t){this.errorHandler=t}log(t,...r){ru()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}static \u0275fac=function(r){return new(r||n)(W($n))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();var BO=function(n){return n.Event="event",n.State="state",n}(BO||{}),mg=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(mg||{});var ai=(()=>{class n{logger;_viewSettingsShipper$=new De;_initializedCarousel$=new De;_changeSettingsCarousel$=new De;_changedSettingsCarousel$=new De;_translateCarousel$=new De;_translatedCarousel$=new De;_resizeCarousel$=new De;_resizedCarousel$=new De;_refreshCarousel$=new De;_refreshedCarousel$=new De;_dragCarousel$=new De;_draggedCarousel$=new De;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{let r=this.settings.margin||"",i=!this.settings.autoWidth,o=this.settings.rtl,s={"margin-left":o?r:"","margin-right":o?"":r};i||this.slidesData.forEach(a=>{a.marginL=s["margin-left"],a.marginR=s["margin-right"]}),t.css=s}},{filter:["width","items","settings"],run:t=>{let r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=!this.settings.autoWidth,o=[],s=null,a=this._items.length;for(t.items={merge:!1,width:r};a-- >0;)s=this._mergers[a],s=this.settings.mergeFit&&Math.min(s,this.settings.items)||s,t.items.merge=s>1||t.items.merge,o[a]=i?r*s:this._items[a].width?this._items[a].width:r;this._widths=o,this.slidesData.forEach((c,l)=>{c.width=this._widths[l],c.marginR=t.css["margin-right"],c.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let t=[],r=this._items,i=this.settings,o=Math.max(i.items*2,4),s=Math.ceil(r.length/2)*2,a=[],c=[],l=i.loop&&r.length?i.rewind?o:Math.max(o,s):0;for(l/=2;l-- >0;)t.push(this.normalize(t.length/2,!0)),a.push(j({},this.slidesData[t[t.length-1]])),t.push(this.normalize(r.length-1-(t.length-1)/2,!0)),c.unshift(j({},this.slidesData[t[t.length-1]]));this._clones=t,a=a.map(d=>le(j({},d),{id:`${this.clonedIdPrefix}${d.id}-append`,isActive:!1,isCloned:!0})),c=c.map(d=>le(j({},d),{id:`${this.clonedIdPrefix}${d.id}`,isActive:!1,isCloned:!0})),this.slidesData=c.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,i=[],o=-1,s=0,a=0;for(;++o<r;)s=i[o-1]||0,a=this._widths[this.relative(o)]+this.settings.margin,i.push(s+a*t);this._coordinates=i}},{filter:["width","items","settings"],run:()=>{let t=this.settings.stagePadding,r=this._coordinates,i={width:Math.ceil(Math.abs(r[r.length-1]))+t*2,"padding-left":t||"","padding-right":t||""};this.stageData.width=i.width,this.stageData.paddingL=i["padding-left"],this.stageData.paddingR=i["padding-right"]}},{filter:["width","items","settings"],run:t=>{let r=t.current?this.slidesData.findIndex(i=>i.id===t.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this.settings.stagePadding*2,i=[],o,s,a,c,l,d;if(o=this.coordinates(this.current()),typeof o=="number"?o+=r:o=0,s=o+this.width()*t,t===-1&&this.settings.center){let f=this._coordinates.filter(m=>this.settings.items%2===1?m>=o:m>o);o=f.length?f[f.length-1]:o}for(l=0,d=this._coordinates.length;l<d;l++)a=Math.ceil(this._coordinates[l-1]||0),c=Math.ceil(Math.abs(this._coordinates[l])+r*t),(this._op(a,"<=",o)&&this._op(a,">",s)||this._op(c,"<",o)&&this._op(c,">",s))&&i.push(l);this.slidesData.forEach(f=>(f.isActive=!1,f)),i.forEach(f=>{this.slidesData[f].isActive=!0}),this.settings.center&&(this.slidesData.forEach(f=>(f.isCentered=!1,f)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){let r=new rI,i=this._validateOptions(t,r);this._options=j(j({},r),i)}_validateOptions(t,r){let i=j({},t),o=new iI,s=(a,c)=>(this.logger.log(`options.${c} must be type of ${a}; ${c}=${t[c]} skipped to defaults: ${c}=${r[c]}`),r[c]);for(let a in i)if(i.hasOwnProperty(a)){if(o[a]==="number")this._isNumeric(i[a])?(i[a]=+i[a],i[a]=a==="items"?this._validateItems(i[a],i.skip_validateItems):i[a]):i[a]=s(o[a],a);else if(o[a]==="boolean"&&typeof i[a]!="boolean")i[a]=s(o[a],a);else if(o[a]==="number|boolean"&&!this._isNumberOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="number|string"&&!this._isNumberOrString(i[a]))i[a]=s(o[a],a);else if(o[a]==="string|boolean"&&!this._isStringOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="string[]")if(Array.isArray(i[a])){let c=!1;i[a].forEach(l=>{c=typeof l=="string"}),c||(i[a]=s(o[a],a))}else i[a]=s(o[a],a)}return i}_validateItems(t,r){let i=t;return t>this._items.length?r?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,r,i){this.setCarouselWidth(t),this.setItems(r),this._defineSlidesData(),this.setOptions(i),this.settings=j({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let t=this._width,r=this._options.responsive,i=-1;if(!Object.keys(r).length)return;if(!t){this.settings.items=1;return}for(let s in r)r.hasOwnProperty(s)&&+s<=t&&+s>i&&(i=Number(s));this.settings=le(j(j({},this._options),r[i]),{items:r[i]&&r[i].items?this._validateItems(r[i].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(s=>{let a=this.settings.merge?s.dataMerge:1;o.push(a)}),this._mergers=o,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(r=>{let i=this.settings.merge?r.dataMerge:1;this._mergers.push(i)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0,r=this._pipe.length,i=s=>this._invalidated[s],o={};for(;t<r;){let s=this._pipe[t].filter.filter(i);(this._invalidated.all||s.length>0)&&this._pipe[t].run(o),t++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||mg.Default,t){case mg.Inner:case mg.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let r=null,i;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),r={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),t.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),r}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,r){let i=null,o=null,s=null,a=this.difference(r.pointer,this.pointer(t)),c=this.difference(r.stage.start,a);return this.is("dragging")?(this.settings.loop?(i=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-i,c.x=((c.x-i)%o+o)%o+i):(i=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,c.x=Math.max(Math.min(c.x,i+s),o+s)),c):!1}finishDragging(t,r,i){let o=["right","left"],s=this.difference(r.pointer,this.pointer(t)),a=r.stage.current,c=o[+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)],l,d,f;(s.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),l=this.closest(a.x,s.x!==0?c:r.direction),d=this.current(),f=this.current(l===-1?void 0:l),d!==f&&(this.invalidate("position"),this.update()),r.direction=c,(Math.abs(s.x)>3||new Date().getTime()-r.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,r){let o=this.width(),s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(c=>(c===0&&(c+=1e-6),c)));for(let c=0;c<s.length&&(r==="left"&&t>s[c]-30&&t<s[c]+30?a=c:r==="right"&&t>s[c]-o-30&&t<s[c]-o+30?a=c+1:this._op(t,"<",s[c])&&this._op(t,">",s[c+1]||s[c]-o)?a=r==="left"?c+1:c:r===null&&t>s[c]-30&&t<s[c]+30&&(a=c),a===-1);c++);return this.settings.loop||(this._op(t,">",s[this.minimum()])?a=t=this.minimum():this._op(t,"<",s[this.maximum()])&&(a=t=this.maximum())),a}animate(t){let r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){if(t===void 0)return this._current;if(this._items.length!==0){if(t=this.normalize(t),this._current!==t){let r=this._trigger("change",{property:{name:"position",value:t}});this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(t){return typeof t=="string"&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){t=this.normalize(t),t!==void 0&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,r){let i=this._items.length,o=r?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t}relative(t){return t-=this._clones.length/2,this.normalize(t,!0)}maximum(t=!1){let r=this.settings,i=this._coordinates.length,o,s,a;if(r.loop)i=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o-- >0&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););i=o+1}else r.center?i=this._items.length-1:i=this._items.length-r.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return t===void 0?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return t===void 0?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){let r=this._clones.length/2,i=r+this._items.length,o=s=>s%2===0?i+s/2:r-(s+1)/2;return t===void 0?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===t?o(a):null).filter(s=>s)}speed(t){return t!==void 0&&(this._speed=t),this._speed}coordinates(t){let r=1,i=t-1,o,s;return t===void 0?(s=this._coordinates.map((a,c)=>this.coordinates(c)),s):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),o=this._coordinates[t],o+=(this.width()-o+(this._coordinates[i]||0))/2*r):o=this._coordinates[i]||0,o=Math.ceil(o),o)}_duration(t,r,i){return i===0?0:Math.min(Math.max(Math.abs(r-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,r){let i=this.current(),o=null,s=t-this.relative(i),a=this.maximum(),c=0,l=+(s>0)-+(s<0),d=this._items.length,f=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>d/2&&(s+=l*-1*d),t=i+s,o=((t-f)%d+d)%d+f,o!==t&&o-s<=a&&o-s>0&&(i=o-s,t=o,c=30,this.reset(i),this.sendChanges())):this.settings.rewind?(a+=1,t=(t%a+a)%a):t=Math.max(f,Math.min(a,t)),setTimeout(()=>{this.speed(this._duration(i,t,r)),this.current(t),this.update()},c)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(t!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(r=>{r.load&&t.set(r.id,r.load)})),this.slidesData=this._items.map(r=>({id:`${r.id}`,isActive:!1,tplRef:r.tplRef,dataMerge:r.dataMerge,width:0,isCloned:!1,load:t?t.get(r.id):!1,hashFragment:r.dataHash}))}setCurSlideClasses(t){let r={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(r[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(r[this.settings.animateOut]=t.isCustomAnimatedOut),r}_op(t,r,i){let o=this.settings.rtl;switch(r){case"<":return o?t>i:t<i;case">":return o?t<i:t>i;case">=":return o?t<=i:t>=i;case"<=":return o?t>=i:t<=i;default:break}}_trigger(t,r,i,o,s){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(r);break;case"changed":this._changedSettingsCarousel$.next(r);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t);break;default:break}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{this._states.current[r]===void 0&&(this._states.current[r]=0),this._states.current[r]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{(this._states.current[r]===0||this._states.current[r])&&this._states.current[r]--})}register(t){t.type===BO.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((r,i)=>this._states.tags[t.name].indexOf(r)===i))}_suppress(t){t.forEach(r=>{this._supress[r]=!0})}_release(t){t.forEach(r=>{delete this._supress[r]})}pointer(t){let r={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||typeof t=="boolean"}_isNumberOrString(t){return this._isNumeric(t)||typeof t=="string"}_isStringOrBoolean(t){return typeof t=="string"||typeof t=="boolean"}difference(t,r){return t===null||r===null?{x:0,y:0}:{x:t.x-r.x,y:t.y-r.y}}static \u0275fac=function(r){return new(r||n)(W(sI))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),NO=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ue(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=this.carouselService.getChangedState().pipe(We(s=>s.property.name==="position"),ue(s=>{this.update()})),i=this.carouselService.getRefreshedState().pipe(ue(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=Vn(t,r,i);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,r,i,o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),c=[],l=this.carouselService.settings,d=l.center||l.autoWidth||l.dotsData?1:Math.floor(Number(l.dotsEach))||Math.floor(l.items);if(d=+d,l.slideBy!=="page"&&(l.slideBy=Math.min(+l.slideBy,l.items)),l.dots||l.slideBy==="page")for(t=o,r=0,i=0;t<s;t++){if(r>=d||r===0){if(c.push({start:Math.min(a,t-o),end:t-o+d-1}),Math.min(a,t-o)===a)break;r=0,++i}r+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=c}draw(){let t,r=this.carouselService.settings,i=this.carouselService.items(),o=i.length<=r.items;if(this._navData.disabled=!r.nav||o,this._dotsData.disabled=!r.dots||o,r.dots)if(t=this._pages.length-this._dotsData.dots.length,r.dotsData&&t!==0)this._dotsData.dots=[],i.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(t>0){let s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<t;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let t=this.carouselService.settings,r=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!r&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!r&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(r=>{r.active===!0&&(r.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let t=this.carouselService.relative(this.carouselService.current()),r,i=this._pages.filter((o,s)=>o.start<=t&&o.end>=t).pop();return r=this._pages.findIndex(o=>o.start===i.start&&o.end===i.end),r}_getPosition(t){let r,i,o=this.carouselService.settings;return o.slideBy==="page"?(r=this._current(),i=this._pages.length,t?++r:--r,r=this._pages[(r%i+i)%i].start):(r=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?r+=+o.slideBy:r-=+o.slideBy),r}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,r,i){let o;!i&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(t%o+o)%o].start,r)):this.carouselService.to(t,r)}moveByDot(t){let r=this._dotsData.dots.findIndex(i=>t===i.id);this.to(r,this.carouselService.settings.dotsSpeed)}toSlideById(t){let r=this.carouselService.slidesData.findIndex(i=>i.id===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}static \u0275fac=function(r){return new(r||n)(W(ai))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),aI=new K("WindowToken"),wl=class{get nativeWindow(){throw new Error("Not implemented.")}},hq=(()=>{class n extends wl{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function fq(n,e){return Wn(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}}var pq={provide:wl,useClass:hq},gq={provide:aI,useFactory:fq,deps:[wl,Nt]},mq=[pq,gq],yg=new K("DocumentToken"),Cl=class{get nativeDocument(){throw new Error("Not implemented.")}},yq=(()=>{class n extends Cl{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function vq(n,e){return Wn(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var _q={provide:Cl,useClass:yq},Eq={provide:yg,useFactory:vq,deps:[Cl,Nt]},wq=[_q,Eq],kO=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,r,i,o){this.carouselService=t,this.ngZone=o,this.winRef=r,this.docRef=i,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ue(()=>{this.carouselService.settings.autoplay&&this.play()})),r=this.carouselService.getChangedState().pipe(ue(s=>{this._handleChangeObservable(s)})),i=this.carouselService.getResizedState().pipe(ue(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=Vn(t,r,i);this.autoplaySubscription=o.subscribe(()=>{})}play(t,r){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,r){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(r||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){t.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():t.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){ne("translated").pipe(rt(t=>this.carouselService.getTranslatedState()),pn(),We(()=>this._isArtificialAutoplayTimeout),ue(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(r){return new(r||n)(W(ai),W(aI),W(yg),W(ke))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),FO=(()=>{class n{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ue(()=>{let s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),r=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),o=Vn(t,r,i).pipe(ue(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(t){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(t.property&&t.property.name==="position"||t==="initialized"||t==="resized")){let r=this.carouselService.settings,i=this.carouselService.clones().length,o=r.center&&Math.ceil(r.items/2)||r.items,s=r.center&&o*-1||0,a=(t.property&&t.property.value!==void 0?t.property.value:this.carouselService.current())+s;for(r.lazyLoadEager>0&&(o+=r.lazyLoadEager,r.loop&&(a-=r.lazyLoadEager,o++));s++<o;)this._load(i/2+this.carouselService.relative(a)),i&&this.carouselService.clones(this.carouselService.relative(a)).forEach(c=>this._load(c)),a++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(r){return new(r||n)(W(ai))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),oI=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getChangeState().pipe(ue(l=>{l.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=l.property.value)})),r=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=Vn(r,i,o).pipe(ue(l=>this.swapping=l==="translated")),a=this.carouselService.getTranslateState().pipe(ue(l=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),c=Vn(t,a,s).pipe();this.animateSubscription=c.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let t,r=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.left=`${t}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(r=>{r.id===t&&(r.left="",r.isAnimated=!1,r.isDefAnimatedOut=!1,r.isCustomAnimatedOut=!1,r.isDefAnimatedIn=!1,r.isCustomAnimatedIn=!1,r.classes=this.carouselService.setCurSlideClasses(r))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(r){return new(r||n)(W(ai))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),LO=(()=>{class n{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ue(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),r=this.carouselService.getChangedState().pipe(ue(s=>{this.carouselService.settings.autoHeight&&s.property.name==="position"&&this.update()})),i=this.carouselService.getRefreshedState().pipe(ue(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=Vn(t,r,i);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let t=this.carouselService.settings.items,r=this.carouselService.current(),i=r+t;this.carouselService.settings.center&&(r=t%2===1?r-(t-1)/2:r-t/2,i=t%2===1?r+t:r+t+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=r&&s<i?"full":"nulled"})}static \u0275fac=function(r){return new(r||n)(W(ai))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),VO=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,r,i){this.carouselService=t,this.route=r,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:ne("no route").pipe(et(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(ue(()=>this.listenToRoute())),r=this.carouselService.getChangedState().pipe(ue(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),i=Vn(t,r);this.hashSubscription=i.subscribe(()=>{})}rewind(t){let r=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}listenToRoute(){let t=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(xd(t)).subscribe(r=>{this.currentHashFragment=r,this.rewind(r)})}static \u0275fac=function(r){return new(r||n)(W(ai),W(Jt,8),W(an,8))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Cq=0,cI=(()=>{class n{tplRef;id=`owl-slide-${Cq++}`;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(r){return new(r||n)(U(Hn))};static \u0275dir=Qe({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"},standalone:!1})}return n})(),jO=(()=>{class n{resizeObservable$;docRef;get onResize$(){return this.resizeObservable$.pipe(We(()=>!this.docRef?.fullscreenElement))}constructor(t,r,i){this.docRef=r,this.resizeObservable$=Wn(i)?Ac(t,"resize"):new De().asObservable()}static \u0275fac=function(r){return new(r||n)(W(aI),W(yg),W(Nt))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),Iq=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new De;_oneMoveSubsription;preparePublicSlide=t=>{let r=j({},t);return delete r.tplRef,r};constructor(t,r,i,o,s){this.zone=t,this.el=r,this.renderer=i,this.carouselService=o,this.animateService=s}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(pn()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let r=null;t.which!==3&&(r=this._prepareDragging(t),this._drag.time=new Date().getTime(),this._drag.target=t.target,this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){let r=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(r.x)<3&&Math.abs(r.y)<3&&this._is("valid"))&&(Math.abs(r.x)<3&&Math.abs(r.x)<Math.abs(r.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let r=t.target;for(;r&&!(r instanceof HTMLAnchorElement);)r=r.parentElement;r instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(r,"click",()=>!1))}_onDragMove(t){let r,i=this.carouselService.defineNewCoordsDrag(t,this._drag);i!==!1&&(r=i,t.preventDefault(),this._drag.stage.current=r,this._animate(r.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,r){return this.carouselService.difference(t,r)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(r){return new(r||n)(U(ke),U(jt),U(Qt),U(ai),U(oI))};static \u0275cmp=it({type:n,selectors:[["owl-stage"]],hostBindings:function(r,i){r&1&&de("mousedown",function(s){return i.onMouseDown(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchcancel",function(s){return i.onTouchCancel(s)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},standalone:!1,decls:4,vars:7,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[1,"owl-item",3,"ngClass","ngStyle"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(T(0,"div")(1,"div",0),de("transitionend",function(){return i.onTransitionEnd()}),Ov(2,oq,2,9,"div",1,UO),P()()),r&2&&(O(),F("ngStyle",Lv(1,eq,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),O(),Nv(i.slidesData))},dependencies:[Zh,Zv,Jv],encapsulation:2,data:{animation:[nI("autoHeight",[fg("nulled",ls({height:0})),fg("full",ls({height:"*"})),pg("full => nulled",[hg("700ms 350ms")]),pg("nulled => full",[hg(350)])])]}})}return n})(),$O=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new je;dragging=new je;change=new je;changed=new je;initialized=new je;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,r,i,o,s,a,c,l,d,f,m,g){this.el=t,this.resizeService=r,this.carouselService=i,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=c,this.autoHeightService=l,this.hashService=d,this.logger=f,this.changeDetectorRef=m,this.docRef=g}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(ue(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(ue(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(ue(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(ue(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(ue(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(rt(t=>{let r=ne(t).pipe(We(()=>t.property.name==="position"),rt(()=>Ve(this.slidesData)),xd(t.property.value),et(this.carouselService.settings.items),ee(i=>{let o=this.carouselService.clonedIdPrefix,s=i.id.indexOf(o)>=0?i.id.slice(o.length):i.id;return le(j({},i),{id:s,isActive:!0})}),dy(),ee(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return Vn(r)}),ue(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(ue(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),rt(()=>this.carouselService.getDraggedState().pipe(ee(()=>!!this.carouselService.is("animating")))),rt(t=>t?this.carouselService.getTranslatedState().pipe(pn()):ne("not animating")),ue(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=Vn(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(We(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),fy(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t,r=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(r)>=0?o.id.slice(r.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(r){return new(r||n)(U(jt),U(jO),U(ai),U(NO),U(kO),U(FO),U(oI),U(LO),U(VO),U(sI),U(zr),U(yg))};static \u0275cmp=it({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(r,i,o){if(r&1&&zh(o,cI,4),r&2){let s;Ai(s=Mi())&&(i.slides=s)}},hostBindings:function(r,i){r&1&&de("visibilitychange",function(s){return i.onVisibilityChange(s)},!1,uA)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},standalone:!1,features:[Do([NO,kO,ai,FO,oI,LO,VO]),An],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],[1,"owl-dot",3,"ngClass"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(r,i){if(r&1){let o=tt();T(0,"div",1,0),de("mouseover",function(){return xe(o),Re(i.startPausing())})("mouseleave",function(){return xe(o),Re(i.startPlayML())})("touchstart",function(){return xe(o),Re(i.startPausing())})("touchend",function(){return xe(o),Re(i.startPlayTE())}),te(2,uq,2,6,"div",2)(3,dq,6,14),P()}r&2&&(F("ngClass",Lv(3,sq,i.owlDOMData==null?null:i.owlDOMData.rtl,i.owlDOMData==null?null:i.owlDOMData.isLoaded,i.owlDOMData==null?null:i.owlDOMData.isResponsive,i.owlDOMData==null?null:i.owlDOMData.isMouseDragable,i.owlDOMData==null?null:i.owlDOMData.isGrab)),O(2),$h(i.carouselLoaded?2:-1),O(),$h(i.slides.toArray().length?3:-1))},dependencies:[Zh,Iq],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var HO=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({providers:[mq,jO,wq,sI],imports:[mt]})}return n})();var Ya=class n{transform(e){return e?e.replaceAll(/\\n/g,"<br />"):""}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Jc({name:"replaceLineBreaks",type:n,pure:!0})};var Gi=class n{constructor(e){this.firestore=e}coursesCollectionPath="courses";getAllCourses(){let e=si(this.firestore,this.coursesCollectionPath);return zi(e,{idField:"id"})}getFeaturedCourses(e=2){let t=si(this.firestore,this.coursesCollectionPath),r=cs(t,El("isFeatured","==",!0),_l(e));return zi(r,{idField:"id"})}getCourseById(e){let t=Wa(this.firestore,`${this.coursesCollectionPath}/${e}`);return Ga(t,{idField:"id"})}getCourseBySlug(e){let t=si(this.firestore,this.coursesCollectionPath),r=cs(t,El("slug","==",e),_l(1));return zi(r,{idField:"id"}).pipe(ee(i=>i.length>0?i[0]:void 0),et(1))}static \u0275fac=function(t){return new(t||n)(W(Xt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var vg=class n{constructor(e){this.firestore=e}certificatesCollectionPath="certificates";getCertificates(){let e=si(this.firestore,this.certificatesCollectionPath);return zi(cs(e),{idField:"id"})}static \u0275fac=function(t){return new(t||n)(W(Xt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var _g=class n{constructor(e){this.firestore=e}contentDocPath="homePageContent/main";getHomePageContent(){let e=Wa(this.firestore,this.contentDocPath);return Ga(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(W(Xt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function Sq(n,e){if(n&1&&(T(0,"div",26),re(1,"img",27),P()),n&2){let t=Q().$implicit;O(),F("src",t.iconName,bt)}}function Aq(n,e){if(n&1&&(T(0,"div",24),te(1,Sq,2,1,"div",25),T(2,"h3"),N(3),P(),T(4,"p"),N(5),P()()),n&2){let t=e.$implicit;O(),F("ngIf",t.iconName),O(2),$e(t.title),O(2),$e(t.text)}}function Mq(n,e){if(n&1&&(T(0,"section",21)(1,"div",13)(2,"div",22),te(3,Aq,6,3,"div",23),P()()()),n&2){let t=Q().ngIf;O(3),F("ngForOf",t.infoBlocks)}}function Pq(n,e){if(n&1&&re(0,"app-course-card",30),n&2){let t=e.$implicit;F("course",t)}}function xq(n,e){if(n&1&&(T(0,"div",28),te(1,Pq,1,1,"app-course-card",29),lt(2,"async"),P()),n&2){let t=Q(2);O(),F("ngForOf",pt(2,1,t.featuredCourses$))}}function Rq(n,e){n&1&&(T(0,"p"),N(1,"\u041D\u0430\u0440\u0430\u0437\u0456 \u043D\u0435\u043C\u0430\u0454 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0417\u0430\u0432\u0456\u0442\u0430\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),P())}function Oq(n,e){n&1&&(T(0,"div",31)(1,"a",32),N(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0412\u0441\u0456 \u041A\u0443\u0440\u0441\u0438"),P()())}function Nq(n,e){if(n&1&&(T(0,"div",38),re(1,"img",39),P()),n&2){let t=Q(2).ngIf;O(),kv("alt",t.aboutUs.title),F("src",t.aboutUs.imageUrl,bt)}}function kq(n,e){if(n&1&&(T(0,"section",33)(1,"div",13)(2,"h2",14),N(3),P(),T(4,"div",34),te(5,Nq,2,2,"div",35),T(6,"div",36),re(7,"div",37),lt(8,"replaceLineBreaks"),P()()()()),n&2){let t=Q().ngIf;O(3),$e(t.aboutUs.title),O(2),F("ngIf",t.aboutUs.imageUrl),O(2),F("innerHTML",pt(8,3,t.aboutUs.text),mn)}}function Fq(n,e){if(n&1&&(T(0,"h4"),N(1),P()),n&2){let t=Q().$implicit;O(),$e(t.specialization)}}function Lq(n,e){if(n&1&&(T(0,"div",43)(1,"div",44),re(2,"img",45),P(),T(3,"div",46)(4,"h3"),N(5),P(),te(6,Fq,2,1,"h4",47),re(7,"div",48),lt(8,"replaceLineBreaks"),P()()),n&2){let t=e.$implicit;O(2),F("src",t.imageUrl,bt)("alt",t.fullName),O(3),$e(t.fullName),O(),F("ngIf",t.specialization),O(),F("innerHTML",pt(8,5,t.bio),mn)}}function Vq(n,e){if(n&1&&(T(0,"section",40)(1,"div",13)(2,"div",41),te(3,Lq,9,7,"div",42),P()()()),n&2){let t=Q().ngIf;O(3),F("ngForOf",t.aboutUs.authors)}}function Uq(n,e){if(n&1&&(T(0,"div",53),re(1,"img",54),P()),n&2){let t=Q().$implicit;O(),F("src",t.imageUrl,bt)("alt",t.caption)}}function Bq(n,e){if(n&1&&te(0,Uq,2,2,"ng-template",52),n&2){let t=e.$implicit;F("id",t.imageUrl)}}function jq(n,e){if(n&1&&(T(0,"div",49)(1,"owl-carousel-o",50),te(2,Bq,1,1,null,51),lt(3,"async"),P()()),n&2){let t=Q(2);O(),F("options",t.certificateOptions),O(),F("ngForOf",pt(3,2,t.certificates$))}}function $q(n,e){n&1&&(T(0,"div",31)(1,"p"),N(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043B\u0430\u0439\u0434\u0435\u0440\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0456\u0432..."),P()())}function Hq(n,e){if(n&1){let t=tt();T(0,"div",3)(1,"section",4),re(2,"div",5),T(3,"div",6)(4,"h1"),N(5),P(),T(6,"p",7),N(7),P(),T(8,"div",8)(9,"a",9),N(10),P(),T(11,"button",10),de("click",function(){let i=xe(t).ngIf,o=Q();return Re(o.navigateTo(i.heroSection.telegramLink))}),N(12),P()()()(),te(13,Mq,4,1,"section",11),T(14,"section",12)(15,"div",13)(16,"h2",14),N(17,"\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0456 \u041A\u0443\u0440\u0441\u0438"),P(),te(18,xq,3,3,"div",15),lt(19,"async"),te(20,Rq,2,0,"ng-template",null,1,So)(22,Oq,3,0,"div",16),lt(23,"async"),P()(),te(24,kq,9,5,"section",17)(25,Vq,4,1,"section",18),T(26,"section",19)(27,"div",13)(28,"h2",14),N(29,"\u041D\u0430\u0448\u0456 \u0421\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0438 \u0442\u0430 \u0414\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"),P(),te(30,jq,4,4,"div",20)(31,$q,3,0,"div",16),P()()()}if(n&2){let t,r,i=e.ngIf,o=bo(21),s=Q();O(),eu("background-image","url("+i.heroSection.backgroundImageUrl+")"),O(4),$e(i.heroSection.title),O(2),$e(i.heroSection.subtitle),O(3),$e(i.heroSection.coursesButtonText),O(2),$e(i.heroSection.telegramButtonText),O(),F("ngIf",i.infoBlocks&&i.infoBlocks.length>0),O(5),F("ngIf",(t=pt(19,14,s.featuredCourses$))==null?null:t.length)("ngIfElse",o),O(4),F("ngIf",(r=pt(23,16,s.featuredCourses$))==null?null:r.length),O(2),F("ngIf",i.aboutUs),O(),F("ngIf",i.aboutUs.authors.length),O(5),F("ngIf",s.isBrowser),O(),F("ngIf",!s.isBrowser)}}function zq(n,e){n&1&&(T(0,"div",55)(1,"p"),N(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0433\u043E\u043B\u043E\u0432\u043D\u043E\u0457 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438..."),P()())}var Eg=class n{constructor(e,t,r,i){this.courseService=e;this.certificateService=t;this.homePageService=r;this.platformId=i;this.isBrowser=Wn(this.platformId),this.homePageContent$=this.homePageService.getHomePageContent(),this.certificates$=this.certificateService.getCertificates(),this.featuredCourses$=this.courseService.getFeaturedCourses(3),this.homePageContent$.subscribe(o=>{console.log(o)})}homePageContent$;isBrowser;certificateOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,margin:20,responsive:{0:{items:1},768:{items:2},1024:{items:3}}};featuredCourses$;certificates$;navigateTo(e){this.isBrowser&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(U(Gi),U(vg),U(_g),U(Nt))};static \u0275cmp=it({type:n,selectors:[["app-home"]],decls:4,vars:4,consts:[["loadingHome",""],["noCourses",""],["class","home-page",4,"ngIf","ngIfElse"],[1,"home-page"],[1,"hero-section-v2"],[1,"hero-overlay"],[1,"container","hero-content-v2"],[1,"subtitle"],[1,"hero-buttons"],["routerLink","/courses",1,"btn","btn-primary","btn-lg"],[1,"btn","btn-outline-light","btn-lg",3,"click"],["class","info-blocks-section section-padding",4,"ngIf"],[1,"featured-courses-section","section-padding"],[1,"container"],[1,"section-title"],["class","courses-grid",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["class","about-us-section-v2 section-padding",4,"ngIf"],["class","authors-section section-padding",4,"ngIf"],[1,"certificates-section","section-padding"],["class","certificates-carousel-wrapper",4,"ngIf"],[1,"info-blocks-section","section-padding"],[1,"info-blocks-grid"],["class","info-block-item",4,"ngFor","ngForOf"],[1,"info-block-item"],["class","info-block-icon-container",4,"ngIf"],[1,"info-block-icon-container"],[1,"info-block-icon",3,"src","alt"],[1,"courses-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"],["routerLink","/courses",1,"btn","btn-secondary"],[1,"about-us-section-v2","section-padding"],[1,"about-us-content-layout"],["class","about-us-image-container",4,"ngIf"],[1,"about-us-text-container"],[1,"section-intro",3,"innerHTML"],[1,"about-us-image-container"],[1,"about-us-image",3,"src","alt"],[1,"authors-section","section-padding"],[1,"authors-grid-v2"],["class","author-card-v2",4,"ngFor","ngForOf"],[1,"author-card-v2"],[1,"author-image-container"],[1,"author-image",3,"src","alt"],[1,"author-info-container"],[4,"ngIf"],[3,"innerHTML"],[1,"certificates-carousel-wrapper"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"certificate-slide-item-owl"],[1,"certificate-image-owl",3,"src","alt"],[1,"container","text-center",2,"padding","100px 0"]],template:function(t,r){if(t&1&&(te(0,Hq,32,18,"div",2),lt(1,"async"),te(2,zq,3,0,"ng-template",null,0,So)),t&2){let i=bo(3);F("ngIf",pt(1,2,r.homePageContent$))("ngIfElse",i)}},dependencies:[mt,xi,Yt,qr,Pn,Ka,HO,$O,cI,Ya],styles:[".home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:40px 0}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:60px 0}}.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;font-size:2em;margin-bottom:30px;color:var(--accent-color-1)}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:40px}}.home-page[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:800px;margin-left:auto;margin-right:auto;line-height:1.7}.home-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.hero-section-v2[_ngcontent-%COMP%]{position:relative;min-height:70vh;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color);padding:40px var(--container-padding)}.hero-section-v2[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00285099}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:700px}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:15px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:30px;line-height:1.6}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}@media (min-width: 576px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:12px 25px;font-size:1em}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:var(--light-text-color);color:var(--light-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--primary-color)}.info-blocks-section[_ngcontent-%COMP%]{background-color:#f9f9f9}.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px}@media (min-width: 768px){.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px}}@media (min-width: 992px){.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{gap:30px}}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]{text-align:center;padding:25px 20px;background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000000d;display:flex;flex-direction:column;align-items:center}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   .info-block-icon-container[_ngcontent-%COMP%]{margin-bottom:13px;display:flex;align-items:center;justify-content:center}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   .info-block-icon-container[_ngcontent-%COMP%]   .info-block-icon[_ngcontent-%COMP%]{width:60px;height:60px}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color-1);margin-bottom:15px;line-height:1.3}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:var(--text-color);line-height:1.7}.about-us-section-v2[_ngcontent-%COMP%]{background-color:var(--background-color)}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:25px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:30px}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:400px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{width:40%}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]   .about-us-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;display:block}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]{flex-grow:1}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:left;margin-left:0;margin-right:0;max-width:none}}.authors-section[_ngcontent-%COMP%]{background-color:#f0f8ff}.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 992px){.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center;background-color:var(--background-color);padding:25px;border-radius:var(--border-radius);box-shadow:0 4px 12px #00000014}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{flex-direction:row;text-align:left;align-items:flex-start}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]{flex-shrink:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid var(--primary-color)}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:30px}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7em;color:var(--accent-color-1);margin-bottom:5px;margin-top:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1em;color:var(--secondary-color);margin-bottom:15px;font-weight:600}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.7;color:var(--text-color)}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:15px;margin-bottom:30px}@media (min-width: 768px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]{padding:15px;background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 2px 8px #00000014;margin:5px;text-align:center}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-image-owl[_ngcontent-%COMP%]{width:100%;max-width:280px;height:auto;max-height:180px;object-fit:contain;border-radius:calc(var(--border-radius) - 5px);margin-bottom:10px;display:inline-block}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-caption-owl[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-color);min-height:2.5em;line-height:1.3}"]})};function qq(n,e){if(n&1&&re(0,"app-course-card",6),n&2){let t=e.$implicit;F("course",t)}}function Gq(n,e){if(n&1&&(T(0,"div",4),te(1,qq,1,1,"app-course-card",5),lt(2,"async"),P()),n&2){let t=Q();O(),F("ngForOf",pt(2,1,t.allCourses$))}}function Wq(n,e){n&1&&(T(0,"p",7),N(1,"\u041D\u0430 \u0434\u0430\u043D\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043D\u0435\u043C\u0430\u0454 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),P())}var wg=class n{constructor(e){this.courseService=e;this.allCourses$=this.courseService.getAllCourses()}allCourses$;ngOnInit(){}static \u0275fac=function(t){return new(t||n)(U(Gi))};static \u0275cmp=it({type:n,selectors:[["app-courses"]],decls:7,vars:4,consts:[["noCourses",""],[1,"courses-page","container"],[1,"page-title"],["class","courses-list-grid",4,"ngIf","ngIfElse"],[1,"courses-list-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"]],template:function(t,r){if(t&1&&(T(0,"div",1)(1,"h1",2),N(2,"\u041D\u0430\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),P(),te(3,Gq,3,3,"div",3),lt(4,"async"),te(5,Wq,2,0,"ng-template",null,0,So),P()),t&2){let i,o=bo(6);O(3),F("ngIf",(i=pt(4,2,r.allCourses$))==null?null:i.length)("ngIfElse",o)}},dependencies:[mt,xi,Yt,qr,Ka],styles:[".courses-page[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px}.courses-page[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:15px;color:var(--accent-color-1)}.courses-page[_ngcontent-%COMP%]   .page-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:700px;margin-left:auto;margin-right:auto}.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:25px}@media (min-width: 768px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.courses-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})};var JO=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(U(Qt),U(jt))};static \u0275dir=Qe({type:n})}return n})(),Kq=(()=>{class n extends JO{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Qc(n)))(i||n)}})();static \u0275dir=Qe({type:n,features:[Hr]})}return n})(),ZO=new K("");var Qq={provide:ZO,useExisting:vo(()=>Rg),multi:!0};function Yq(){let n=Mn()?Mn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Jq=new K(""),Rg=(()=>{class n extends JO{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Yq())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(U(Qt),U(jt),U(Jq,8))};static \u0275dir=Qe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&de("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Do([Qq]),Hr]})}return n})();function pI(n){return n==null||gI(n)===0}function gI(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var mI=new K(""),yI=new K(""),Zq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ds=class{static min(e){return Xq(e)}static max(e){return e9(e)}static required(e){return t9(e)}static requiredTrue(e){return n9(e)}static email(e){return r9(e)}static minLength(e){return i9(e)}static maxLength(e){return o9(e)}static pattern(e){return s9(e)}static nullValidator(e){return XO()}static compose(e){return oN(e)}static composeAsync(e){return sN(e)}};function Xq(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function e9(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function t9(n){return pI(n.value)?{required:!0}:null}function n9(n){return n.value===!0?null:{required:!0}}function r9(n){return pI(n.value)||Zq.test(n.value)?null:{email:!0}}function i9(n){return e=>{let t=e.value?.length??gI(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function o9(n){return e=>{let t=e.value?.length??gI(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function s9(n){if(!n)return XO;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(pI(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function XO(n){return null}function eN(n){return n!=null}function tN(n){return Ti(n)?Ve(n):n}function nN(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function rN(n,e){return e.map(t=>t(n))}function a9(n){return!n.validate}function iN(n){return n.map(e=>a9(e)?e:t=>e.validate(t))}function oN(n){if(!n)return null;let e=n.filter(eN);return e.length==0?null:function(t){return nN(rN(t,e))}}function vI(n){return n!=null?oN(iN(n)):null}function sN(n){if(!n)return null;let e=n.filter(eN);return e.length==0?null:function(t){let r=rN(t,e).map(tN);return ly(r).pipe(ee(nN))}}function _I(n){return n!=null?sN(iN(n)):null}function zO(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function aN(n){return n._rawValidators}function cN(n){return n._rawAsyncValidators}function lI(n){return n?Array.isArray(n)?n:[n]:[]}function bg(n,e){return Array.isArray(n)?n.includes(e):n===e}function qO(n,e){let t=lI(e);return lI(n).forEach(i=>{bg(t,i)||t.push(i)}),t}function GO(n,e){return lI(e).filter(t=>!bg(n,t))}var Dg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_I(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Wi=class extends Dg{name;get formDirective(){return null}get path(){return null}},Al=class extends Dg{_parent=null;name=null;valueAccessor=null},Tg=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},c9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Wue=le(j({},c9),{"[class.ng-submitted]":"isSubmitted"}),uN=(()=>{class n extends Tg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(Al,2))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Si("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Hr]})}return n})(),lN=(()=>{class n extends Tg{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(U(Wi,10))};static \u0275dir=Qe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Si("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Hr]})}return n})();var Il="VALID",Cg="INVALID",Ja="PENDING",bl="DISABLED",Ki=class{},Sg=class extends Ki{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Tl=class extends Ki{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Sl=class extends Ki{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Za=class extends Ki{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ag=class extends Ki{source;constructor(e){super(),this.source=e}},Mg=class extends Ki{source;constructor(e){super(),this.source=e}};function EI(n){return(Og(n)?n.validators:n)||null}function u9(n){return Array.isArray(n)?vI(n):n||null}function wI(n,e){return(Og(e)?e.asyncValidators:n)||null}function l9(n){return Array.isArray(n)?_I(n):n||null}function Og(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function dN(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function hN(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Xa=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vn(this.statusReactive)}set status(e){vn(()=>this.statusReactive.set(e))}_status=Ao(()=>this.statusReactive());statusReactive=Co(void 0);get valid(){return this.status===Il}get invalid(){return this.status===Cg}get pending(){return this.status==Ja}get disabled(){return this.status===bl}get enabled(){return this.status!==bl}errors;get pristine(){return vn(this.pristineReactive)}set pristine(e){vn(()=>this.pristineReactive.set(e))}_pristine=Ao(()=>this.pristineReactive());pristineReactive=Co(!0);get dirty(){return!this.pristine}get touched(){return vn(this.touchedReactive)}set touched(e){vn(()=>this.touchedReactive.set(e))}_touched=Ao(()=>this.touchedReactive());touchedReactive=Co(!1);get untouched(){return!this.touched}_events=new De;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GO(e,this._rawAsyncValidators))}hasValidator(e){return bg(this._rawValidators,e)}hasAsyncValidator(e){return bg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Sl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Sl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Tl(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Tl(!0,r))}markAsPending(e={}){this.status=Ja;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Za(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bl,this.errors=null,this._forEachChild(i=>{i.disable(le(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sg(this.value,r)),this._events.next(new Za(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(r=>{r.enable(le(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===Ja)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Sg(this.value,t)),this._events.next(new Za(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bl:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ja,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=tN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Za(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?bl:this.errors?Cg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ja)?Ja:this._anyControlsHaveStatus(Cg)?Cg:Il}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Tl(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Sl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Og(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=u9(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l9(this._rawAsyncValidators)}},ec=class extends Xa{constructor(e,t,r){super(EI(t),wI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){hN(this,!0,e),Object.keys(e).forEach(r=>{dN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dI=class extends ec{};var Ng=new K("",{providedIn:"root",factory:()=>kg}),kg="always";function d9(n,e){return[...e.path,n]}function hI(n,e,t=kg){CI(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),f9(n,e),g9(n,e),p9(n,e),h9(n,e)}function WO(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),xg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Pg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function h9(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function CI(n,e){let t=aN(n);e.validator!==null?n.setValidators(zO(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=cN(n);e.asyncValidator!==null?n.setAsyncValidators(zO(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Pg(e._rawValidators,i),Pg(e._rawAsyncValidators,i)}function xg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=aN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=cN(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Pg(e._rawValidators,r),Pg(e._rawAsyncValidators,r),t}function f9(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&fN(n,e)})}function p9(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&fN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function fN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function g9(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function pN(n,e){n==null,CI(n,e)}function m9(n,e){return xg(n,e)}function y9(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function v9(n){return Object.getPrototypeOf(n.constructor)===Kq}function gN(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _9(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Rg?t=o:v9(o)?r=o:i=o}),i||r||t||null}function E9(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var w9={provide:Wi,useExisting:vo(()=>II)},Dl=Promise.resolve(),II=(()=>{class n extends Wi{callSetDisabledState;get submitted(){return vn(this.submittedReactive)}_submitted=Ao(()=>this.submittedReactive());submittedReactive=Co(!1);_directives=new Set;form;ngSubmit=new je;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new ec({},vI(t),_I(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Dl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hI(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Dl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Dl.then(()=>{let r=this._findContainer(t.path),i=new ec({});pN(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Dl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Dl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),gN(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ag(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Mg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(U(mI,10),U(yI,10),U(Ng,8))};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Do([w9]),Hr]})}return n})();function KO(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function QO(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ig=class extends Xa{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(EI(t),wI(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Og(t)&&(t.nonNullable||t.initialValueIsDefault)&&(QO(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KO(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KO(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QO(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var C9=n=>n instanceof Ig;var mN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Qe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var yN=new K("");var I9={provide:Wi,useExisting:vo(()=>bI)},bI=(()=>{class n extends Wi{callSetDisabledState;get submitted(){return vn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Ao(()=>this._submittedReactive());_submittedReactive=Co(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new je;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return hI(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){WO(t.control||null,t,!1),E9(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),gN(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ag(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Mg(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(WO(r||null,t),C9(i)&&(hI(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);pN(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&m9(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CI(this.form,this),this._oldForm&&xg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(U(mI,10),U(yI,10),U(Ng,8))};static \u0275dir=Qe({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&de("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Do([I9]),Hr,An]})}return n})();var b9={provide:Al,useExisting:vo(()=>DI)},DI=(()=>{class n extends Al{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new je;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_9(this,o)}ngOnChanges(t){this._added||this._setUpControl(),y9(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return d9(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(U(Wi,13),U(mI,10),U(yI,10),U(ZO,10),U(yN,8))};static \u0275dir=Qe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Do([b9]),Hr,An]})}return n})();var vN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({})}return n})(),fI=class extends Xa{constructor(e,t,r){super(EI(t),wI(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){hN(this,!1,e),e.forEach((r,i)=>{dN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function YO(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var _N=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return YO(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ec(i,o)}record(t,r=null){let i=this._reduceControls(t);return new dI(i,r)}control(t,r,i){let o={};return this.useNonNullable?(YO(r)?o=r:(o.validators=r,o.asyncValidators=i),new Ig(t,le(j({},o),{nonNullable:!0}))):new Ig(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new fI(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ig)return t;if(t instanceof Xa)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var EN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ng,useValue:t.callSetDisabledState??kg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({imports:[vN]})}return n})(),wN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yN,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ng,useValue:t.callSetDisabledState??kg}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=yn({type:n});static \u0275inj=gn({imports:[vN]})}return n})();var Fg={production:!0,firebase:{apiKey:"AIzaSyBwZ0wRhfkqG_4RFQ8Jik_3Xhg2kkU9Plc",authDomain:"mothers-courses-app-firebase.firebaseapp.com",projectId:"mothers-courses-app-firebase",storageBucket:"mothers-courses-app-firebase.firebasestorage.app",messagingSenderId:"661609967753",appId:"1:661609967753:web:2dfd8ee23bdd3f52841658",measurementId:"G-VBHGVQMGB4"},paymentFunctionUrl:"https://us-central1-mothers-courses-app-firebase.cloudfunctions.net/createLiqpayData"};var Lg=class n{constructor(e){this.http=e}functionUrl=Fg.paymentFunctionUrl;createLiqpayData(e){return this.http.post(this.functionUrl,{course:e})}static \u0275fac=function(t){return new(t||n)(W(df))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var tc=class n{constructor(e){this.firestore=e}ordersCollectionPath="orders";createOrder(e){return x(this,null,function*(){try{let t=le(j({},e),{paymentTimestamp:bO()}),r=si(this.firestore,this.ordersCollectionPath);return(yield xO(r,t)).id}catch(t){throw console.error("Error creating order: ",t),t}})}getOrderByLiqPayOrderId(e){let t=si(this.firestore,this.ordersCollectionPath),r=cs(t,El("liqpayOrderId","==",e),_l(1));return zi(r,{idField:"id"}).pipe(ee(i=>i.length>0?i[0]:null))}static \u0275fac=function(t){return new(t||n)(W(Xt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var S9=["liqpayForm"];function A9(n,e){if(n&1&&(T(0,"p"),N(1,"\u041A\u0443\u0440\u0441: "),T(2,"strong"),N(3),P()()),n&2){let t=Q(2);O(3),$e(t.courseToBuy.title)}}function M9(n,e){if(n&1&&(T(0,"p"),N(1,"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044C: "),T(2,"strong"),N(3),lt(4,"currency"),P()()),n&2){let t=Q(2);O(3),$e(oM(4,1,t.courseToBuy.price,"UAH","symbol","1.2-2"))}}function P9(n,e){n&1&&(T(0,"span"),N(1,"Email \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0438\u0439."),P())}function x9(n,e){n&1&&(T(0,"span"),N(1,"\u041D\u0435\u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 Email(\u043D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434: test@gmail.com)"),P())}function R9(n,e){if(n&1&&(T(0,"div",15),te(1,P9,2,0,"span",5)(2,x9,2,0,"span",5),P()),n&2){let t=Q(2);O(),F("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.required),O(),F("ngIf",t.email==null||t.email.errors==null?null:t.email.errors.pattern)}}function O9(n,e){n&1&&(T(0,"span"),N(1,"\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443 \u043E\u0431\u043E\u0432'\u044F\u0437\u043A\u043E\u0432\u0438\u0439."),P())}function N9(n,e){n&1&&(T(0,"span"),N(1,"\u041D\u0435\u0432\u0456\u0440\u043D\u0438\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u043D\u043E\u043C\u0435\u0440\u0430 (\u043D\u0430\u043F\u0440\u0438\u043A\u043B\u0430\u0434: +380991234567)"),P())}function k9(n,e){if(n&1&&(T(0,"div",15),te(1,O9,2,0,"span",5)(2,N9,2,0,"span",5),P()),n&2){let t=Q(2);O(),F("ngIf",t.phoneNumber==null||t.phoneNumber.errors==null?null:t.phoneNumber.errors.required),O(),F("ngIf",t.phoneNumber==null||t.phoneNumber.errors==null?null:t.phoneNumber.errors.pattern)}}function F9(n,e){n&1&&(T(0,"span"),N(1,"\u041E\u043F\u043B\u0430\u0442\u0438\u0442\u0438 \u0447\u0435\u0440\u0435\u0437 LiqPay"),P())}function L9(n,e){n&1&&(T(0,"span"),N(1,"\u041F\u0435\u0440\u0435\u0445\u043E\u0434\u0438\u043C\u043E \u0434\u043E \u043E\u043F\u043B\u0430\u0442\u0438..."),P())}function V9(n,e){if(n&1){let t=tt();T(0,"div",2),de("click",function(){xe(t);let i=Q();return Re(i.closeModal())}),T(1,"div",3),de("click",function(i){return xe(t),Re(i.stopPropagation())}),T(2,"button",4),de("click",function(){xe(t);let i=Q();return Re(i.closeModal())}),N(3,"\xD7"),P(),T(4,"h2"),N(5,"\u041E\u0444\u043E\u0440\u043C\u043B\u0435\u043D\u043D\u044F \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F"),P(),te(6,A9,4,1,"p",5)(7,M9,5,6,"p",5),T(8,"form",6),de("ngSubmit",function(){xe(t);let i=Q();return Re(i.proceedToPayment())}),T(9,"div",7)(10,"label",8),N(11,"\u0412\u0430\u0448 Email"),P(),re(12,"input",9),te(13,R9,3,2,"div",10),P(),T(14,"div",7)(15,"label",11),N(16,"\u041D\u043E\u043C\u0435\u0440 \u0442\u0435\u043B\u0435\u0444\u043E\u043D\u0443"),P(),re(17,"input",12),te(18,k9,3,2,"div",10),P(),T(19,"button",13),te(20,F9,2,0,"span",5)(21,L9,2,0,"span",5),P()(),re(22,"form",14,0),P()()}if(n&2){let t=Q();O(6),F("ngIf",t.courseToBuy),O(),F("ngIf",t.courseToBuy),O(),F("formGroup",t.paymentForm),O(5),F("ngIf",(t.email==null?null:t.email.invalid)&&((t.email==null?null:t.email.dirty)||(t.email==null?null:t.email.touched))),O(5),F("ngIf",(t.phoneNumber==null?null:t.phoneNumber.invalid)&&((t.phoneNumber==null?null:t.phoneNumber.dirty)||(t.phoneNumber==null?null:t.phoneNumber.touched))),O(),F("disabled",t.paymentForm.invalid||t.isProcessingPayment),O(),F("ngIf",!t.isProcessingPayment),O(),F("ngIf",t.isProcessingPayment)}}var Vg=class n{constructor(e,t,r,i){this.fb=e;this.paymentService=t;this.orderService=r;this.renderer=i;this.paymentForm=this.fb.group({email:["",[ds.required,ds.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],phoneNumber:["",[ds.required,ds.pattern(/^\+?3?8?(0\d{9})$/)]]})}courseToBuy;isVisible=!1;closeModalEvent=new je;paymentForm;isProcessingPayment=!1;liqpayFormRef;ngOnInit(){}get email(){return this.paymentForm.get("email")}get phoneNumber(){return this.paymentForm.get("phoneNumber")}closeModal(){this.isProcessingPayment||(this.isVisible=!1,this.paymentForm.reset(),this.closeModalEvent.emit())}proceedToPayment(){if(this.paymentForm.invalid||!this.courseToBuy){this.paymentForm.markAllAsTouched();return}this.isProcessingPayment=!0,this.paymentService.createLiqpayData({id:this.courseToBuy.id,title:this.courseToBuy.title,price:this.courseToBuy.price}).subscribe({next:e=>{this.createPendingOrderAndRedirect(e.data,e.signature,e.generated_order_id)},error:e=>{this.isProcessingPayment=!1,console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043D\u0456 \u0434\u0430\u043D\u0438\u0445 LiqPay:",e),alert("\u041D\u0435 \u0432\u0434\u0430\u043B\u043E\u0441\u044F \u043F\u0456\u0434\u0433\u043E\u0442\u0443\u0432\u0430\u0442\u0438 \u0434\u0430\u043D\u0456 \u0434\u043B\u044F \u043E\u043F\u043B\u0430\u0442\u0438. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435.")}})}createPendingOrderAndRedirect(e,t,r){return x(this,null,function*(){if(this.courseToBuy&&this.courseToBuy.id&&this.paymentForm.valid){let i={email:this.paymentForm.value.email,phoneNumber:this.paymentForm.value.phoneNumber,courseId:this.courseToBuy.id,courseTitle:this.courseToBuy.title,pricePaid:this.courseToBuy.price,paymentStatus:"pending_redirect",liqpayOrderId:r};try{yield this.orderService.createOrder(i),this.redirectToLiqpay(e,t)}catch(o){console.error("\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0441\u0442\u0432\u043E\u0440\u0435\u043D\u043D\u044F \u043F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u044C\u043E\u0433\u043E \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043D\u044F:",o),alert("\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430. \u0421\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437."),this.isProcessingPayment=!1}}else this.isProcessingPayment=!1})}redirectToLiqpay(e,t){let r=this.liqpayFormRef.nativeElement;for(r.action="https://www.liqpay.ua/api/3/checkout";r.firstChild;)r.removeChild(r.firstChild);let i=this.renderer.createElement("input");this.renderer.setAttribute(i,"type","hidden"),this.renderer.setAttribute(i,"name","data"),this.renderer.setAttribute(i,"value",e),this.renderer.appendChild(r,i);let o=this.renderer.createElement("input");this.renderer.setAttribute(o,"type","hidden"),this.renderer.setAttribute(o,"name","signature"),this.renderer.setAttribute(o,"value",t),this.renderer.appendChild(r,o),r.submit()}static \u0275fac=function(t){return new(t||n)(U(_N),U(Lg),U(tc),U(Qt))};static \u0275cmp=it({type:n,selectors:[["app-payment-modal"]],viewQuery:function(t,r){if(t&1&&qh(S9,5),t&2){let i;Ai(i=Mi())&&(r.liqpayFormRef=i.first)}},inputs:{courseToBuy:"courseToBuy",isVisible:"isVisible"},outputs:{closeModalEvent:"closeModalEvent"},decls:1,vars:1,consts:[["liqpayForm",""],["class","modal-overlay",3,"click",4,"ngIf"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["aria-label","\u0417\u0430\u043A\u0440\u0438\u0442\u0438",1,"close-button",3,"click"],[4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","text","id","email","formControlName","email","placeholder","test@gmail.com"],["class","error-message",4,"ngIf"],["for","phoneNumber"],["type","tel","id","phoneNumber","formControlName","phoneNumber","placeholder","+380XXXXXXXXX"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled"],["method","POST","action","https://www.liqpay.ua/api/3/checkout","acceptCharset","utf-8",2,"display","none"],[1,"error-message"]],template:function(t,r){t&1&&te(0,V9,24,8,"div",1),t&2&&F("ngIf",r.isVisible)},dependencies:[mt,Yt,Xv,EN,mN,Rg,uN,lN,II,wN,bI,DI],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QIFqPfE.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4SYFqPfE.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4ToFqPfE.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QoFqPfE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4Q4FqPfE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4TYFq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #7ba8d1;--primary-color-lighter-15: #bde0f1;--secondary-color: #edbb48;--secondary-color-darker: #d68a18;--secondary-text-color: #ffffff;--accent-color-1: #264b70;--accent-color-1-lighter: #004080;--accent-text-color-1: #ffffff;--background-color: #ffffff;--text-color: #333333;--light-text-color: #ffffff;--container-padding: 15px;--border-radius: 8px}body[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:var(--background-color);color:var(--text-color);line-height:1.6}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0}a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 var(--container-padding)}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;cursor:pointer;transition:background-color .3s ease,color .3s ease;border:none;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker);color:var(--secondary-text-color);text-decoration:none}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter);color:var(--accent-text-color-1);text-decoration:none}.btn-outline-light[_ngcontent-%COMP%]{background-color:transparent;color:var(--light-text-color);border:2px solid var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--accent-color-1);text-decoration:none}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--light-text-color);text-decoration:none}@media (max-width: 767px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.visible-mobile[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block!important}}.card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-bottom:20px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1050;opacity:1;transition:opacity .3s ease,visibility 0s linear .3s}.modal-content[_ngcontent-%COMP%]{background-color:var(--background-color);padding:25px 30px;border-radius:var(--border-radius);box-shadow:0 5px 15px #0000004d;width:90%;max-width:500px;position:relative;max-height:90vh;overflow-y:auto}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0;margin-bottom:20px;text-align:center}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;line-height:1.6}.modal-content[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:2rem;color:#aaa;cursor:pointer;line-height:1;padding:0}.modal-content[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]:hover{color:var(--text-color)}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:var(--text-color)}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .tooltip-trigger[_ngcontent-%COMP%]{margin-left:5px;color:var(--primary-color);cursor:help}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .tooltip-trigger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9em}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:var(--border-radius);box-sizing:border-box;font-size:1em}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=tel][_ngcontent-%COMP%]:focus{border-color:var(--primary-color);outline:none;box-shadow:0 0 0 2px rgba(var(--primary-color-rgb),.2)}.modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85em;margin-top:5px}.modal-content[_ngcontent-%COMP%]   .tooltip-container[_ngcontent-%COMP%]{position:absolute;background-color:#333;color:#fff;padding:10px;border-radius:var(--border-radius);font-size:.85em;z-index:10;box-shadow:0 2px 5px #0003;width:auto;max-width:280px}.modal-content[_ngcontent-%COMP%]   .tooltip-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:5px;line-height:1.4}.modal-content[_ngcontent-%COMP%]   .tooltip-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-content[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:1.1em}.modal-content[_ngcontent-%COMP%]   .payment-result[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.modal-content[_ngcontent-%COMP%]   .payment-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;font-size:1.5em}.modal-content[_ngcontent-%COMP%]   .payment-result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   .payment-result[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{font-size:3em;margin-bottom:15px}.modal-content[_ngcontent-%COMP%]   .payment-result.success[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#2ecc71}.modal-content[_ngcontent-%COMP%]   .payment-result.failure[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{color:#e74c3c}.modal-content[_ngcontent-%COMP%]   .payment-result[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin:5px}@media (max-width: 576px){.modal-content[_ngcontent-%COMP%]{padding:20px 15px}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em}}']})};var U9=["priceActionBar"];function B9(n,e){if(n&1&&(T(0,"p",25),N(1),P()),n&2){let t=Q().ngIf;O(),$e(t.tagline)}}function j9(n,e){if(n&1&&(re(0,"div",26),lt(1,"replaceLineBreaks")),n&2){let t=Q().ngIf;F("innerHTML",pt(1,1,t.longDescription),mn)}}function $9(n,e){if(n&1&&(T(0,"h3",33),N(1),P()),n&2){let t=Q(2).ngIf;O(),$e(t.additionalImage.caption)}}function H9(n,e){if(n&1&&(T(0,"section",27)(1,"div",28),re(2,"img",29),te(3,$9,2,1,"h3",30),P(),T(4,"div",31)(5,"h3",32),N(6),P(),re(7,"div",17),lt(8,"replaceLineBreaks"),P()()),n&2){let t=Q().ngIf;O(2),F("src",t.additionalImage.imageUrl,bt)("alt",t.additionalImage.caption||t.title),O(),F("ngIf",t.additionalImage.caption),O(3),$e(t.additionalImage.descriptionTag),O(),F("innerHTML",pt(8,5,t.additionalImage.descriptionText),mn)}}function z9(n,e){if(n&1&&(T(0,"h3"),N(1),P()),n&2){let t=Q().$implicit;O(),$e(t.title)}}function q9(n,e){if(n&1&&(T(0,"div",37)(1,"div",38),re(2,"img",39),P(),T(3,"div",40),te(4,z9,2,1,"h3",41),re(5,"p",17),lt(6,"replaceLineBreaks"),P()()),n&2){let t=e.$implicit;O(2),F("src",t.imageUrl,bt)("alt",t.title||"\u0414\u0435\u0442\u0430\u043B\u044C \u043A\u0443\u0440\u0441\u0443"),O(2),F("ngIf",t.title),O(),F("innerHTML",pt(6,4,t.text),mn)}}function G9(n,e){if(n&1&&(T(0,"section",34)(1,"h2",35),N(2,"\u041A\u0443\u0440\u0441 \u043F\u0456\u0434\u0445\u043E\u0434\u0438\u0442\u044C \u0434\u043B\u044F \u0431\u0430\u0442\u044C\u043A\u0456\u0432 \u044F\u043A\u0456:"),P(),te(3,q9,7,6,"div",36),P()),n&2){let t=Q().ngIf;O(3),F("ngForOf",t.detailBlocks)}}function W9(n,e){if(n&1&&re(0,"img",44),n&2){let t=Q(2).ngIf;F("src",t.targetAudience.iconBefore,bt)}}function K9(n,e){if(n&1&&(T(0,"div",42),te(1,W9,1,1,"img",43),re(2,"div",17),lt(3,"replaceLineBreaks"),P()),n&2){let t=Q().ngIf;O(),F("ngIf",t.targetAudience.iconBefore),O(),F("innerHTML",pt(3,2,t.targetAudience.text),mn)}}function Q9(n,e){if(n&1&&(T(0,"div",49),re(1,"img",50),P()),n&2){let t=Q(2).ngIf;O(),F("src",t.learningOutcomesIconUrl,bt)}}function Y9(n,e){if(n&1&&(T(0,"li"),N(1),P()),n&2){let t=e.$implicit;O(),$e(t)}}function J9(n,e){if(n&1&&(T(0,"div",45),te(1,Q9,2,1,"div",46),T(2,"h2"),N(3,"\u0417\u0430\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F \u0442\u0430 \u043F\u0440\u043E\u0442\u0438\u043F\u043E\u043A\u0430\u0437\u0430\u043D\u043D\u044F \u0434\u043E \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F \u0432\u043F\u0440\u0430\u0432:"),P(),T(4,"ul",47),te(5,Y9,2,1,"li",48),P()()),n&2){let t=Q().ngIf;O(),F("ngIf",t.learningOutcomesIconUrl),O(4),F("ngForOf",t.learningOutcomes)}}function Z9(n,e){if(n&1){let t=tt();T(0,"div",4)(1,"section",5),re(2,"div",6),T(3,"div",7)(4,"h1"),N(5),P(),te(6,B9,2,1,"p",8),P()(),T(7,"div",9)(8,"aside",10)(9,"div",11,1)(11,"div",12)(12,"span",13),N(13),P()(),T(14,"button",14),de("click",function(){xe(t);let i=Q();return Re(i.openPaymentModal())}),N(15,"\u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441"),P()()(),T(16,"div",15)(17,"section",16)(18,"h2"),N(19,"\u041F\u0440\u043E \u043A\u0443\u0440\u0441"),P(),re(20,"div",17),lt(21,"replaceLineBreaks"),te(22,j9,2,3,"div",18),P(),T(23,"section",19)(24,"p")(25,"strong"),N(26,"\u0421\u0442\u0430\u0440\u0442 \u043E\u0434\u0440\u0430\u0437\u0443 \u043F\u0456\u0441\u043B\u044F \u043E\u043F\u043B\u0430\u0442\u0438"),P()()(),te(27,H9,9,7,"section",20)(28,G9,4,1,"section",21),T(29,"section",22),te(30,K9,4,4,"div",23)(31,J9,6,2,"div",24),P()()()()}if(n&2){let t=e.ngIf;O(),eu("background-image","url("+t.imageUrl+")"),O(4),$e(t.title),O(),F("ngIf",t.tagline),O(7),Gn("",t.price.toFixed(2),"\u20B4"),O(7),F("innerHTML",pt(21,11,t.description),mn),O(2),F("ngIf",t.longDescription),O(5),F("ngIf",t.additionalImage),O(),F("ngIf",t.detailBlocks&&t.detailBlocks.length>0),O(2),F("ngIf",t.targetAudience),O(),F("ngIf",t.learningOutcomes&&t.learningOutcomes.length>0)}}function X9(n,e){n&1&&(T(0,"div",51)(1,"p"),N(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0434\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0443 \u0430\u0431\u043E \u043A\u0443\u0440\u0441 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E..."),P(),T(3,"a",52),N(4,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u0434\u043E \u043A\u0443\u0440\u0441\u0456\u0432"),P()())}var Ug=class n{constructor(e,t,r,i,o,s){this.route=e;this.router=t;this.courseService=r;this.platformId=i;this.renderer=o;this.siteSettingsService=s;this.telegramLink$=this.siteSettingsService.globalTelegramLink$||"",this.telegramLink$.subscribe(a=>this.actualTelegramLink=a||""),this.isBrowser=Wn(this.platformId),this.course$=this.route.paramMap.pipe(rt(a=>{let c=a.get("courseSlug");return c?this.courseService.getCourseBySlug(c):(this.isBrowser&&this.router.navigate(["/courses"]),ne(void 0))}),ue(a=>{!a&&this.isBrowser&&console.warn("Course not found by slug from observable, consider redirecting..."),this.currentCourse=a}))}course$;isBrowser;telegramLink$;currentCourse;actualTelegramLink="";showPaymentModal=!1;priceActionBarRef;ngAfterViewInit(){this.isBrowser&&(this.adjustBodyPadding(),window.addEventListener("resize",this.adjustBodyPadding))}ngOnDestroy(){this.isBrowser&&(this.renderer.setStyle(document.body,"paddingBottom","0px"),window.removeEventListener("resize",this.adjustBodyPadding))}adjustBodyPadding=()=>{if(this.priceActionBarRef&&this.priceActionBarRef.nativeElement){let e=this.priceActionBarRef.nativeElement.offsetHeight;window.innerWidth<992?this.renderer.setStyle(document.body,"paddingBottom",`${e}px`):this.renderer.setStyle(document.body,"paddingBottom","0px")}};openPaymentModal(){console.log(this.currentCourse),this.currentCourse?this.showPaymentModal=!0:alert("\u0406\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044F \u043F\u0440\u043E \u043A\u0443\u0440\u0441 \u043D\u0435 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u0430.")}handleCloseModal(){this.showPaymentModal=!1}handlePaymentSuccess(e){console.log("\u041F\u043B\u0430\u0442\u0456\u0436 \u0443\u0441\u043F\u0456\u0448\u043D\u0438\u0439 \u043D\u0430 \u0441\u0442\u043E\u0440\u0456\u043D\u0446\u0456 \u0434\u0435\u0442\u0430\u043B\u0435\u0439 \u043A\u0443\u0440\u0441\u0443!",e),this.showPaymentModal=!1,alert(`\u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0443 \u043A\u0443\u0440\u0441\u0443 "${this.currentCourse?.title}"! \u0414\u043E\u0441\u0442\u0443\u043F \u0431\u0443\u0434\u0435 \u043D\u0430\u0434\u0430\u043D\u043E \u043D\u0435\u0437\u0430\u0431\u0430\u0440\u043E\u043C.`)}static \u0275fac=function(t){return new(t||n)(U(Jt),U(an),U(Gi),U(Nt),U(Qt),U(qi))};static \u0275cmp=it({type:n,selectors:[["app-course-detail"]],viewQuery:function(t,r){if(t&1&&qh(U9,5),t&2){let i;Ai(i=Mi())&&(r.priceActionBarRef=i.first)}},decls:5,vars:6,consts:[["loadingOrError",""],["priceActionBar",""],["class","course-detail-page",4,"ngIf","ngIfElse"],[3,"closeModalEvent","paymentSuccessfulEvent","isVisible","courseToBuy"],[1,"course-detail-page"],[1,"course-hero-section"],[1,"hero-overlay"],[1,"container","hero-content"],["class","tagline",4,"ngIf"],[1,"course-content-wrapper","container"],[1,"sidebar-content"],[1,"price-action-bar"],[1,"price"],[1,"current-price"],[1,"btn","btn-primary","btn-buy",3,"click"],[1,"main-content"],[1,"course-section","description-section"],[3,"innerHTML"],["class","long-description",3,"innerHTML",4,"ngIf"],[1,"course-section","start-info-section"],["class","course-section additional-image-section",4,"ngIf"],["class","course-section detail-blocks-section",4,"ngIf"],[1,"course-section","text-blocks-section"],["class","target-audience-content",4,"ngIf"],["class","text-block",4,"ngIf"],[1,"tagline"],[1,"long-description",3,"innerHTML"],[1,"course-section","additional-image-section"],[1,"additional-image-container"],[1,"additional-image",3,"src","alt"],["class","caption",4,"ngIf"],[1,"additional-image-description"],[1,"additional-image-description-tag"],[1,"caption"],[1,"course-section","detail-blocks-section"],[1,"detail-blocks-section-title"],["class","detail-block-item",4,"ngFor","ngForOf"],[1,"detail-block-item"],[1,"detail-block-image-container"],[1,"detail-block-image",3,"src","alt"],[1,"detail-block-text-container"],[4,"ngIf"],[1,"target-audience-content"],["alt","\u0406\u043A\u043E\u043D\u043A\u0430","class","target-audience-icon icon-img icon-before",3,"src",4,"ngIf"],["alt","\u0406\u043A\u043E\u043D\u043A\u0430",1,"target-audience-icon","icon-img","icon-before",3,"src"],[1,"text-block"],["class","icon-container",4,"ngIf"],[1,"custom-list-icons"],[4,"ngFor","ngForOf"],[1,"icon-container"],["alt","\u0406\u043A\u043E\u043D\u043A\u0430 \u0417\u0430\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043D\u044C",1,"icon-img","info-icon",3,"src"],[1,"container","text-center",2,"padding","50px 0"],["routerLink","/courses",1,"btn","btn-secondary"]],template:function(t,r){if(t&1){let i=tt();te(0,Z9,32,13,"div",2),lt(1,"async"),T(2,"app-payment-modal",3),de("closeModalEvent",function(){return xe(i),Re(r.handleCloseModal())})("paymentSuccessfulEvent",function(s){return xe(i),Re(r.handlePaymentSuccess(s))}),P(),te(3,X9,5,0,"ng-template",null,0,So)}if(t&2){let i=bo(4);F("ngIf",pt(1,4,r.course$))("ngIfElse",i),O(2),F("isVisible",r.showPaymentModal)("courseToBuy",r.currentCourse)}},dependencies:[mt,xi,Yt,qr,Pn,Ya,Vg],styles:['@charset "UTF-8";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QIFqPfE.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4SYFqPfE.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4ToFqPfE.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QoFqPfE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4Q4FqPfE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4TYFq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #7ba8d1;--primary-color-lighter-15: #bde0f1;--secondary-color: #edbb48;--secondary-color-darker: #d68a18;--secondary-text-color: #ffffff;--accent-color-1: #264b70;--accent-color-1-lighter: #004080;--accent-text-color-1: #ffffff;--background-color: #ffffff;--text-color: #333333;--light-text-color: #ffffff;--container-padding: 15px;--border-radius: 8px}body[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:var(--background-color);color:var(--text-color);line-height:1.6}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0}a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 var(--container-padding)}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;cursor:pointer;transition:background-color .3s ease,color .3s ease;border:none;text-align:center}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker);color:var(--secondary-text-color);text-decoration:none}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter);color:var(--accent-text-color-1);text-decoration:none}.btn-outline-light[_ngcontent-%COMP%]{background-color:transparent;color:var(--light-text-color);border:2px solid var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--accent-color-1);text-decoration:none}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--light-text-color);text-decoration:none}@media (max-width: 767px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.visible-mobile[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block!important}}.card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-bottom:20px}@media (min-width: 992px){.course-detail-page[_ngcontent-%COMP%]{margin:0 auto;width:70%}}.course-hero-section[_ngcontent-%COMP%]{position:relative;height:50vh;min-height:280px;max-height:400px;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color)}.course-hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#001e3ca6}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:10px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.1em;font-weight:300;max-width:600px;margin:0 auto;text-shadow:1px 1px 2px rgba(0,0,0,.4)}.course-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding-bottom:10px;position:relative}@media (min-width: 992px){.course-content-wrapper[_ngcontent-%COMP%]{flex-direction:row;padding-top:30px;gap:30px}.course-content-wrapper[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2;min-width:0;order:1}.course-content-wrapper[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{flex:1;max-width:360px;min-width:0;order:2}}.sticky-price-bar-placeholder[_ngcontent-%COMP%]{height:120px;display:none}.price-action-bar[_ngcontent-%COMP%]{background-color:var(--background-color);padding:15px;text-align:center;width:100%;box-sizing:border-box;transition:box-shadow .3s ease-in-out,background-color .3s ease-in-out;z-index:990}@media (max-width: 991px){.price-action-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;border-radius:0;border-top:1px solid #eee;box-shadow:0 -2px 8px #0000001a;background-color:rgba(var(--rgb-background-color, 255, 255, 255),.97);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:999}}@media (min-width: 992px){.price-action-bar[_ngcontent-%COMP%]{position:sticky;top:calc(var(--header-height, 65px) + 20px);bottom:auto;border-radius:var(--border-radius);box-shadow:0 2px 10px #0000001a;padding:20px;background-color:var(--background-color);-webkit-backdrop-filter:none;backdrop-filter:none;border-top:none}}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--accent-color-1)}.price-action-bar[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1em;margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .duration-info[_ngcontent-%COMP%]{font-size:.85em;color:#555}.course-section[_ngcontent-%COMP%]{margin-bottom:30px}.course-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6em;color:var(--accent-color-1);width:100%;text-align:center;margin-bottom:15px;padding-bottom:8px;border-bottom:2px solid var(--primary-color);display:inline-block}.course-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:1.7;color:var(--text-color);font-size:.95em}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;padding-left:20px}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:7px}.start-info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05em;color:var(--accent-color-1);background-color:var(--primary-color-lighter-15);padding:12px;border-radius:var(--border-radius);text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .additional-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 10px #00000014}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.85em;color:#777;margin-top:8px;font-style:italic}.detail-blocks-section[_ngcontent-%COMP%]   detail-blocks-section-title[_ngcontent-%COMP%]{margin:0 auto}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:25px;padding:15px;background-color:#f9f9f9;border-radius:var(--border-radius)}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{flex-shrink:0}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]   img.detail-block-image[_ngcontent-%COMP%]{width:100%;max-width:180px;height:auto;border-radius:var(--border-radius);display:block;margin:0 auto}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{width:180px;margin:0 15px 0 0}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]{color:var(--text-color);flex-grow:1}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:var(--accent-color-1);margin-top:0;margin-bottom:8px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{margin-bottom:25px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{display:flex;align-items:center}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;color:var(--accent-color-1);margin-bottom:12px}.target-audience-content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;gap:15px;margin:4rem 0;background-color:var(--primary-color-lighter-15);padding:25px 30px;border-radius:var(--border-radius);box-shadow:0 4px 12px #00000014}.target-audience-content[_ngcontent-%COMP%]   .target-audience-text[_ngcontent-%COMP%]{flex-grow:1;line-height:1.7;color:var(--text-color);font-size:.95em}.icon-img[_ngcontent-%COMP%]{width:5rem;height:5rem;object-fit:contain;flex-shrink:0;margin:0 auto}.custom-list-icons[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.custom-list-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:30px;margin-bottom:10px;line-height:1.6;list-style:none}.custom-list-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\274c";position:absolute;left:0;top:0;color:var(--secondary-color);font-size:1.2em}.loadingOrError[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.loadingOrError[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{min-width:180px;padding:12px 25px;font-size:1em}.btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker)}.btn-outline-light[_ngcontent-%COMP%]{border-color:var(--light-text-color);color:var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--primary-color)}.additional-image-description-tag[_ngcontent-%COMP%]{text-align:center}@media (min-width: 768px){.course-hero-section[_ngcontent-%COMP%]{height:50vh}.course-hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8em}.course-hero-section[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.3em}.additional-image-section[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:flex-start}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{flex-basis:40%;flex-shrink:0;margin-bottom:0;text-align:left}.additional-image-section[_ngcontent-%COMP%]   .additional-image-description[_ngcontent-%COMP%]{flex-basis:60%}}@media (min-width: 992px){.course-hero-section[_ngcontent-%COMP%]{height:45vh;min-height:380px;max-height:500px}}']})};function eG(n,e){n&1&&(T(0,"div",3)(1,"p"),N(2,"\u041E\u0431\u0440\u043E\u0431\u043A\u0430 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0443 \u043F\u043B\u0430\u0442\u0435\u0436\u0443..."),P()())}function tG(n,e){n&1&&(T(0,"p"),N(1,"\u0410\u0431\u043E \u0437\u043D\u0430\u0439\u0434\u0456\u0442\u044C \u043D\u0430\u0448\u043E\u0433\u043E \u0431\u043E\u0442\u0430 \u0432 Telegram "),T(2,"strong"),N(3,"test_for21_bot"),P()())}function nG(n,e){if(n&1&&(T(0,"div",16)(1,"p"),N(2,"\u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C \u043D\u0435 \u0432\u0456\u0434\u043A\u0440\u0438\u0432\u0441\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E?"),P(),T(3,"p"),N(4,"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044C \u0437\u0430 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F\u043C \u0432\u0440\u0443\u0447\u043D\u0443: "),T(5,"a",17),N(6),P()(),te(7,tG,4,0,"p",9),P()),n&2){let t=Q(4);O(5),F("href",t.telegramBotLink,bt),O(),$e(t.telegramBotLink),O(),F("ngIf",t.orderDetails==null?null:t.orderDetails.email)}}function rG(n,e){if(n&1){let t=tt();tu(0),T(1,"p"),N(2,"\u0414\u043B\u044F \u043E\u0442\u0440\u0438\u043C\u0430\u043D\u043D\u044F \u0434\u043E\u0441\u0442\u0443\u043F\u0443, \u0431\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044C \u0434\u043E \u043D\u0430\u0448\u043E\u0433\u043E Telegram-\u0431\u043E\u0442\u0430."),P(),T(3,"div",11)(4,"button",12),de("click",function(){xe(t);let i=Q(3);return Re(i.tryOpenTelegramBot())}),re(5,"i",13),N(6," \u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 Telegram \u0411\u043E\u0442\u0430 "),P(),T(7,"button",14),de("click",function(){xe(t);let i=Q(3);return Re(i.navigateToCourses())}),N(8,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0456\u043D\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),P()(),te(9,nG,8,3,"div",15),nu()}if(n&2){let t=Q(3);O(9),F("ngIf",t.showTelegramFallback)}}function iG(n,e){if(n&1){let t=tt();T(0,"div",11)(1,"button",18),de("click",function(){xe(t);let i=Q(3);return Re(i.navigateToCourses())}),N(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0456\u043D\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),P()()}}function oG(n,e){if(n&1&&(T(0,"div"),re(1,"i",8),T(2,"h2"),N(3,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0443\u0441\u043F\u0456\u0448\u043D\u0430!"),P(),T(4,"p"),N(5),P(),te(6,rG,10,1,"ng-container",9)(7,iG,3,0,"div",10),P()),n&2){let t=Q(2);O(5),Gn('\u0414\u044F\u043A\u0443\u0454\u043C\u043E \u0437\u0430 \u0432\u0430\u0448\u0443 \u043F\u043E\u043A\u0443\u043F\u043A\u0443. \u0414\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u043A\u0443\u0440\u0441\u0443 "',(t.orderDetails==null?null:t.orderDetails.courseTitle)||"\u043E\u0431\u0440\u0430\u043D\u0438\u0439 \u043A\u0443\u0440\u0441",'" \u0431\u0443\u0434\u0435 \u043D\u0430\u0434\u0430\u043D\u043E \u043D\u0430\u0439\u0431\u043B\u0438\u0436\u0447\u0438\u043C \u0447\u0430\u0441\u043E\u043C.'),O(),F("ngIf",t.telegramBotLink),O(),F("ngIf",!t.telegramBotLink)}}function sG(n,e){if(n&1&&(T(0,"p",20),N(1),P()),n&2){let t=Q(3);O(),Gn("\u041D\u043E\u043C\u0435\u0440 \u0432\u0430\u0448\u043E\u0433\u043E \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F (\u0442\u0435\u0441\u0442): ",t.orderIdFromLiqpay,"")}}function aG(n,e){if(n&1&&(T(0,"div",16)(1,"p"),N(2,"\u0422\u0435\u043B\u0435\u0433\u0440\u0430\u043C \u043D\u0435 \u0432\u0456\u0434\u043A\u0440\u0438\u0432\u0441\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u043D\u043E?"),P(),T(3,"p"),N(4,"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0439\u0434\u0456\u0442\u044C \u0437\u0430 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F\u043C \u0432\u0440\u0443\u0447\u043D\u0443: "),T(5,"a",17),N(6),P()()()),n&2){let t=Q(4);O(5),F("href",t.telegramBotLink,bt),O(),$e(t.telegramBotLink)}}function cG(n,e){if(n&1){let t=tt();tu(0),T(1,"p"),N(2,"\u0414\u043B\u044F \u0442\u0435\u0441\u0442\u0443\u0432\u0430\u043D\u043D\u044F, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u0434\u043E \u043D\u0430\u0448\u043E\u0433\u043E Telegram-\u0431\u043E\u0442\u0430."),P(),T(3,"div",11)(4,"button",12),de("click",function(){xe(t);let i=Q(3);return Re(i.tryOpenTelegramBot())}),re(5,"i",13),N(6," \u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 Telegram \u0411\u043E\u0442\u0430 (\u0442\u0435\u0441\u0442) "),P(),T(7,"button",14),de("click",function(){xe(t);let i=Q(3);return Re(i.navigateToCourses())}),N(8,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0456\u043D\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),P()(),te(9,aG,7,2,"div",15),nu()}if(n&2){let t=Q(3);O(9),F("ngIf",t.showTelegramFallback)}}function uG(n,e){if(n&1){let t=tt();T(0,"div",11)(1,"button",18),de("click",function(){xe(t);let i=Q(3);return Re(i.navigateToCourses())}),N(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0456\u043D\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),P()()}}function lG(n,e){if(n&1&&(T(0,"div"),re(1,"i",8),T(2,"h2"),N(3,"\u0422\u0435\u0441\u0442\u043E\u0432\u0430 \u043E\u043F\u043B\u0430\u0442\u0430 \u0443\u0441\u043F\u0456\u0448\u043D\u0430!"),P(),T(4,"p"),N(5,"\u0426\u0435 \u0431\u0443\u0432 \u0442\u0435\u0441\u0442\u043E\u0432\u0438\u0439 \u043F\u043B\u0430\u0442\u0456\u0436. \u0414\u044F\u043A\u0443\u0454\u043C\u043E!"),P(),te(6,sG,2,1,"p",19)(7,cG,10,1,"ng-container",9)(8,uG,3,0,"div",10),P()),n&2){let t=Q(2);O(6),F("ngIf",t.orderIdFromLiqpay),O(),F("ngIf",t.telegramBotLink),O(),F("ngIf",!t.telegramBotLink)}}function dG(n,e){if(n&1){let t=tt();T(0,"div"),re(1,"i",21),T(2,"h2"),N(3,"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043E\u043F\u043B\u0430\u0442\u0438"),P(),T(4,"p"),N(5),P(),T(6,"p"),N(7,"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0441\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0449\u0435 \u0440\u0430\u0437 \u0430\u0431\u043E \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u043E\u044E."),P(),T(8,"div",11)(9,"button",14),de("click",function(){xe(t);let i=Q(2);return Re(i.navigateToHome())}),N(10,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),P()()()}if(n&2){let t=Q(2);O(5),$e(t.errorMessage||"\u041D\u0430 \u0436\u0430\u043B\u044C, \u0432\u0430\u0448 \u043F\u043B\u0430\u0442\u0456\u0436 \u043D\u0435 \u0431\u0443\u043B\u043E \u043E\u0431\u0440\u043E\u0431\u043B\u0435\u043D\u043E.")}}function hG(n,e){if(n&1){let t=tt();T(0,"div"),re(1,"i",22),T(2,"h2"),N(3,"\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u043E\u0431\u0440\u043E\u0431\u043A\u0438"),P(),T(4,"p"),N(5),P(),T(6,"p"),N(7,"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u043E\u044E, \u043D\u0430\u0434\u0430\u0432\u0448\u0438 \u0434\u0435\u0442\u0430\u043B\u0456 \u0432\u0430\u0448\u043E\u0457 \u0441\u043F\u0440\u043E\u0431\u0438 \u043E\u043F\u043B\u0430\u0442\u0438."),P(),T(8,"div",11)(9,"button",14),de("click",function(){xe(t);let i=Q(2);return Re(i.navigateToHome())}),N(10,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),P()()()}if(n&2){let t=Q(2);O(5),$e(t.errorMessage||"\u0412\u0438\u043D\u0438\u043A\u043B\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430 \u043F\u0440\u0438 \u043E\u0431\u0440\u043E\u0431\u0446\u0456 \u0434\u0430\u043D\u0438\u0445 \u043F\u043B\u0430\u0442\u0435\u0436\u0443.")}}function fG(n,e){if(n&1){let t=tt();T(0,"div"),re(1,"i",23),T(2,"h2"),N(3,"\u041E\u043F\u043B\u0430\u0442\u0430 \u0432 \u043E\u0431\u0440\u043E\u0431\u0446\u0456"),P(),T(4,"p"),N(5,"\u0412\u0430\u0448 \u043F\u043B\u0430\u0442\u0456\u0436 \u0449\u0435 \u043E\u0431\u0440\u043E\u0431\u043B\u044F\u0454\u0442\u044C\u0441\u044F. \u0417\u0430\u0437\u0432\u0438\u0447\u0430\u0439 \u0446\u0435 \u0437\u0430\u0439\u043C\u0430\u0454 \u043A\u0456\u043B\u044C\u043A\u0430 \u0445\u0432\u0438\u043B\u0438\u043D."),P(),T(6,"p"),N(7,"\u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043E\u043D\u043E\u0432\u0456\u0442\u044C \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443 \u043F\u0456\u0437\u043D\u0456\u0448\u0435 \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u043A\u0443\u0440\u0441\u0443."),P(),T(8,"div",11)(9,"button",14),de("click",function(){xe(t);let i=Q(2);return Re(i.navigateToHome())}),N(10,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),P()()()}}function pG(n,e){if(n&1){let t=tt();T(0,"div"),re(1,"i",23),T(2,"h2"),N(3,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u043B\u0430\u0442\u0435\u0436\u0443"),P(),T(4,"p"),N(5,"\u0406\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044F \u043F\u0440\u043E \u0432\u0430\u0448 \u043F\u043B\u0430\u0442\u0456\u0436 \u043E\u0431\u0440\u043E\u0431\u043B\u044F\u0454\u0442\u044C\u0441\u044F. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u0432\u0430\u0448 \u0434\u043E\u0441\u0442\u0443\u043F \u0434\u043E \u043A\u0443\u0440\u0441\u0443 \u043F\u0456\u0437\u043D\u0456\u0448\u0435 \u0430\u0431\u043E \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043D\u0430\u043C\u0438, \u044F\u043A\u0449\u043E \u0432\u0438\u043D\u0438\u043A\u043D\u0443\u0442\u044C \u043F\u0438\u0442\u0430\u043D\u043D\u044F."),P(),T(6,"div",11)(7,"button",14),de("click",function(){xe(t);let i=Q(2);return Re(i.navigateToHome())}),N(8,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),P()()()}}function gG(n,e){if(n&1){let t=tt();T(0,"div"),re(1,"i",24),T(2,"h2"),N(3,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043F\u043B\u0430\u0442\u0435\u0436\u0443 \u043D\u0435 \u0432\u0438\u0437\u043D\u0430\u0447\u0435\u043D\u043E"),P(),T(4,"p"),N(5,"\u041C\u0438 \u043D\u0435 \u0437\u043C\u043E\u0433\u043B\u0438 \u043E\u0442\u0440\u0438\u043C\u0430\u0442\u0438 \u0430\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u0432\u0430\u0448\u043E\u0433\u043E \u043F\u043B\u0430\u0442\u0435\u0436\u0443. \u042F\u043A\u0449\u043E \u0432\u0438 \u0437\u0434\u0456\u0439\u0441\u043D\u0438\u043B\u0438 \u043E\u043F\u043B\u0430\u0442\u0443, \u0431\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043D\u0430\u043C\u0438 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F."),P(),T(6,"div",11)(7,"button",14),de("click",function(){xe(t);let i=Q(2);return Re(i.navigateToHome())}),N(8,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u043D\u0430 \u0433\u043E\u043B\u043E\u0432\u043D\u0443"),P()()()}}function mG(n,e){if(n&1&&(T(0,"div",4),tu(1,5),te(2,oG,8,3,"div",6)(3,lG,9,3,"div",6)(4,dG,11,1,"div",6)(5,hG,11,1,"div",6)(6,fG,11,0,"div",6)(7,pG,9,0,"div",6)(8,gG,9,0,"div",7),nu(),P()),n&2){let t=Q();Si("success",t.paymentStatus==="success"||t.paymentStatus==="sandbox")("failure",t.paymentStatus==="failure")("error",t.paymentStatus==="error")("pending",t.paymentStatus==="pending")("unknown",t.paymentStatus==="unknown"),O(),F("ngSwitch",t.paymentStatus),O(),F("ngSwitchCase","success"),O(),F("ngSwitchCase","sandbox"),O(),F("ngSwitchCase","failure"),O(),F("ngSwitchCase","error"),O(),F("ngSwitchCase","pending"),O(),F("ngSwitchCase","unknown_check_later")}}var Bg=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.orderService=r;this.siteSettingsService=i;this.platformId=o;this.isBrowser=Wn(this.platformId)}paymentStatus="unknown";orderIdFromLiqpay=null;isLoading=!0;errorMessage=null;orderDetails=null;telegramBotLink;showTelegramFallback=!1;isBrowser;mainProcessingSub;ngOnInit(){if(!this.isBrowser){this.isLoading=!1,this.paymentStatus="unknown";return}this.mainProcessingSub=this.route.queryParams.pipe(et(1),ue(e=>{this.isLoading=!0,this.orderIdFromLiqpay=e.liqpay_order_id,console.log("Query Params processed:",e)}),We(e=>!!e.liqpay_order_id),rt(e=>{let t=e.liqpay_order_id;return Os([this.orderService.getOrderByLiqPayOrderId(t).pipe(fn(r=>(console.error("Error fetching order:",r),this.errorMessage="\u041F\u043E\u043C\u0438\u043B\u043A\u0430 \u0437\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0434\u0435\u0442\u0430\u043B\u0435\u0439 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F.",this.paymentStatus="error",ne(null)))),this.siteSettingsService.telegramBotLink$.pipe(et(1))])}),ue(([e,t])=>{this.telegramBotLink=t,console.log("Received from combineLatest - Order:",e,"BotLink:",t),e?(this.orderDetails=e,this.paymentStatus=e.paymentStatus,console.log("Order Status:",this.paymentStatus),(this.paymentStatus==="success"||this.paymentStatus==="sandbox")&&this.telegramBotLink?(console.log("Attempting to open Telegram bot..."),this.tryOpenTelegramBot()):(this.paymentStatus==="success"||this.paymentStatus==="sandbox")&&(console.log("Telegram bot link is not available, showing fallback trigger."),this.showTelegramFallback=!0)):this.errorMessage||(console.warn(`Order with liqpayOrderId ${this.orderIdFromLiqpay} not found.`),this.paymentStatus="unknown",this.errorMessage="\u0417\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u0437\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u043E\u044E."),this.isLoading=!1}),fn(e=>(console.error("Error in main processing pipe:",e),this.paymentStatus="error",this.errorMessage="\u0417\u0430\u0433\u0430\u043B\u044C\u043D\u0430 \u043F\u043E\u043C\u0438\u043B\u043A\u0430 \u043E\u0431\u0440\u043E\u0431\u043A\u0438 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0443.",this.isLoading=!1,Dt))).subscribe(),this.route.queryParams.pipe(et(1)).subscribe(e=>{e.liqpay_order_id||(console.warn("No liqpay_order_id found in query params."),this.paymentStatus="unknown",this.isLoading=!1)})}tryOpenTelegramBot(){if(console.log(this.telegramBotLink),!this.isBrowser||!this.telegramBotLink)return;let e=this.telegramBotLink,t=window.open(e,"_blank");setTimeout(()=>{(t===null||t.closed||typeof t.closed>"u")&&(this.showTelegramFallback=!0)},2e3)}navigateToCourses(){this.router.navigate(["/courses"])}navigateToHome(){this.router.navigate(["/"])}ngOnDestroy(){this.mainProcessingSub&&this.mainProcessingSub.unsubscribe()}static \u0275fac=function(t){return new(t||n)(U(Jt),U(an),U(tc),U(qi),U(Nt))};static \u0275cmp=it({type:n,selectors:[["app-payment-result"]],decls:3,vars:2,consts:[[1,"container","payment-result-page"],["class","loading-indicator",4,"ngIf"],["class","result-message-card",3,"success","failure","error","pending","unknown",4,"ngIf"],[1,"loading-indicator"],[1,"result-message-card"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"fas","fa-check-circle","icon-status"],[4,"ngIf"],["class","actions-container",4,"ngIf"],[1,"actions-container"],[1,"btn","btn-telegram",3,"click"],[1,"fab","fa-telegram-plane"],[1,"btn","btn-secondary-custom",3,"click"],["class","telegram-fallback",4,"ngIf"],[1,"telegram-fallback"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"btn","btn-primary",3,"click"],["class","order-id-info",4,"ngIf"],[1,"order-id-info"],[1,"fas","fa-times-circle","icon-status"],[1,"fas","fa-exclamation-triangle","icon-status"],[1,"fas","fa-hourglass-half","icon-status"],[1,"fas","fa-question-circle","icon-status"]],template:function(t,r){t&1&&(T(0,"div",0),te(1,eG,3,0,"div",1)(2,mG,9,17,"div",2),P()),t&2&&(O(),F("ngIf",r.isLoading&&r.isBrowser),O(),F("ngIf",!r.isLoading))},dependencies:[mt,Yt,au,Qv,Yv],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QIFqPfE.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4SYFqPfE.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4ToFqPfE.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QoFqPfE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4Q4FqPfE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4TYFq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #7ba8d1;--primary-color-lighter-15: #bde0f1;--secondary-color: #edbb48;--secondary-color-darker: #d68a18;--secondary-text-color: #ffffff;--accent-color-1: #264b70;--accent-color-1-lighter: #004080;--accent-text-color-1: #ffffff;--background-color: #ffffff;--text-color: #333333;--light-text-color: #ffffff;--container-padding: 15px;--border-radius: 8px}body[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:var(--background-color);color:var(--text-color);line-height:1.6}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0}a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 var(--container-padding)}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;cursor:pointer;transition:background-color .3s ease,color .3s ease;border:none;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker);color:var(--secondary-text-color);text-decoration:none}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter);color:var(--accent-text-color-1);text-decoration:none}.btn-outline-light[_ngcontent-%COMP%]{background-color:transparent;color:var(--light-text-color);border:2px solid var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--accent-color-1);text-decoration:none}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--light-text-color);text-decoration:none}@media (max-width: 767px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.visible-mobile[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block!important}}.card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-bottom:20px}.payment-result-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:calc(100vh - 160px);padding:40px var(--container-padding);text-align:center;box-sizing:border-box}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3em;color:var(--text-color)}.result-message-card[_ngcontent-%COMP%]{background-color:var(--background-color);padding:30px 40px;border-radius:var(--border-radius);box-shadow:0 4px 15px #0000001a;max-width:600px;width:100%;margin-top:20px}.result-message-card[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%]{font-size:4.5em;margin-bottom:25px;display:block}.result-message-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;margin-bottom:15px;font-weight:600}.result-message-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05em;line-height:1.7;color:var(--text-color);margin-bottom:12px}.result-message-card[_ngcontent-%COMP%]   p.order-id-info[_ngcontent-%COMP%]{font-size:.9em;color:#777;margin-top:20px}.result-message-card[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:column;gap:15px;align-items:center}.result-message-card[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:12px 20px;font-size:1em;font-weight:600}.result-message-card.success[_ngcontent-%COMP%]{border-top:5px solid var(--secondary-color)}.result-message-card.success[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%]{color:var(--secondary-color)}.result-message-card.success[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-color-1)}.result-message-card.failure[_ngcontent-%COMP%], .result-message-card.error[_ngcontent-%COMP%]{border-top:5px solid #e74c3c}.result-message-card.failure[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%], .result-message-card.error[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%]{color:#e74c3c}.result-message-card.failure[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .result-message-card.error[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#c0392b}.result-message-card.pending[_ngcontent-%COMP%], .result-message-card.unknown[_ngcontent-%COMP%]{border-top:5px solid #f39c12}.result-message-card.pending[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%], .result-message-card.unknown[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%]{color:#f39c12}.result-message-card.pending[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .result-message-card.unknown[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--accent-color-1)}.btn-telegram[_ngcontent-%COMP%]{background-color:#08c;border-color:#08c;color:#fff;display:inline-flex;align-items:center;justify-content:center}.btn-telegram[_ngcontent-%COMP%]:hover{background-color:#006da3;border-color:#006da3;color:#fff}.btn-telegram[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%], .btn-telegram[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{margin-right:10px;font-size:1.2em}.telegram-fallback[_ngcontent-%COMP%]{margin-top:25px;padding:15px;background-color:#f9f9f9;border:1px solid #e0e0e0;border-radius:var(--border-radius);font-size:.9em;color:var(--text-color)}.telegram-fallback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5}.telegram-fallback[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.telegram-fallback[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;text-decoration:underline}.telegram-fallback[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.btn-secondary-custom[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary-custom[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter)}@media (max-width: 576px){.result-message-card[_ngcontent-%COMP%]{padding:25px 20px}.result-message-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.7em}.result-message-card[_ngcontent-%COMP%]   .icon-status[_ngcontent-%COMP%]{font-size:3.5em}.result-message-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .result-message-card[_ngcontent-%COMP%]   .actions-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.95em}}']})};var IN=[{path:"",component:Eg,pathMatch:"full"},{path:"courses",component:wg},{path:"course/:courseSlug",component:Ug},{path:"payment-result",component:Bg},{path:"**",redirectTo:""}];function bN(n){return new V(3e3,!1)}function yG(){return new V(3100,!1)}function vG(){return new V(3101,!1)}function _G(n){return new V(3001,!1)}function EG(n){return new V(3003,!1)}function wG(n){return new V(3004,!1)}function TN(n,e){return new V(3005,!1)}function SN(){return new V(3006,!1)}function AN(){return new V(3007,!1)}function MN(n,e){return new V(3008,!1)}function PN(n){return new V(3002,!1)}function xN(n,e,t,r,i){return new V(3010,!1)}function RN(){return new V(3011,!1)}function ON(){return new V(3012,!1)}function NN(){return new V(3200,!1)}function kN(){return new V(3202,!1)}function FN(){return new V(3013,!1)}function LN(n){return new V(3014,!1)}function VN(n){return new V(3015,!1)}function UN(n){return new V(3016,!1)}function BN(n,e){return new V(3404,!1)}function CG(n){return new V(3502,!1)}function jN(n){return new V(3503,!1)}function $N(){return new V(3300,!1)}function HN(n){return new V(3504,!1)}function zN(n){return new V(3301,!1)}function qN(n,e){return new V(3302,!1)}function GN(n){return new V(3303,!1)}function WN(n,e){return new V(3400,!1)}function KN(n){return new V(3401,!1)}function QN(n){return new V(3402,!1)}function YN(n,e){return new V(3505,!1)}function ci(n){switch(n.length){case 0:return new Sr;case 1:return n[0];default:return new us(n)}}function MI(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),d=l==s,f=d&&a||new Map;c.forEach((m,g)=>{let _=g,C=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),C){case Qa:C=t.get(g);break;case On:C=r.get(g);break;default:C=n.normalizeStyleValue(g,_,C,i);break}f.set(_,C)}),d||o.push(f),a=f,s=l}),i.length)throw CG(i);return o}function jg(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&TI(t,"start",n)));break;case"done":n.onDone(()=>r(t&&TI(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&TI(t,"destroy",n)));break}}function TI(n,e,t){let r=t.totalTime,i=!!t.disabled,o=$g(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function $g(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function ln(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function PI(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var IG=typeof document>"u"?null:document.documentElement;function Hg(n){let e=n.parentNode||n.host||null;return e===IG?null:e}function bG(n){return n.substring(1,6)=="ebkit"}var hs=null,DN=!1;function JN(n){hs||(hs=DG()||{},DN=hs.style?"WebkitAppearance"in hs.style:!1);let e=!0;return hs.style&&!bG(n)&&(e=n in hs.style,!e&&DN&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in hs.style)),e}function DG(){return typeof document<"u"?document.body:null}function xI(n,e){for(;e;){if(e===n)return!0;e=Hg(e)}return!1}function RI(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var TG=1e3,OI="{{",SG="}}",NI="ng-enter",zg="ng-leave",Ml="ng-trigger",Pl=".ng-trigger",kI="ng-animating",qg=".ng-animating";function Ar(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:SI(parseFloat(e[1]),e[2])}function SI(n,e){switch(e){case"s":return n*TG;default:return n}}function xl(n,e,t){return n.hasOwnProperty("duration")?n:AG(n,e,t)}function AG(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(bN(n)),{duration:0,delay:0,easing:""};i=SI(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=SI(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(yG()),a=!0),o<0&&(e.push(vG()),a=!0),a&&e.splice(c,0,bN(n))}return{duration:i,delay:o,easing:s}}function ZN(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function nr(n,e,t){e.forEach((r,i)=>{let o=Gg(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Qi(n,e){e.forEach((t,r)=>{let i=Gg(r);n.style[i]=""})}function nc(n){return Array.isArray(n)?n.length==1?n[0]:OO(n):n}function XN(n,e,t){let r=e.params||{},i=FI(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(_G(o))})}var AI=new RegExp(`${OI}\\s*(.+?)\\s*${SG}`,"g");function FI(n){let e=[];if(typeof n=="string"){let t;for(;t=AI.exec(n);)e.push(t[1]);AI.lastIndex=0}return e}function rc(n,e,t){let r=`${n}`,i=r.replace(AI,(o,s)=>{let a=e[s];return a==null&&(t.push(EG(s)),a=""),a.toString()});return i==r?n:i}var MG=/-+([a-z0-9])/g;function Gg(n){return n.replace(MG,(...e)=>e[1].toUpperCase())}function ek(n,e){return n===0||e===0}function tk(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Wg(n,a)))}}return e}function dn(n,e,t){switch(e.type){case ge.Trigger:return n.visitTrigger(e,t);case ge.State:return n.visitState(e,t);case ge.Transition:return n.visitTransition(e,t);case ge.Sequence:return n.visitSequence(e,t);case ge.Group:return n.visitGroup(e,t);case ge.Animate:return n.visitAnimate(e,t);case ge.Keyframes:return n.visitKeyframes(e,t);case ge.Style:return n.visitStyle(e,t);case ge.Reference:return n.visitReference(e,t);case ge.AnimateChild:return n.visitAnimateChild(e,t);case ge.AnimateRef:return n.visitAnimateRef(e,t);case ge.Query:return n.visitQuery(e,t);case ge.Stagger:return n.visitStagger(e,t);default:throw wG(e.type)}}function Wg(n,e){return window.getComputedStyle(n)[e]}var XI=(()=>{class n{validateStyleProperty(t){return JN(t)}containsElement(t,r){return xI(t,r)}getParentElement(t){return Hg(t)}query(t,r,i){return RI(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Sr(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})(),ps=class{static NOOP=new XI},gs=class{};var PG=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Zg=class extends gs{normalizePropertyName(e,t){return Gg(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(PG.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(TN(e,r))}return s+o}};var Xg="*";function xG(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>RG(r,t,e)):t.push(n),t}function RG(n,e,t){if(n[0]==":"){let c=OG(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(VN(n)),e;let i=r[1],o=r[2],s=r[3];e.push(nk(i,s));let a=i==Xg&&s==Xg;o[0]=="<"&&!a&&e.push(nk(s,i))}function OG(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(UN(n)),"* => *"}}var Kg=new Set(["true","1"]),Qg=new Set(["false","0"]);function nk(n,e){let t=Kg.has(n)||Qg.has(n),r=Kg.has(e)||Qg.has(e);return(i,o)=>{let s=n==Xg||n==i,a=e==Xg||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Kg.has(n):Qg.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Kg.has(e):Qg.has(e)),s&&a}}var hk=":self",NG=new RegExp(`s*${hk}s*,?`,"g");function fk(n,e,t,r){return new $I(n).build(e,t,r)}var rk="",$I=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new HI(t);return this._resetContextStyleTimingState(i),dn(this,nc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=rk,e.collectedStyles=new Map,e.collectedStyles.set(rk,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(SN()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ge.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ge.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(AN())}),{type:ge.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{FI(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(MN(e.name,[...o.values()]))}return{type:ge.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=dn(this,nc(e.animation),t),i=xG(e.expr,t.errors);return{type:ge.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:fs(e.options)}}visitSequence(e,t){return{type:ge.Sequence,steps:e.steps.map(r=>dn(this,r,t)),options:fs(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=dn(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ge.Group,steps:o,options:fs(e.options)}}visitAnimate(e,t){let r=VG(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:ls({});if(o.type==ge.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=ls(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ge.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===On?r.push(a):t.errors.push(PN(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(OI)>=0){o=!0;break}}}),{type:ge.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c),f=!0;d&&(o!=i&&o>=d.startTime&&i<=d.endTime&&(t.errors.push(xN(c,d.startTime,d.endTime,o,i)),f=!1),o=d.startTime),f&&l.set(c,{startTime:o,endTime:i}),t.options&&XN(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ge.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(RN()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,d=e.steps.map(k=>{let H=this._makeStyleAst(k,t),G=H.offset!=null?H.offset:LG(H.styles),oe=0;return G!=null&&(o++,oe=H.offset=G),c=c||oe<0||oe>1,a=a||oe<l,l=oe,s.push(oe),H});c&&t.errors.push(ON()),a&&t.errors.push(NN());let f=e.steps.length,m=0;o>0&&o<f?t.errors.push(kN()):o==0&&(m=i/(f-1));let g=f-1,_=t.currentTime,C=t.currentAnimateTimings,S=C.duration;return d.forEach((k,H)=>{let G=m>0?H==g?1:m*H:s[H],oe=G*S;t.currentTime=_+C.delay+oe,C.duration=oe,this._validateStyleAst(k,t),k.offset=G,r.styles.push(k)}),r}visitReference(e,t){return{type:ge.Reference,animation:dn(this,nc(e.animation),t),options:fs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ge.AnimateChild,options:fs(e.options)}}visitAnimateRef(e,t){return{type:ge.AnimateRef,animation:this.visitReference(e.animation,t),options:fs(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=kG(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ln(t.collectedStyles,t.currentQuerySelector,new Map);let a=dn(this,nc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ge.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:fs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(FN());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:xl(e.timings,t.errors,!0);return{type:ge.Stagger,animation:dn(this,nc(e.animation),t),timings:r,options:null}}};function kG(n){let e=!!n.split(/\s*,\s*/).find(t=>t==hk);return e&&(n=n.replace(NG,"")),n=n.replace(/@\*/g,Pl).replace(/@\w+/g,t=>Pl+"-"+t.slice(1)).replace(/:animating/g,qg),[n,e]}function FG(n){return n?j({},n):null}var HI=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function LG(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function VG(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=xl(n,e).duration;return LI(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=LI(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=xl(t,e);return LI(i.duration,i.delay,i.easing)}function fs(n){return n?(n=j({},n),n.params&&(n.params=FG(n.params))):n={},n}function LI(n,e,t){return{duration:n,delay:e,easing:t}}function eb(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Ol=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},UG=1,BG=":enter",jG=new RegExp(BG,"g"),$G=":leave",HG=new RegExp($G,"g");function pk(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new zI().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var zI=class{buildKeyframes(e,t,r,i,o,s,a,c,l,d=[]){l=l||new Ol;let f=new qI(e,t,l,i,o,d,[]);f.options=c;let m=c.delay?Ar(c.delay):0;f.currentTimeline.delayNextStep(m),f.currentTimeline.setStyles([s],null,f.errors,c),dn(this,r,f);let g=f.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let C=g.length-1;C>=0;C--){let S=g[C];if(S.element===t){_=S;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,f.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[eb(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:Ar(rc(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?Ar(r.duration):null,a=r.delay!=null?Ar(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ge.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=em);let s=Ar(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>dn(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?Ar(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),dn(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?rc(r,t.params,t.errors):r;return xl(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ge.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Ar(i.delay):0;o&&(t.previousNode.type===ge.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=em);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;let f=t.createSubContext(e.options,l);o&&f.delayNextStep(o),l===t.element&&(c=f.currentTimeline),dn(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let m=f.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let d=t.currentTimeline;c&&d.delayNextStep(c);let f=d.currentTime;dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}},em={},qI=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=em;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new tm(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Ar(r.duration)),r.delay!=null&&(i.delay=Ar(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=rc(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=em,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new GI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(jG,"."+this._enterClassName),e=e.replace(HG,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(LN(t)),a}},tm=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=UG,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||On),this._currentKeyframe.set(t,On);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=zG(e,this._globalTimelineStyles);for(let[a,c]of s){let l=rc(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??On),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((d,f)=>{d===Qa?e.add(f):d===On&&t.add(f)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return eb(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},GI=class extends tm{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",ik(a)),o.push(l);let d=e.length-1;for(let f=1;f<=d;f++){let m=new Map(e[f]),g=m.get("offset"),_=t+g*r;m.set("offset",ik(_/s)),o.push(m)}r=s,t=0,i="",e=o}return eb(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function ik(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function zG(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,On)}else for(let[o,s]of i)t.set(o,s)}),t}function ok(n,e,t,r,i,o,s,a,c,l,d,f,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:f,errors:m}}var VI={},nm=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return qG(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,d){let f=[],m=this.ast.options&&this.ast.options.params||VI,g=a&&a.params||VI,_=this.buildStyles(r,g,f),C=c&&c.params||VI,S=this.buildStyles(i,C,f),k=new Set,H=new Map,G=new Map,oe=i==="void",ze={params:gk(C,m),delay:this.ast.options?.delay},_e=d?[]:pk(e,t,this.ast.animation,o,s,_,S,ze,l,f),I=0;return _e.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),f.length?ok(t,this._triggerName,r,i,oe,_,S,[],[],H,G,I,f):(_e.forEach(v=>{let E=v.element,b=ln(H,E,new Set);v.preStyleProps.forEach(M=>b.add(M));let D=ln(G,E,new Set);v.postStyleProps.forEach(M=>D.add(M)),E!==t&&k.add(E)}),ok(t,this._triggerName,r,i,oe,_,S,_e,[...k.values()],H,G,I))}};function qG(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function gk(n,e){let t=j({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var WI=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=gk(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=rc(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function GG(n,e,t){return new KI(n,e,t)}var KI=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new WI(i.style,o,r))}),sk(this.states,"true","1"),sk(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new nm(e,i,this.states))}),this.fallbackTransition=WG(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function WG(n,e,t){let r=[(s,a)=>!0],i={type:ge.Sequence,steps:[],options:null},o={type:ge.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new nm(n,o,e)}function sk(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var KG=new Ol,QI=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=fk(this._driver,t,r,i);if(r.length)throw jN(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=MI(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=pk(this._driver,t,o,NI,zg,new Map,new Map,r,KG,i),s.forEach(d=>{let f=ln(a,d.element,new Map);d.postStyleProps.forEach(m=>f.set(m,null))})):(i.push($N()),s=[]),i.length)throw HN(i);a.forEach((d,f)=>{d.forEach((m,g)=>{d.set(g,this._driver.computeStyle(f,g,On))})});let c=s.map(d=>{let f=a.get(d.element);return this._buildPlayer(d,new Map,f)}),l=ci(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw zN(e);return t}listen(e,t,r,i){let o=$g(t,"","","");return jg(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},ak="ng-animate-queued",QG=".ng-animate-queued",UI="ng-animate-disabled",YG=".ng-animate-disabled",JG="ng-star-inserted",ZG=".ng-star-inserted",XG=[],mk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eW={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rr="__ng_removed",Nl=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=nW(i),r){let o=e,{value:s}=o,a=Rm(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Rl="void",BI=new Nl(Rl),YI=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Nn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw qN(r,t);if(r==null||r.length==0)throw GN(t);if(!rW(r))throw WN(r,t);let o=ln(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=ln(this._engine.statesByElement,e,new Map);return a.has(t)||(Nn(e,Ml),Nn(e,Ml+"-"+t),a.set(t,BI)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw KN(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new kl(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Nn(e,Ml),Nn(e,Ml+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Nl(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=BI),!(l.value===Rl)&&c.value===l.value){if(!sW(c.params,l.params)){let C=[],S=o.matchStyles(c.value,c.params,C),k=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Qi(e,S),nr(e,k)})}return}let m=ln(this._engine.playersByElement,e,[]);m.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(Nn(e,ak),s.onStart(()=>{ic(e,ak)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);let S=this._engine.playersByElement.get(e);if(S){let k=S.indexOf(s);k>=0&&S.splice(k,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Pl,!0);r.forEach(i=>{if(i[rr])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let d=this.trigger(e,l,Rl,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&ci(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||BI,d=new Nl(Rl),f=new kl(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[rr];(!o||o===mk)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Nn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=$g(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,jg(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},JI=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new YI(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Yg(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Yg(t))return;let o=t[rr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nn(e,UI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ic(e,UI))}removeNode(e,t,r){if(Yg(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[rr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Yg(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Pl,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,qg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ci(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[rr];if(t&&t.setForRemoval){if(e[rr]=mk,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(UI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,YG,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Nn(i,JG)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?ci(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw QN(e)}_flushAnimations(e,t){let r=new Ol,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(Z=>{d.add(Z);let X=this.driver.query(Z,QG,!0);for(let ie=0;ie<X.length;ie++)d.add(X[ie])});let f=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=lk(m,this.collectedEnterElements),_=new Map,C=0;g.forEach((Z,X)=>{let ie=NI+C++;_.set(X,ie),Z.forEach(Ae=>Nn(Ae,ie))});let S=[],k=new Set,H=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let X=this.collectedLeaveElements[Z],ie=X[rr];ie&&ie.setForRemoval&&(S.push(X),k.add(X),ie.hasAnimation?this.driver.query(X,ZG,!0).forEach(Ae=>k.add(Ae)):H.add(X))}let G=new Map,oe=lk(m,Array.from(k));oe.forEach((Z,X)=>{let ie=zg+C++;G.set(X,ie),Z.forEach(Ae=>Nn(Ae,ie))}),e.push(()=>{g.forEach((Z,X)=>{let ie=_.get(X);Z.forEach(Ae=>ic(Ae,ie))}),oe.forEach((Z,X)=>{let ie=G.get(X);Z.forEach(Ae=>ic(Ae,ie))}),S.forEach(Z=>{this.processLeaveNode(Z)})});let ze=[],_e=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(ie=>{let Ae=ie.player,ht=ie.element;if(ze.push(Ae),this.collectedEnterElements.length){let at=ht[rr];if(at&&at.setForMove){if(at.previousTriggersValues&&at.previousTriggersValues.has(ie.triggerName)){let Mr=at.previousTriggersValues.get(ie.triggerName),en=this.statesByElement.get(ie.element);if(en&&en.has(ie.triggerName)){let Pr=en.get(ie.triggerName);Pr.value=Mr,en.set(ie.triggerName,Pr)}}Ae.destroy();return}}let Dn=!f||!this.driver.containsElement(f,ht),st=G.get(ht),Ye=_.get(ht),Je=this._buildInstruction(ie,r,Ye,st,Dn);if(Je.errors&&Je.errors.length){_e.push(Je);return}if(Dn){Ae.onStart(()=>Qi(ht,Je.fromStyles)),Ae.onDestroy(()=>nr(ht,Je.toStyles)),i.push(Ae);return}if(ie.isFallbackTransition){Ae.onStart(()=>Qi(ht,Je.fromStyles)),Ae.onDestroy(()=>nr(ht,Je.toStyles)),i.push(Ae);return}let li=[];Je.timelines.forEach(at=>{at.stretchStartingKeyframe=!0,this.disabledNodes.has(at.element)||li.push(at)}),Je.timelines=li,r.append(ht,Je.timelines);let am={instruction:Je,player:Ae,element:ht};s.push(am),Je.queriedElements.forEach(at=>ln(a,at,[]).push(Ae)),Je.preStyleProps.forEach((at,Mr)=>{if(at.size){let en=c.get(Mr);en||c.set(Mr,en=new Set),at.forEach((Pr,di)=>en.add(di))}}),Je.postStyleProps.forEach((at,Mr)=>{let en=l.get(Mr);en||l.set(Mr,en=new Set),at.forEach((Pr,di)=>en.add(di))})});if(_e.length){let Z=[];_e.forEach(X=>{Z.push(YN(X.triggerName,X.errors))}),ze.forEach(X=>X.destroy()),this.reportError(Z)}let I=new Map,v=new Map;s.forEach(Z=>{let X=Z.element;r.has(X)&&(v.set(X,X),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,I))}),i.forEach(Z=>{let X=Z.element;this._getPreviousPlayers(X,!1,Z.namespaceId,Z.triggerName,null).forEach(Ae=>{ln(I,X,[]).push(Ae),Ae.destroy()})});let E=S.filter(Z=>dk(Z,c,l)),b=new Map;uk(b,this.driver,H,l,On).forEach(Z=>{dk(Z,c,l)&&E.push(Z)});let M=new Map;g.forEach((Z,X)=>{uk(M,this.driver,new Set(Z),c,Qa)}),E.forEach(Z=>{let X=b.get(Z),ie=M.get(Z);b.set(Z,new Map([...X?.entries()??[],...ie?.entries()??[]]))});let w=[],bn=[],ui={};s.forEach(Z=>{let{element:X,player:ie,instruction:Ae}=Z;if(r.has(X)){if(d.has(X)){ie.onDestroy(()=>nr(X,Ae.toStyles)),ie.disabled=!0,ie.overrideTotalTime(Ae.totalTime),i.push(ie);return}let ht=ui;if(v.size>1){let st=X,Ye=[];for(;st=st.parentNode;){let Je=v.get(st);if(Je){ht=Je;break}Ye.push(st)}Ye.forEach(Je=>v.set(Je,ht))}let Dn=this._buildAnimation(ie.namespaceId,Ae,I,o,M,b);if(ie.setRealPlayer(Dn),ht===ui)w.push(ie);else{let st=this.playersByElement.get(ht);st&&st.length&&(ie.parentPlayer=ci(st)),i.push(ie)}}else Qi(X,Ae.fromStyles),ie.onDestroy(()=>nr(X,Ae.toStyles)),bn.push(ie),d.has(X)&&i.push(ie)}),bn.forEach(Z=>{let X=o.get(Z.element);if(X&&X.length){let ie=ci(X);Z.setRealPlayer(ie)}}),i.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<S.length;Z++){let X=S[Z],ie=X[rr];if(ic(X,zg),ie&&ie.hasAnimation)continue;let Ae=[];if(a.size){let Dn=a.get(X);Dn&&Dn.length&&Ae.push(...Dn);let st=this.driver.query(X,qg,!0);for(let Ye=0;Ye<st.length;Ye++){let Je=a.get(st[Ye]);Je&&Je.length&&Ae.push(...Je)}}let ht=Ae.filter(Dn=>!Dn.destroyed);ht.length?iW(this,X,ht):this.processLeaveNode(X)}return S.length=0,w.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let X=this.players.indexOf(Z);this.players.splice(X,1)}),Z.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Rl;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,d=l!==o,f=ln(r,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),f.push(g)})}Qi(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],d=new Set,f=new Set,m=t.timelines.map(_=>{let C=_.element;d.add(C);let S=C[rr];if(S&&S.removedBeforeQueried)return new Sr(_.duration,_.delay);let k=C!==c,H=oW((r.get(C)||XG).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===C:!1}),G=o.get(C),oe=s.get(C),ze=MI(this._normalizer,_.keyframes,G,oe),_e=this._buildPlayer(_,ze,H);if(_.subTimeline&&i&&f.add(C),k){let I=new kl(e,a,C);I.setRealPlayer(_e),l.push(I)}return _e});l.forEach(_=>{ln(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>tW(this.playersByQueriedElement,_.element,_))}),d.forEach(_=>Nn(_,kI));let g=ci(m);return g.onDestroy(()=>{d.forEach(_=>ic(_,kI)),nr(c,t.toStyles)}),f.forEach(_=>{ln(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Sr(e.duration,e.delay)}},kl=class{namespaceId;triggerName;element;_player=new Sr;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>jg(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ln(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function tW(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function nW(n){return n??null}function Yg(n){return n&&n.nodeType===1}function rW(n){return n=="start"||n=="done"}function ck(n,e){let t=n.style.display;return n.style.display=e??"none",t}function uk(n,e,t,r,i){let o=[];t.forEach(c=>o.push(ck(c)));let s=[];r.forEach((c,l)=>{let d=new Map;c.forEach(f=>{let m=e.computeStyle(l,f,i);d.set(f,m),(!m||m.length==0)&&(l[rr]=eW,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>ck(c,o[a++])),s}function lk(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Nn(n,e){n.classList?.add(e)}function ic(n,e){n.classList?.remove(e)}function iW(n,e,t){ci(t).onDone(()=>n.processLeaveNode(e))}function oW(n){let e=[];return yk(n,e),e}function yk(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof us?yk(r.players,e):e.push(r)}}function sW(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function dk(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var oc=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new JI(e.body,t,r),this._timelineEngine=new QI(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],d=fk(this._driver,o,c,l);if(c.length)throw BN(i,c);a=GG(i,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=PI(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=PI(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function aW(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=jI(e[0]),e.length>1&&(r=jI(e[e.length-1]))):e instanceof Map&&(t=jI(e)),t||r?new cW(n,t,r):null}var cW=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qi(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}}return n})();function jI(n){let e=null;return n.forEach((t,r)=>{uW(r)&&(e=e||new Map,e.set(r,t))}),e}function uW(n){return n==="display"||n==="position"}var rm=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Wg(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},im=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return xI(e,t)}getParentElement(e){return Hg(e)}query(e,t,r){return RI(e,t,r)}computeStyle(e,t,r){return Wg(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,d=s.filter(g=>g instanceof rm);ek(r,i)&&d.forEach(g=>{g.currentSnapshot.forEach((_,C)=>l.set(C,_))});let f=ZN(t).map(g=>new Map(g));f=tk(e,f,l);let m=aW(e,f);return new rm(e,f,c,m)}};var Jg="@",vk="@.disabled",om=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Jg&&t==vk?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ZI=class extends om{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Jg?t.charAt(1)=="."&&t==vk?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Jg){let o=lW(e),s=t.slice(1),a="";return s.charAt(0)!=Jg&&([s,a]=dW(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function lW(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function dW(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var sm=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,d=l.get(i);if(!d){let f=()=>l.delete(i);d=new om(r,i,this.engine,f),l.set(i,d)}return d}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new ZI(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var fW=(()=>{class n extends oc{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(W(gt),W(ps),W(gs))};static \u0275prov=z({token:n,factory:n.\u0275fac})}return n})();function pW(){return new Zg}function gW(n,e,t){return new sm(n,e,t)}var _k=[{provide:gs,useFactory:pW},{provide:oc,useClass:fW},{provide:bi,useFactory:gW,deps:[hu,oc,ke]}],gde=[{provide:ps,useClass:XI},{provide:lv,useValue:"NoopAnimations"},..._k],mW=[{provide:ps,useFactory:()=>new im},{provide:lv,useFactory:()=>"BrowserAnimations"},..._k];function Ek(){return ea("NgEagerAnimations"),[...mW]}s_(dg,{providers:[V_(IN),h_(f_()),Ek(),w1(()=>C1(Fg.firebase)),PO(()=>RO())]}).catch(n=>console.error(n));
