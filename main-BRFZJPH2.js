var EO=Object.defineProperty,wO=Object.defineProperties;var IO=Object.getOwnPropertyDescriptors;var nl=Object.getOwnPropertySymbols;var nb=Object.prototype.hasOwnProperty,rb=Object.prototype.propertyIsEnumerable;var tb=(n,e,t)=>e in n?EO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})nb.call(e,t)&&tb(n,t,e[t]);if(nl)for(var t of nl(e))rb.call(e,t)&&tb(n,t,e[t]);return n},Pe=(n,e)=>wO(n,IO(e));var ug=(n,e)=>{var t={};for(var r in n)nb.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&nl)for(var r of nl(n))e.indexOf(r)<0&&rb.call(n,r)&&(t[r]=n[r]);return t};var M=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function ib(n,e){return Object.is(n,e)}var dt=null,rl=!1,dg=1,Vo=Symbol("SIGNAL");function ye(n){let e=dt;return dt=n,e}function hg(){return dt}var il={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fg(n){if(rl)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.nextProducerIndex++;if(sl(dt),e<dt.producerNode.length&&dt.producerNode[e]!==n&&Ua(dt)){let t=dt.producerNode[e];ol(t,dt.producerIndexOfThis[e])}dt.producerNode[e]!==n&&(dt.producerNode[e]=n,dt.producerIndexOfThis[e]=Ua(dt)?ub(n,dt,e):0),dt.producerLastReadVersion[e]=n.version}function ob(){dg++}function sb(n){if(!(Ua(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===dg)){if(!n.producerMustRecompute(n)&&!mg(n)){lg(n);return}n.producerRecomputeValue(n),lg(n)}}function pg(n){if(n.liveConsumerNode===void 0)return;let e=rl;rl=!0;try{for(let t of n.liveConsumerNode)t.dirty||bO(t)}finally{rl=e}}function ab(){return dt?.consumerAllowSignalWrites!==!1}function bO(n){n.dirty=!0,pg(n),n.consumerMarkedDirty?.(n)}function lg(n){n.dirty=!1,n.lastCleanEpoch=dg}function gg(n){return n&&(n.nextProducerIndex=0),ye(n)}function cb(n,e){if(ye(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ua(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ol(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function mg(n){sl(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(sb(t),r!==t.version))return!0}return!1}function yg(n){if(sl(n),Ua(n))for(let e=0;e<n.producerNode.length;e++)ol(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ub(n,e,t){if(lb(n),n.liveConsumerNode.length===0&&db(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=ub(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ol(n,e){if(lb(n),n.liveConsumerNode.length===1&&db(n))for(let r=0;r<n.producerNode.length;r++)ol(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];sl(i),i.producerIndexOfThis[r]=e}}function Ua(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function sl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function lb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function db(n){return n.producerNode!==void 0}function TO(){throw new Error}var hb=TO;function CO(n){hb(n)}function vg(n){hb=n}var DO=null;function _g(n,e){ab()||CO(n),n.equal(n.value,e)||(n.value=e,SO(n))}var Eg=Pe(U({},il),{equal:ib,value:void 0,kind:"signal"});function SO(n){n.version++,ob(),pg(n),DO?.()}function wg(n){let e=ye(null);try{return n()}finally{ye(e)}}var Ig;function ja(){return Ig}function vr(n){let e=Ig;return Ig=n,e}var al=Symbol("NotFound");function re(n){return typeof n=="function"}function Uo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var cl=Uo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function xi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof cl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fb(o)}catch(s){e=e??[],s instanceof cl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new cl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)fb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&xi(t,e)}remove(e){let{_finalizers:t}=this;t&&xi(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var bg=et.EMPTY;function ul(n){return n instanceof et||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function fb(n){re(n)?n():n.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(n,e,...t){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ll(n){jo.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(n);else throw n})}function Ni(){}var pb=Tg("C",void 0,void 0);function gb(n){return Tg("E",void 0,n)}function mb(n){return Tg("N",n,void 0)}function Tg(n,e,t){return{kind:n,value:e,error:t}}var Oi=null;function Bo(n){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Oi;if(Oi=null,t)throw r}}else n()}function yb(n){Tn.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=n)}var ki=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ul(e)&&e.add(this)):this.destination=FO}static create(e,t,r){return new $o(e,t,r)}next(e){this.isStopped?Dg(mb(e),this):this._next(e)}error(e){this.isStopped?Dg(gb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Dg(pb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OO=Function.prototype.bind;function Cg(n,e){return OO.call(n,e)}var Sg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){dl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){dl(r)}else dl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){dl(t)}}},$o=class extends ki{constructor(e,t,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cg(e.next,o),error:e.error&&Cg(e.error,o),complete:e.complete&&Cg(e.complete,o)}):i=e}this.destination=new Sg(i)}};function dl(n){Tn.useDeprecatedSynchronousErrorHandling?yb(n):ll(n)}function kO(n){throw n}function Dg(n,e){let{onStoppedNotification:t}=Tn;t&&jo.setTimeout(()=>t(n,e))}var FO={closed:!0,next:Ni,error:kO,complete:Ni};var Ho=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(n){return n}function hl(...n){return Ag(n)}function Ag(n){return n.length===0?Xt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=VO(t)?t:new $o(t,r,i);return Bo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=vb(r),new r((i,o)=>{let s=new $o({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ho](){return this}pipe(...t){return Ag(t)(this)}toPromise(t){return t=vb(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function vb(n){var e;return(e=n??Tn.Promise)!==null&&e!==void 0?e:Promise}function LO(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}function VO(n){return n&&n instanceof ki||LO(n)&&ul(n)}function Mg(n){return re(n?.lift)}function me(n){return e=>{if(Mg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(n,e,t,r,i){return new Rg(n,e,t,r,i)}var Rg=class extends ki{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zo(){return me((n,e)=>{let t=null;n._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qo=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Mg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(Te(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return zo()(this)}};var _b=Uo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var De=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new fl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new _b}next(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?bg:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,xi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new fl(e,t),n})(),fl=class extends De{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:bg}};var It=class extends De{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pg={now(){return(Pg.delegate||Date).now()},delegate:void 0};var pl=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var Ba={setInterval(n,e,...t){let{delegate:r}=Ba;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Ba;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Wo=class extends pl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Ba.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Ba.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,xi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Go=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Go.now=Pg.now;var Ko=class extends Go{constructor(e,t=Go.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Qo=new Ko(Wo),xg=Qo;var gl=class extends Wo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ml=class extends Ko{};var Ng=new ml(gl);var Mt=new de(n=>n.complete());function yl(n){return n&&re(n.schedule)}function Og(n){return n[n.length-1]}function Eb(n){return re(Og(n))?n.pop():void 0}function zn(n){return yl(Og(n))?n.pop():void 0}function wb(n,e){return typeof Og(n)=="number"?n.pop():e}function kg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function Ib(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(n){return this instanceof Fi?(this.v=n,this):new Fi(n)}function Tb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(_){return Promise.resolve(_).then(g,p)}}function a(g,_){r[g]&&(i[g]=function(T){return new Promise(function(A,O){o.push([g,T,A,O])>1||c(g,T)})},_&&(i[g]=_(i[g])))}function c(g,_){try{l(r[g](_))}catch(T){m(o[0][3],T)}}function l(g){g.value instanceof Fi?Promise.resolve(g.value.v).then(h,p):m(o[0][2],g)}function h(g){c("next",g)}function p(g){c("throw",g)}function m(g,_){g(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Cb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Ib=="function"?Ib(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Yo=n=>n&&typeof n.length=="number"&&typeof n!="function";function vl(n){return re(n?.then)}function _l(n){return re(n[Ho])}function El(n){return Symbol.asyncIterator&&re(n?.[Symbol.asyncIterator])}function wl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Il=UO();function bl(n){return re(n?.[Il])}function Tl(n){return Tb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Fi(t.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{t.releaseLock()}})}function Cl(n){return re(n?.getReader)}function He(n){if(n instanceof de)return n;if(n!=null){if(_l(n))return jO(n);if(Yo(n))return BO(n);if(vl(n))return $O(n);if(El(n))return Db(n);if(bl(n))return HO(n);if(Cl(n))return zO(n)}throw wl(n)}function jO(n){return new de(e=>{let t=n[Ho]();if(re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function BO(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function $O(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ll)})}function HO(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Db(n){return new de(e=>{qO(n,e).catch(t=>e.error(t))})}function zO(n){return Db(Tl(n))}function qO(n,e){var t,r,i,o;return bb(this,void 0,void 0,function*(){try{for(t=Cb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ei(n,e=0){return me((t,r)=>{t.subscribe(Te(r,i=>qt(r,n,()=>r.next(i),e),()=>qt(r,n,()=>r.complete(),e),i=>qt(r,n,()=>r.error(i),e)))})}function ti(n,e=0){return me((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Sb(n,e){return He(n).pipe(ti(e),ei(e))}function Ab(n,e){return He(n).pipe(ti(e),ei(e))}function Mb(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Rb(n,e){return new de(t=>{let r;return qt(t,e,()=>{r=n[Il](),qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Dl(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{qt(t,e,()=>{let r=n[Symbol.asyncIterator]();qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Pb(n,e){return Dl(Tl(n),e)}function xb(n,e){if(n!=null){if(_l(n))return Sb(n,e);if(Yo(n))return Mb(n,e);if(vl(n))return Ab(n,e);if(El(n))return Dl(n,e);if(bl(n))return Rb(n,e);if(Cl(n))return Pb(n,e)}throw wl(n)}function ke(n,e){return e?xb(n,e):He(n)}function ee(...n){let e=zn(n);return ke(n,e)}function Jo(n,e){let t=re(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Fg(n){return!!n&&(n instanceof de||re(n.lift)&&re(n.subscribe))}var _r=Uo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Nb(n){return n instanceof Date&&!isNaN(n)}function ie(n,e){return me((t,r)=>{let i=0;t.subscribe(Te(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:WO}=Array;function GO(n,e){return WO(e)?n(...e):n(e)}function Sl(n){return ie(e=>GO(n,e))}var{isArray:KO}=Array,{getPrototypeOf:QO,prototype:YO,keys:JO}=Object;function Ob(n){if(n.length===1){let e=n[0];if(KO(e))return{args:e,keys:null};if(ZO(e)){let t=JO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ZO(n){return n&&typeof n=="object"&&QO(n)===YO}function kb(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Al(...n){let e=zn(n),t=Eb(n),{args:r,keys:i}=Ob(n);if(r.length===0)return ke([],e);let o=new de(XO(r,e,i?s=>kb(i,s):Xt));return t?o.pipe(Sl(t)):o}function XO(n,e,t=Xt){return r=>{Fb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Fb(e,()=>{let l=ke(n[c],e),h=!1;l.subscribe(Te(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Fb(n,e,t){n?qt(t,n,e):e()}function Lb(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,m=()=>{p&&!c.length&&!l&&e.complete()},g=T=>l<r?_(T):c.push(T),_=T=>{o&&e.next(T),l++;let A=!1;He(t(T,h++)).subscribe(Te(e,O=>{i?.(O),o?g(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let O=c.shift();s?qt(e,s,()=>_(O)):_(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(Te(e,g,()=>{p=!0,m()})),()=>{a?.()}}function ze(n,e,t=1/0){return re(e)?ze((r,i)=>ie((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),me((r,i)=>Lb(r,i,n,t)))}function ni(n=1/0){return ze(Xt,n)}function Vb(){return ni(1)}function ri(...n){return Vb()(ke(n,zn(n)))}function Ml(n){return new de(e=>{He(n()).subscribe(e)})}var e1=["addListener","removeListener"],t1=["addEventListener","removeEventListener"],n1=["on","off"];function $a(n,e,t,r){if(re(t)&&(r=t,t=void 0),r)return $a(n,e,t).pipe(Sl(r));let[i,o]=o1(n)?t1.map(s=>a=>n[s](e,a,t)):r1(n)?e1.map(Ub(n,e)):i1(n)?n1.map(Ub(n,e)):[];if(!i&&Yo(n))return ze(s=>$a(s,e,t))(He(n));if(!i)throw new TypeError("Invalid event target");return new de(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Ub(n,e){return t=>r=>n[t](e,r)}function r1(n){return re(n.addListener)&&re(n.removeListener)}function i1(n){return re(n.on)&&re(n.off)}function o1(n){return re(n.addEventListener)&&re(n.removeEventListener)}function jb(n=0,e,t=xg){let r=-1;return e!=null&&(yl(e)?t=e:r=e),new de(i=>{let o=Nb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Cn(...n){let e=zn(n),t=wb(n,1/0),r=n;return r.length?r.length===1?He(r[0]):ni(t)(ke(r,e)):Mt}function Ge(n,e){return me((t,r)=>{let i=0;t.subscribe(Te(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Er(n){return me((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Te(t,void 0,void 0,s=>{o=He(n(s,Er(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Rl(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(Te(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Bb(n,e){return me(Rl(n,e,arguments.length>=2,!1,!0))}var s1=(n,e)=>(n.push(e),n);function Lg(){return me((n,e)=>{Bb(s1,[])(n).subscribe(e)})}function wr(n,e){return re(e)?ze(n,e,1):ze(n,1)}function ii(n){return me((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function gt(n){return n<=0?()=>Mt:me((e,t)=>{let r=0;e.subscribe(Te(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $b(){return me((n,e)=>{n.subscribe(Te(e,Ni))})}function Hb(n){return ie(()=>n)}function Vg(n,e){return e?t=>ri(e.pipe(gt(1),$b()),t.pipe(Vg(n))):ze((t,r)=>He(n(t,r)).pipe(gt(1),Hb(t)))}function Ug(n,e=Qo){let t=jb(n,e);return Vg(()=>t)}function Pl(n=a1){return me((e,t)=>{let r=!1;e.subscribe(Te(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function a1(){return new _r}function oi(n){return me((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function en(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ge((i,o)=>n(i,o,r)):Xt,gt(1),t?ii(e):Pl(()=>new _r))}function Zo(n){return n<=0?()=>Mt:me((e,t)=>{let r=[];e.subscribe(Te(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function jg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ge((i,o)=>n(i,o,r)):Xt,Zo(1),t?ii(e):Pl(()=>new _r))}function xl(n,e){return me(Rl(n,e,arguments.length>=2,!0))}function Nl(n){return Ge((e,t)=>n<=t)}function Ol(...n){let e=zn(n);return me((t,r)=>{(e?ri(n,t,e):ri(n,t)).subscribe(r)})}function nt(n,e){return me((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Te(r,c=>{i?.unsubscribe();let l=0,h=o++;He(n(c,h)).subscribe(i=Te(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Bg(n){return me((e,t)=>{He(n).subscribe(Te(t,()=>t.complete(),Ni)),!t.closed&&e.subscribe(t)})}function oe(n,e,t){let r=re(n)||e||t?{next:n,error:e,complete:t}:n;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Te(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var UT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",N=class extends Error{code;constructor(e,t){super(u1(e,t)),this.code=e}};function c1(n){return`NG0${Math.abs(n)}`}function u1(n,e){return`${c1(n)}${e?": "+e:""}`}var jT=Symbol("InputSignalNode#UNSET"),l1=Pe(U({},Eg),{transformFn:void 0,applyValueToInputSignal(n,e){_g(n,e)}});function BT(n,e){let t=Object.create(l1);t.value=n,t.transformFn=e?.transform;function r(){if(fg(t),t.value===jT){let i=null;throw new N(-950,i)}return t.value}return r[Vo]=t,r}function oc(n){return{toString:n}.toString()}var kl="__parameters__";function d1(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function $T(n,e,t){return oc(()=>{let r=d1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(kl)?c[kl]:Object.defineProperty(c,kl,{value:[]})[kl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ir=globalThis;function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function Gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Gt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function zb(n,e){return n?e?`${n} ${e}`:n:e||""}var h1=Ve({__forward_ref__:Ve});function HT(n){return n.__forward_ref__=HT,n.toString=function(){return Gt(this())},n}function Ut(n){return zT(n)?n():n}function zT(n){return typeof n=="function"&&n.hasOwnProperty(h1)&&n.__forward_ref__===HT}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dr(n){return{providers:n.providers||[],imports:n.imports||[]}}function vd(n){return qb(n,WT)||qb(n,GT)}function qT(n){return vd(n)!==null}function qb(n,e){return n.hasOwnProperty(e)?n[e]:null}function f1(n){let e=n&&(n[WT]||n[GT]);return e||null}function Wb(n){return n&&(n.hasOwnProperty(Gb)||n.hasOwnProperty(p1))?n[Gb]:null}var WT=Ve({\u0275prov:Ve}),Gb=Ve({\u0275inj:Ve}),GT=Ve({ngInjectableDef:Ve}),p1=Ve({ngInjectorDef:Ve}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function KT(n){return n&&!!n.\u0275providers}var g1=Ve({\u0275cmp:Ve}),m1=Ve({\u0275dir:Ve}),y1=Ve({\u0275pipe:Ve}),v1=Ve({\u0275mod:Ve}),Wl=Ve({\u0275fac:Ve}),Wa=Ve({__NG_ELEMENT_ID__:Ve}),Kb=Ve({__NG_ENV_ID__:Ve});function sc(n){return typeof n=="string"?n:n==null?"":String(n)}function _1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sc(n)}function QT(n,e){throw new N(-200,n)}function cy(n,e){throw new N(-201,!1)}var pe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(pe||{}),rm;function YT(){return rm}function Wt(n){let e=rm;return rm=n,e}function JT(n,e,t){let r=vd(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&pe.Optional)return null;if(e!==void 0)return e;cy(n,"Injector")}var E1={},Vi=E1,im="__NG_DI_FLAG__",Gl=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?al:Vi,r)}},Kl="ngTempTokenPath",w1="ngTokenPath",I1=/\n/gm,b1="\u0275",Qb="__source";function T1(n,e=pe.Default){if(ja()===void 0)throw new N(-203,!1);if(ja()===null)return JT(n,void 0,e);{let t=ja(),r;return t instanceof Gl?r=t.injector:r=t,r.get(n,e&pe.Optional?null:void 0,e)}}function z(n,e=pe.Default){return(YT()||T1)(Ut(n),e)}function F(n,e=pe.Default){return z(n,_d(e))}function _d(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function om(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new N(900,!1);let i,o=pe.Default;for(let s=0;s<r.length;s++){let a=r[s],c=C1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function ZT(n,e){return n[im]=e,n.prototype[im]=e,n}function C1(n){return n[im]}function D1(n,e,t,r){let i=n[Kl];throw e[Qb]&&i.unshift(e[Qb]),n.message=S1(`
`+n.message,i,t,r),n[w1]=i,n[Kl]=null,n}function S1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==b1?n.slice(2):n;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(I1,`
  `)}`}var Jn=ZT($T("Optional"),8);var XT=ZT($T("SkipSelf"),4);function ji(n,e){let t=n.hasOwnProperty(Wl);return t?n[Wl]:null}function A1(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function M1(n){return n.flat(Number.POSITIVE_INFINITY)}function uy(n,e){n.forEach(t=>Array.isArray(t)?uy(t,e):e(t))}function eC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ql(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function R1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function P1(n,e,t){let r=ac(n,e);return r>=0?n[r|1]=t:(r=~r,R1(n,r,e,t)),r}function $g(n,e){let t=ac(n,e);if(t>=0)return n[t|1]}function ac(n,e){return x1(n,e,1)}function x1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var rs={},Sn=[],Ga=new G(""),tC=new G("",-1),nC=new G(""),Yl=class{get(e,t=Vi){if(t===Vi){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return t}};function rC(n,e){let t=n[v1]||null;if(!t&&e===!0)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return t}function is(n){return n[g1]||null}function N1(n){return n[m1]||null}function O1(n){return n[y1]||null}function ui(n){return{\u0275providers:n}}function k1(...n){return{\u0275providers:iC(!0,n),\u0275fromNgModule:!0}}function iC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return uy(e,s=>{let a=s;sm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&oC(i,o),t}function oC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ly(i,o=>{e(o,r)})}}function sm(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,o=Wb(n),s=!o&&is(n);if(!o&&!s){let c=n.ngModule;if(o=Wb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)sm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{uy(o.imports,h=>{sm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&oC(l,e)}if(!a){let l=ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:Sn},i),e({provide:nC,useValue:i,multi:!0},i),e({provide:Ga,useValue:()=>z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;ly(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ly(n,e){for(let t of n)KT(t)&&(t=t.\u0275providers),Array.isArray(t)?ly(t,e):e(t)}var F1=Ve({provide:String,useValue:Ve});function sC(n){return n!==null&&typeof n=="object"&&F1 in n}function L1(n){return!!(n&&n.useExisting)}function V1(n){return!!(n&&n.useFactory)}function os(n){return typeof n=="function"}function U1(n){return!!n.useClass}var Ed=new G(""),jl={},Yb={},Hg;function dy(){return Hg===void 0&&(Hg=new Yl),Hg}var bt=class{},Ka=class extends bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,cm(e,s=>this.processProvider(s)),this.records.set(tC,Xo(void 0,this)),i.has("environment")&&this.records.set(bt,Xo(void 0,this));let o=this.records.get(Ed);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nC,Sn,pe.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?al:Vi,r)}destroy(){za(this),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return za(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){za(this);let t=vr(this),r=Wt(void 0),i;try{return e()}finally{vr(t),Wt(r)}}get(e,t=Vi,r=pe.Default){if(za(this),e.hasOwnProperty(Kb))return e[Kb](this);r=_d(r);let i,o=vr(this),s=Wt(void 0);try{if(!(r&pe.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=z1(e)&&vd(e);l&&this.injectableDefInScope(l)?c=Xo(am(e),jl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&pe.Self?dy():this.parent;return t=r&pe.Optional&&t===Vi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Kl]=a[Kl]||[]).unshift(Gt(e)),o)throw a;return D1(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),vr(o)}}resolveInjectorInitializers(){let e=ye(null),t=vr(this),r=Wt(void 0),i;try{let o=this.get(Ga,Sn,pe.Self);for(let s of o)s()}finally{vr(t),Wt(r),ye(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ut(e);let t=os(e)?e:Ut(e&&e.provide),r=B1(e);if(!os(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Xo(void 0,jl,!0),i.factory=()=>om(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ye(null);try{return t.value===Yb?QT(Gt(e)):t.value===jl&&(t.value=Yb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&H1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ye(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function am(n){let e=vd(n),t=e!==null?e.factory:ji(n);if(t!==null)return t;if(n instanceof G)throw new N(204,!1);if(n instanceof Function)return j1(n);throw new N(204,!1)}function j1(n){if(n.length>0)throw new N(204,!1);let t=f1(n);return t!==null?()=>t.factory(n):()=>new n}function B1(n){if(sC(n))return Xo(void 0,n.useValue);{let e=aC(n);return Xo(e,jl)}}function aC(n,e,t){let r;if(os(n)){let i=Ut(n);return ji(i)||am(i)}else if(sC(n))r=()=>Ut(n.useValue);else if(V1(n))r=()=>n.useFactory(...om(n.deps||[]));else if(L1(n))r=(i,o)=>z(Ut(n.useExisting),o!==void 0&&o&pe.Optional?pe.Optional:void 0);else{let i=Ut(n&&(n.useClass||n.provide));if($1(n))r=()=>new i(...om(n.deps));else return ji(i)||am(i)}return r}function za(n){if(n.destroyed)throw new N(205,!1)}function Xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $1(n){return!!n.deps}function H1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function z1(n){return typeof n=="function"||typeof n=="object"&&n instanceof G}function cm(n,e){for(let t of n)Array.isArray(t)?cm(t,e):t&&KT(t)?cm(t.\u0275providers,e):e(t)}function Tt(n,e){let t;n instanceof Ka?(za(n),t=n):t=new Gl(n);let r,i=vr(t),o=Wt(void 0);try{return e()}finally{vr(i),Wt(o)}}function cC(){return YT()!==void 0||ja()!=null}function uC(n){if(!cC())throw new N(-203,!1)}function q1(n){return typeof n=="function"}var Sr=0,ce=1,ue=2,Pt=3,An=4,Pn=5,Qa=6,Jl=7,ht=8,ss=9,br=10,mt=11,Ya=12,Jb=13,hs=14,Mn=15,Bi=16,es=17,Tr=18,wd=19,lC=20,si=21,zg=22,Zl=23,gn=24,qg=25,xt=26,dC=1;var $i=7,Xl=8,as=9,Rt=10;function ai(n){return Array.isArray(n)&&typeof n[dC]=="object"}function Ar(n){return Array.isArray(n)&&n[dC]===!0}function hC(n){return(n.flags&4)!==0}function fs(n){return n.componentOffset>-1}function hy(n){return(n.flags&1)===1}function li(n){return!!n.template}function ed(n){return(n[ue]&512)!==0}function ps(n){return(n[ue]&256)===256}var um=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function fC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Mr=(()=>{let n=()=>pC;return n.ngInherit=!0,n})();function pC(n){return n.type.prototype.ngOnChanges&&(n.setInput=G1),W1}function W1(){let n=mC(this),e=n?.current;if(e){let t=n.previous;if(t===rs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function G1(n,e,t,r,i){let o=this.declaredInputs[r],s=mC(n)||K1(n,{previous:rs,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new um(l&&l.currentValue,t,c===rs),fC(n,e,i,t)}var gC="__ngSimpleChanges__";function mC(n){return n[gC]||null}function K1(n,e){return n[gC]=e}var Zb=null;var Ue=function(n,e=null,t){Zb?.(n,e,t)},yC="svg",Q1="math";function Wn(n){for(;Array.isArray(n);)n=n[Sr];return n}function vC(n,e){return Wn(e[n])}function Zn(n,e){return Wn(e[n.index])}function fy(n,e){return n.data[e]}function py(n,e){return n[e]}function Y1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Gn(n,e){let t=e[n];return ai(t)?t:t[Sr]}function J1(n){return(n[ue]&4)===4}function gy(n){return(n[ue]&128)===128}function Z1(n){return Ar(n[Pt])}function cs(n,e){return e==null?null:n[e]}function _C(n){n[es]=0}function EC(n){n[ue]&1024||(n[ue]|=1024,gy(n)&&bd(n))}function X1(n,e){for(;n>0;)e=e[hs],n--;return e}function Id(n){return!!(n[ue]&9216||n[gn]?.dirty)}function lm(n){n[br].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),Id(n)&&bd(n)}function bd(n){n[br].changeDetectionScheduler?.notify(0);let e=Hi(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!gy(e)));)e=Hi(e)}function wC(n,e){if(ps(n))throw new N(911,!1);n[si]===null&&(n[si]=[]),n[si].push(e)}function ek(n,e){if(n[si]===null)return;let t=n[si].indexOf(e);t!==-1&&n[si].splice(t,1)}function Hi(n){let e=n[Pt];return Ar(e)?e[Pt]:e}function my(n){return n[Jl]??=[]}function yy(n){return n.cleanup??=[]}function tk(n,e,t,r){let i=my(e);i.push(t),n.firstCreatePass&&yy(n).push(r,i.length-1)}var ge={lFrame:MC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var dm=!1;function nk(){return ge.lFrame.elementDepthCount}function rk(){ge.lFrame.elementDepthCount++}function ik(){ge.lFrame.elementDepthCount--}function IC(){return ge.bindingsEnabled}function ok(){return ge.skipHydrationRootTNode!==null}function sk(n){return ge.skipHydrationRootTNode===n}function ak(){ge.skipHydrationRootTNode=null}function ve(){return ge.lFrame.lView}function Ct(){return ge.lFrame.tView}function jt(n){return ge.lFrame.contextLView=n,n[ht]}function Bt(n){return ge.lFrame.contextLView=null,n}function tn(){let n=bC();for(;n!==null&&n.type===64;)n=n.parent;return n}function bC(){return ge.lFrame.currentTNode}function ck(){let n=ge.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function cc(n,e){let t=ge.lFrame;t.currentTNode=n,t.isParent=e}function TC(){return ge.lFrame.isParent}function uk(){ge.lFrame.isParent=!1}function lk(){return ge.lFrame.contextLView}function CC(){return dm}function Xb(n){let e=dm;return dm=n,e}function Ki(){let n=ge.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function dk(n){return ge.lFrame.bindingIndex=n}function uc(){return ge.lFrame.bindingIndex++}function hk(n){let e=ge.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function fk(){return ge.lFrame.inI18n}function pk(n,e){let t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=n,hm(e)}function gk(){return ge.lFrame.currentDirectiveIndex}function hm(n){ge.lFrame.currentDirectiveIndex=n}function mk(n){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function DC(){return ge.lFrame.currentQueryIndex}function vy(n){ge.lFrame.currentQueryIndex=n}function yk(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[Pn]:null}function SC(n,e,t){if(t&pe.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&pe.Host);)if(i=yk(o),i===null||(o=o[hs],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ge.lFrame=AC();return r.currentTNode=e,r.lView=n,!0}function _y(n){let e=AC(),t=n[ce];ge.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AC(){let n=ge.lFrame,e=n===null?null:n.child;return e===null?MC(n):e}function MC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function RC(){let n=ge.lFrame;return ge.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var PC=RC;function Ey(){let n=RC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vk(n){return(ge.lFrame.contextLView=X1(n,ge.lFrame.contextLView))[ht]}function Qi(){return ge.lFrame.selectedIndex}function zi(n){ge.lFrame.selectedIndex=n}function wy(){let n=ge.lFrame;return fy(n.tView,n.selectedIndex)}function Iy(){ge.lFrame.currentNamespace=yC}function by(){_k()}function _k(){ge.lFrame.currentNamespace=null}function Ek(){return ge.lFrame.currentNamespace}var xC=!0;function Ty(){return xC}function Cy(n){xC=n}function wk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=pC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function NC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Bl(n,e,t){OC(n,e,3,t)}function $l(n,e,t,r){(n[ue]&3)===t&&OC(n,e,t,r)}function Wg(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function OC(n,e,t,r){let i=r!==void 0?n[es]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[es]+=65536),(a<o||o==-1)&&(Ik(n,t,e,c),n[es]=(n[es]&4294901760)+c+2),c++}function eT(n,e){Ue(4,n,e);let t=ye(null);try{e.call(n)}finally{ye(t),Ue(5,n,e)}}function Ik(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[es]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,eT(a,o)):eT(a,o)}var ns=-1,qi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function bk(n){return(n.flags&8)!==0}function Tk(n){return(n.flags&16)!==0}function Ck(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Dk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function kC(n){return n===3||n===4||n===6}function Dk(n){return n.charCodeAt(0)===64}function Dy(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?tT(n,t,i,null,e[++r]):tT(n,t,i,null,null))}}return n}function tT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function FC(n){return n!==ns}function td(n){return n&32767}function Sk(n){return n>>16}function nd(n,e){let t=Sk(n),r=e;for(;t>0;)r=r[hs],t--;return r}var fm=!0;function rd(n){let e=fm;return fm=n,e}var Ak=256,LC=Ak-1,VC=5,Mk=0,qn={};function Rk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Wa)&&(r=t[Wa]),r==null&&(r=t[Wa]=Mk++);let i=r&LC,o=1<<i;e.data[n+(i>>VC)]|=o}function id(n,e){let t=UC(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Gg(r.data,n),Gg(e,null),Gg(r.blueprint,null));let i=Sy(n,e),o=n.injectorIndex;if(FC(i)){let s=td(i),a=nd(i,e),c=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Gg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function UC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Sy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=zC(i),r===null)return ns;if(t++,i=i[hs],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ns}function pm(n,e,t){Rk(n,e,t)}function Pk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(kC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function jC(n,e,t){if(t&pe.Optional||n!==void 0)return n;cy(e,"NodeInjector")}function BC(n,e,t,r){if(t&pe.Optional&&r===void 0&&(r=null),(t&(pe.Self|pe.Host))===0){let i=n[ss],o=Wt(void 0);try{return i?i.get(e,r,t&pe.Optional):JT(e,r,t&pe.Optional)}finally{Wt(o)}}return jC(r,e,t)}function $C(n,e,t,r=pe.Default,i){if(n!==null){if(e[ue]&2048&&!(r&pe.Self)){let s=kk(n,e,t,r,qn);if(s!==qn)return s}let o=HC(n,e,t,r,qn);if(o!==qn)return o}return BC(e,t,r,i)}function HC(n,e,t,r,i){let o=Nk(t);if(typeof o=="function"){if(!SC(e,n,r))return r&pe.Host?jC(i,t,r):BC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&pe.Optional))cy(t);else return s}finally{PC()}}else if(typeof o=="number"){let s=null,a=UC(n,e),c=ns,l=r&pe.Host?e[Mn][Pn]:null;for((a===-1||r&pe.SkipSelf)&&(c=a===-1?Sy(n,e):e[a+8],c===ns||!rT(r,!1)?a=-1:(s=e[ce],a=td(c),e=nd(c,e)));a!==-1;){let h=e[ce];if(nT(o,a,h.data)){let p=xk(a,e,t,s,r,l);if(p!==qn)return p}c=e[a+8],c!==ns&&rT(r,e[ce].data[a+8]===l)&&nT(o,a,e)?(s=h,a=td(c),e=nd(c,e)):a=-1}}return i}function xk(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],c=r==null?fs(a)&&fm:r!=s&&(a.type&3)!==0,l=i&pe.Host&&o===a,h=Hl(a,s,t,c,l);return h!==null?Ja(e,s,h,a,i):qn}function Hl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let g=p;g<m;g++){let _=s[g];if(g<c&&t===_||g>=c&&_.type===t)return g}if(i){let g=s[c];if(g&&li(g)&&g.type===t)return c}return null}function Ja(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof qi){let a=o;a.resolving&&QT(_1(s[t]));let c=rd(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Wt(a.injectImpl):null,p=SC(n,r,pe.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&wk(t,s[t],e)}finally{h!==null&&Wt(h),rd(c),a.resolving=!1,PC()}}return o}function Nk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Wa)?n[Wa]:void 0;return typeof e=="number"?e>=0?e&LC:Ok:e}function nT(n,e,t){let r=1<<n;return!!(t[e+(n>>VC)]&r)}function rT(n,e){return!(n&pe.Self)&&!(n&pe.Host&&e)}var Ui=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return $C(this._tNode,this._lView,e,_d(r),t)}};function Ok(){return new Ui(tn(),ve())}function Ay(n){return oc(()=>{let e=n.prototype.constructor,t=e[Wl]||gm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Wl]||gm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function gm(n){return zT(n)?()=>{let e=gm(Ut(n));return e&&e()}:ji(n)}function kk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!ed(s);){let a=HC(o,s,t,r|pe.Self,qn);if(a!==qn)return a;let c=o.parent;if(!c){let l=s[lC];if(l){let h=l.get(t,qn,r);if(h!==qn)return h}c=zC(s),s=s[hs]}o=c}return i}function zC(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[Pn]:null}function Td(n){return Pk(tn(),n)}function iT(n,e=null,t=null,r){let i=qC(n,e,t,r);return i.resolveInjectorInitializers(),i}function qC(n,e=null,t=null,r,i=new Set){let o=[t||Sn,k1(n)];return r=r||(typeof n=="object"?void 0:Gt(n)),new Ka(o,e||dy(),r||null,i)}var Kt=class n{static THROW_IF_NOT_FOUND=Vi;static NULL=new Yl;static create(e,t){if(Array.isArray(e))return iT({name:""},t,e,"");{let r=e.name??"";return iT({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>z(tC)});static __NG_ELEMENT_ID__=-1};var Fk=new G("");Fk.__NG_ELEMENT_ID__=n=>{let e=tn();if(e===null)throw new N(204,!1);if(e.type&2)return e.value;if(n&pe.Optional)return null;throw new N(204,!1)};var WC=!1,gs=(()=>{class n{static __NG_ELEMENT_ID__=Lk;static __NG_ENV_ID__=t=>t}return n})(),mm=class extends gs{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return ps(t)?(e(),()=>{}):(wC(t,e),()=>ek(t,e))}};function Lk(){return new mm(ve())}var us=class{},GC=new G("",{providedIn:"root",factory:()=>!1});var KC=new G(""),QC=new G(""),Xn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new It(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),Cd=(()=>{class n{internalPendingTasks=F(Xn);scheduler=F(us);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return M(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),ym=class extends De{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,cC()&&(this.destroyRef=F(gs,{optional:!0})??void 0,this.pendingTasks=F(Xn,{optional:!0})??void 0)}emit(e){let t=ye(null);try{super.next(e)}finally{ye(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},rt=ym;function od(...n){}function YC(n){let e,t;function r(){n=od;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function oT(n){return queueMicrotask(()=>n()),()=>{n=od}}var My="isAngularZone",sd=My+"_ID",Vk=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=WC}=e;if(typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Bk(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(My)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new N(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Uk,od,od);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Uk={};function Ry(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){YC(()=>{n.callbackScheduled=!1,vm(n),n.isCheckStableRunning=!0,Ry(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),vm(n)}function Bk(n){let e=()=>{jk(n)},t=Vk++;n._inner=n._inner.fork({name:"angular",properties:{[My]:!0,[sd]:t,[sd+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if($k(c))return r.invokeTask(o,s,a,c);try{return sT(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aT(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return sT(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Hk(c)&&e(),aT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,vm(n),Ry(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function vm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function sT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aT(n){n._nesting--,Ry(n)}var _m=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function $k(n){return JC(n,"__ignore_ng_zone__")}function Hk(n){return JC(n,"__scheduler_tick__")}function JC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Rn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zk=new G("",{providedIn:"root",factory:()=>{let n=F(xe),e=F(Rn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function cT(n,e){return BT(n,e)}function qk(n){return BT(jT,n)}var ZC=(cT.required=qk,cT);function Wk(){return ms(tn(),ve())}function ms(n,e){return new nn(Zn(n,e))}var nn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Wk}return n})();function Gk(n){return n instanceof nn?n.nativeElement:n}function Kk(){return this._results[Symbol.iterator]()}var Em=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new De}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=M1(e);(this._changesDetected=!A1(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Kk};function XC(n){return(n.flags&128)===128}var eD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(eD||{}),tD=new Map,Qk=0;function Yk(){return Qk++}function Jk(n){tD.set(n[wd],n)}function wm(n){tD.delete(n[wd])}var uT="__ngContext__";function lc(n,e){ai(e)?(n[uT]=e[wd],Jk(e)):n[uT]=e}function nD(n){return iD(n[Ya])}function rD(n){return iD(n[An])}function iD(n){for(;n!==null&&!Ar(n);)n=n[An];return n}var Im;function oD(n){Im=n}function sD(){if(Im!==void 0)return Im;if(typeof document<"u")return document;throw new N(210,!1)}var Py=new G("",{providedIn:"root",factory:()=>Zk}),Zk="ng",xy=new G(""),$t=new G("",{providedIn:"platform",factory:()=>"unknown"});var Ny=new G(""),Oy=new G("",{providedIn:"root",factory:()=>sD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xk="h",eF="b";var aD=!1,tF=new G("",{providedIn:"root",factory:()=>aD});var cD=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(cD||{}),Dd=new G(""),lT=new Set;function ys(n){lT.has(n)||(lT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var nF=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var rF=(n,e,t,r)=>{};function iF(n,e,t,r){rF(n,e,t,r)}var oF=()=>null;function uD(n,e,t=!1){return oF(n,e,t)}function lD(n,e){let t=n.contentQueries;if(t!==null){let r=ye(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];vy(o),a.contentQueries(2,e[s],s)}}}finally{ye(r)}}}function bm(n,e,t){vy(0);let r=ye(null);try{e(n,t)}finally{ye(r)}}function dD(n,e,t){if(hC(e)){let r=ye(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ye(r)}}}var Kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kn||{}),Fl;function sF(){if(Fl===void 0&&(Fl=null,Ir.trustedTypes))try{Fl=Ir.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Fl}function Sd(n){return sF()?.createHTML(n)||n}var Ll;function hD(){if(Ll===void 0&&(Ll=null,Ir.trustedTypes))try{Ll=Ir.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ll}function dT(n){return hD()?.createHTML(n)||n}function hT(n){return hD()?.createScriptURL(n)||n}var ad=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UT})`}};function Ad(n){return n instanceof ad?n.changingThisBreaksApplicationSecurity:n}function ky(n,e){let t=aF(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${UT})`)}return t===e}function aF(n){return n instanceof ad&&n.getTypeName()||null}function cF(n){let e=new Cm(n);return uF()?new Tm(e):e}var Tm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Sd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Cm=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Sd(e),t}};function uF(){try{return!!new window.DOMParser().parseFromString(Sd(""),"text/html")}catch{return!1}}var lF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fD(n){return n=String(n),n.match(lF)?n:"unsafe:"+n}function Rr(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function dc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var pD=Rr("area,br,col,hr,img,wbr"),gD=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mD=Rr("rp,rt"),dF=dc(mD,gD),hF=dc(gD,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fF=dc(mD,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fT=dc(pD,hF,fF,dF),yD=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pF=Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gF=Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),mF=dc(yD,pF,gF),yF=Rr("script,style,template"),Dm=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=EF(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=_F(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=pT(e).toLowerCase();if(!fT.hasOwnProperty(t))return this.sanitizedSomething=!0,!yF.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!mF.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;yD[a]&&(c=fD(c)),this.buf.push(" ",s,'="',gT(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=pT(e).toLowerCase();fT.hasOwnProperty(t)&&!pD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gT(e))}};function vF(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function _F(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw vD(e);return e}function EF(n){let e=n.firstChild;if(e&&vF(n,e))throw vD(e);return e}function pT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function vD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var wF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IF=/([^\#-~ |!])/g;function gT(n){return n.replace(/&/g,"&amp;").replace(wF,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(IF,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vl;function bF(n,e){let t=null;try{Vl=Vl||cF(n);let r=e?String(e):"";t=Vl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Vl.getInertBodyElement(r)}while(r!==o);let a=new Dm().sanitizeChildren(mT(t)||t);return Sd(a)}finally{if(t){let r=mT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function mT(n){return"content"in n&&TF(n)?n.content:null}function TF(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Md=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Md||{});function rn(n){let e=Fy();return e?dT(e.sanitize(Md.HTML,n)||""):ky(n,"HTML")?dT(Ad(n)):bF(sD(),sc(n))}function xn(n){let e=Fy();return e?e.sanitize(Md.URL,n)||"":ky(n,"URL")?Ad(n):fD(sc(n))}function CF(n){let e=Fy();if(e)return hT(e.sanitize(Md.RESOURCE_URL,n)||"");if(ky(n,"ResourceURL"))return hT(Ad(n));throw new N(904,!1)}function DF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?CF:xn}function _D(n,e,t){return DF(e,t)(n)}function Fy(){let n=ve();return n&&n[br].sanitizer}function ED(n){return n.ownerDocument}function wD(n){return n instanceof Function?n():n}function SF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var ID="ng-template";function AF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Ly(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ly(n){return n.type===4&&n.value!==ID}function MF(n,e,t){let r=n.type===4&&!t?ID:n.value;return e===r}function RF(n,e,t){let r=4,i=n.attrs,o=i!==null?NF(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Dn(r)&&!Dn(c))return!1;if(s&&Dn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!MF(n,c,t)||c===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!AF(n,i,c,t)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],h=PF(c,i,Ly(n),t);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(n){return(n&1)===0}function PF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return OF(e,n)}function xF(n,e,t=!1){for(let r=0;r<e.length;r++)if(RF(n,e[r],t))return!0;return!1}function NF(n){for(let e=0;e<n.length;e++){let t=n[e];if(kC(t))return e}return n.length}function OF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function yT(n,e){return n?":not("+e.trim()+")":e}function kF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=yT(o,i),i=""),r=s,o=o||!Dn(r);t++}return i!==""&&(e+=yT(o,i)),e}function FF(n){return n.map(kF).join(",")}function LF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Dn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var er={};function VF(n,e){return n.createText(e)}function UF(n,e,t){n.setValue(e,t)}function bD(n,e,t){return n.createElement(e,t)}function cd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function TD(n,e,t){n.appendChild(e,t)}function vT(n,e,t,r,i){r!==null?cd(n,e,t,r,i):TD(n,e,t)}function jF(n,e,t){n.removeChild(null,e,t)}function BF(n,e,t){n.setAttribute(e,"style",t)}function $F(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function CD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ck(n,e,r),i!==null&&$F(n,e,i),o!==null&&BF(n,e,o)}function Vy(n,e,t,r,i,o,s,a,c,l,h){let p=xt+r,m=p+i,g=HF(p,m),_=typeof l=="function"?l():l;return g[ce]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:h}}function HF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:er);return t}function zF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Vy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Uy(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[Sr]=i,p[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(p[ue]|=2048),_C(p),p[Pt]=p[hs]=n,p[ht]=t,p[br]=s||n&&n[br],p[mt]=a||n&&n[mt],p[ss]=c||n&&n[ss]||null,p[Pn]=o,p[wd]=Yk(),p[Qa]=h,p[lC]=l,p[Mn]=e.type==2?n[Mn]:p,p}function qF(n,e,t){let r=Zn(e,n),i=zF(t),o=n[br].rendererFactory,s=jy(n,Uy(n,i,null,DD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function DD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function SD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function jy(n,e){return n[Ya]?n[Jb][An]=e:n[Ya]=e,n[Jb]=e,e}function V(n=1){AD(Ct(),ve(),Qi()+n,!1)}function AD(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Bl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&$l(e,o,0,t)}zi(t)}var Rd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Rd||{});function Sm(n,e,t,r){let i=ye(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Rd.SignalBased)!==0&&(c=e[o][Vo]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):fC(e,c,o,r)}finally{ye(i)}}function MD(n,e,t,r,i){let o=Qi(),s=r&2;try{zi(-1),s&&e.length>xt&&AD(n,e,xt,!1),Ue(s?2:0,i),t(r,i)}finally{zi(o),Ue(s?3:1,i)}}function By(n,e,t){JF(n,e,t),(t.flags&64)===64&&ZF(n,e,t)}function RD(n,e,t=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function WF(n,e,t,r){let o=r.get(tF,aD)||t===Kn.ShadowDom,s=n.selectRootElement(e,o);return GF(s),s}function GF(n){KF(n)}var KF=()=>null;function QF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PD(n,e,t,r,i,o,s,a){if(!a&&$y(e,n,t,r,i)){fs(e)&&YF(t,e.index);return}if(e.type&3){let c=Zn(e,t);r=QF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function YF(n,e){let t=Gn(e,n);t[ue]&16||(t[ue]|=64)}function JF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;fs(t)&&qF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||id(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Ja(e,n,s,t);if(lc(c,e),o!==null&&nL(e,s-r,c,a,t,o),li(a)){let l=Gn(t.index,e);l[ht]=Ja(e,n,s,t)}}}function ZF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=gk();try{zi(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];hm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&XF(c,l)}}finally{zi(-1),hm(s)}}function XF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function xD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];xF(e,o.selectors,!1)&&(r??=[],li(o)?r.unshift(o):r.push(o))}return r}function eL(n,e,t,r,i,o){let s=Zn(n,e);tL(e[mt],s,o,n.value,t,r,i)}function tL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?sc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function nL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];Sm(r,t,c,l)}}function rL(n,e){let t=n[ss],r=t?t.get(Rn,null):null;r&&r.handleError(e)}function $y(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];Sm(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];Sm(h,l,r,i),a=!0}return a}function iL(n,e){let t=Gn(e,n),r=t[ce];oL(r,t);let i=t[Sr];i!==null&&t[Qa]===null&&(t[Qa]=uD(i,t[ss])),Ue(18),Hy(r,t,t[ht]),Ue(19,t[ht])}function oL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Hy(n,e,t){_y(e);try{let r=n.viewQuery;r!==null&&bm(1,r,t);let i=n.template;i!==null&&MD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tr]?.finishViewCreation(n),n.staticContentQueries&&lD(n,e),n.staticViewQueries&&bm(2,n.viewQuery,t);let o=n.components;o!==null&&sL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,Ey()}}function sL(n,e){for(let t=0;t<e.length;t++)iL(n,e[t])}function Pd(n,e,t,r){let i=ye(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=Uy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Bi]=l;let h=n[Tr];return h!==null&&(c[Tr]=h.createEmbeddedView(o)),Hy(o,c,t),c}finally{ye(i)}}function Za(n,e){return!e||e.firstChild===null||XC(n)}var aL;function zy(n,e){return aL(n,e)}var Qn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qn||{});function ND(n){return(n.flags&32)===32}function ts(n,e,t,r,i){if(r!=null){let o,s=!1;Ar(r)?o=r:ai(r)&&(s=!0,r=r[Sr]);let a=Wn(r);n===0&&t!==null?i==null?TD(e,t,a):cd(e,t,a,i||null,!0):n===1&&t!==null?cd(e,t,a,i||null,!0):n===2?jF(e,a,s):n===3&&e.destroyNode(a),o!=null&&_L(e,n,o,t,i)}}function cL(n,e){OD(n,e),e[Sr]=null,e[Pn]=null}function uL(n,e,t,r,i,o){r[Sr]=i,r[Pn]=e,Nd(n,r,t,1,i,o)}function OD(n,e){e[br].changeDetectionScheduler?.notify(9),Nd(n,e,e[mt],2,null,null)}function lL(n){let e=n[Ya];if(!e)return Kg(n[ce],n);for(;e;){let t=null;if(ai(e))t=e[Ya];else{let r=e[Rt];r&&(t=r)}if(!t){for(;e&&!e[An]&&e!==n;)ai(e)&&Kg(e[ce],e),e=e[Pt];e===null&&(e=n),ai(e)&&Kg(e[ce],e),t=e&&e[An]}e=t}}function qy(n,e){let t=n[as],r=t.indexOf(e);t.splice(r,1)}function xd(n,e){if(ps(e))return;let t=e[mt];t.destroyNode&&Nd(n,e,t,3,null,null),lL(e)}function Kg(n,e){if(ps(e))return;let t=ye(null);try{e[ue]&=-129,e[ue]|=256,e[gn]&&yg(e[gn]),hL(n,e),dL(n,e),e[ce].type===1&&e[mt].destroy();let r=e[Bi];if(r!==null&&Ar(e[Pt])){r!==e[Pt]&&qy(r,e);let i=e[Tr];i!==null&&i.detachView(n)}wm(e)}finally{ye(t)}}function dL(n,e){let t=n.cleanup,r=e[Jl];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Jl]=null);let i=e[si];if(i!==null){e[si]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Zl];if(o!==null){e[Zl]=null;for(let s of o)s.destroy()}}function hL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,i,o);try{o.call(i)}finally{Ue(5,i,o)}}}}}function fL(n,e,t){return pL(n,e.parent,t)}function pL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Sr];if(fs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Kn.None||i===Kn.Emulated)return null}return Zn(r,t)}function gL(n,e,t){return yL(n,e,t)}function mL(n,e,t){return n.type&40?Zn(n,t):null}var yL=mL,_T;function Wy(n,e,t,r){let i=fL(n,r,e),o=e[mt],s=r.parent||e[Pn],a=gL(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)vT(o,i,t[c],a,!1);else vT(o,i,t,a,!1);_T!==void 0&&_T(o,r,e,t,i)}function qa(n,e){if(e!==null){let t=e.type;if(t&3)return Zn(e,n);if(t&4)return Am(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return qa(n,r);{let i=n[e.index];return Ar(i)?Am(-1,i):Wn(i)}}else{if(t&128)return qa(n,e.next);if(t&32)return zy(e,n)()||Wn(n[e.index]);{let r=kD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hi(n[Mn]);return qa(i,r)}else return qa(n,e.next)}}}return null}function kD(n,e){if(e!==null){let r=n[Mn][Pn],i=e.projection;return r.projection[i]}return null}function Am(n,e){let t=Rt+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return qa(r,i)}return e[$i]}function Gy(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&lc(Wn(a),r),t.flags|=2),!ND(t))if(c&8)Gy(n,e,t.child,r,i,o,!1),ts(e,n,i,a,o);else if(c&32){let l=zy(t,r),h;for(;h=l();)ts(e,n,i,h,o);ts(e,n,i,a,o)}else c&16?vL(n,e,r,t,i,o):ts(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Nd(n,e,t,r,i,o){Gy(t,r,n.firstChild,e,i,o,!1)}function vL(n,e,t,r,i,o){let s=t[Mn],c=s[Pn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];ts(e,n,i,h,o)}else{let l=c,h=s[Pt];XC(r)&&(l.flags|=128),Gy(n,e,l,h,i,o,!0)}}function _L(n,e,t,r,i){let o=t[$i],s=Wn(t);o!==s&&ts(e,n,r,o,i);for(let a=Rt;a<t.length;a++){let c=t[a];Nd(c[ce],c,n,e,r,o)}}function EL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qn.Important),n.setStyle(t,r,i,o))}}function ud(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Wn(o)),Ar(o)&&wL(o,r);let s=t.type;if(s&8)ud(n,e,t.child,r);else if(s&32){let a=zy(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=kD(e,t);if(Array.isArray(a))r.push(...a);else{let c=Hi(e[Mn]);ud(c[ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wL(n,e){for(let t=Rt;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&ud(r[ce],r,i,e)}n[$i]!==n[Sr]&&e.push(n[$i])}function FD(n){if(n[qg]!==null){for(let e of n[qg])e.impl.addSequence(e);n[qg].length=0}}var LD=[];function IL(n){return n[gn]??bL(n)}function bL(n){let e=LD.pop()??Object.create(CL);return e.lView=n,e}function TL(n){n.lView[gn]!==n&&(n.lView=null,LD.push(n))}var CL=Pe(U({},il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{bd(n.lView)},consumerOnSignalRead(){this.lView[gn]=this}});function DL(n){let e=n[gn]??Object.create(SL);return e.lView=n,e}var SL=Pe(U({},il),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Hi(n.lView);for(;e&&!VD(e[ce]);)e=Hi(e);e&&EC(e)},consumerOnSignalRead(){this.lView[gn]=this}});function VD(n){return n.type!==2}function UD(n){if(n[Zl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Zl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var AL=100;function jD(n,e=!0,t=0){let i=n[br].rendererFactory,o=!1;o||i.begin?.();try{ML(n,t)}catch(s){throw e&&rL(n,s),s}finally{o||i.end?.()}}function ML(n,e){let t=CC();try{Xb(!0),Mm(n,e);let r=0;for(;Id(n);){if(r===AL)throw new N(103,!1);r++,Mm(n,1)}}finally{Xb(t)}}function RL(n,e,t,r){if(ps(e))return;let i=e[ue],o=!1,s=!1;_y(e);let a=!0,c=null,l=null;o||(VD(n)?(l=IL(e),c=gg(l)):hg()===null?(a=!1,l=DL(e),c=gg(l)):e[gn]&&(yg(e[gn]),e[gn]=null));try{_C(e),dk(n.bindingStartIndex),t!==null&&MD(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let g=n.preOrderCheckHooks;g!==null&&Bl(e,g,null)}else{let g=n.preOrderHooks;g!==null&&$l(e,g,0,null),Wg(e,0)}if(s||PL(e),UD(e),BD(e,0),n.contentQueries!==null&&lD(n,e),!o)if(h){let g=n.contentCheckHooks;g!==null&&Bl(e,g)}else{let g=n.contentHooks;g!==null&&$l(e,g,1),Wg(e,1)}NL(n,e);let p=n.components;p!==null&&HD(e,p,0);let m=n.viewQuery;if(m!==null&&bm(2,m,r),!o)if(h){let g=n.viewCheckHooks;g!==null&&Bl(e,g)}else{let g=n.viewHooks;g!==null&&$l(e,g,2),Wg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zg]){for(let g of e[zg])g();e[zg]=null}o||(FD(e),e[ue]&=-73)}catch(h){throw o||bd(e),h}finally{l!==null&&(cb(l,c),a&&TL(l)),Ey()}}function BD(n,e){for(let t=nD(n);t!==null;t=rD(t))for(let r=Rt;r<t.length;r++){let i=t[r];$D(i,e)}}function PL(n){for(let e=nD(n);e!==null;e=rD(e)){if(!(e[ue]&2))continue;let t=e[as];for(let r=0;r<t.length;r++){let i=t[r];EC(i)}}}function xL(n,e,t){Ue(18);let r=Gn(e,n);$D(r,t),Ue(19,r[ht])}function $D(n,e){gy(n)&&Mm(n,e)}function Mm(n,e){let r=n[ce],i=n[ue],o=n[gn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&mg(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)RL(r,n,r.template,n[ht]);else if(i&8192){UD(n),BD(n,1);let a=r.components;a!==null&&HD(n,a,1),FD(n)}}function HD(n,e,t){for(let r=0;r<e.length;r++)xL(n,e[r],t)}function NL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)zi(~i);else{let o=i,s=t[++r],a=t[++r];pk(s,o);let c=e[o];Ue(24,c),a(2,c),Ue(25,c)}}}finally{zi(-1)}}function Ky(n,e){let t=CC()?64:1088;for(n[br].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=Hi(n);if(ed(n)&&!r)return n;n=r}return null}function zD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function qD(n,e){let t=Rt+e;if(t<n.length)return n[t]}function Od(n,e,t,r=!0){let i=e[ce];if(OL(i,e,n,t),r){let s=Am(t,n),a=e[mt],c=a.parentNode(n[$i]);c!==null&&uL(i,n[Pn],a,e,c,s)}let o=e[Qa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function WD(n,e){let t=Xa(n,e);return t!==void 0&&xd(t[ce],t),t}function Xa(n,e){if(n.length<=Rt)return;let t=Rt+e,r=n[t];if(r){let i=r[Bi];i!==null&&i!==n&&qy(i,r),e>0&&(n[t-1][An]=r[An]);let o=Ql(n,Rt+e);cL(r[ce],r);let s=o[Tr];s!==null&&s.detachView(o[ce]),r[Pt]=null,r[An]=null,r[ue]&=-129}return r}function OL(n,e,t,r){let i=Rt+r,o=t.length;r>0&&(t[i-1][An]=e),r<o-Rt?(e[An]=t[i],eC(t,Rt+r,e)):(t.push(e),e[An]=null),e[Pt]=t;let s=e[Bi];s!==null&&t!==s&&GD(s,e);let a=e[Tr];a!==null&&a.insertView(n),lm(e),e[ue]|=128}function GD(n,e){let t=n[as],r=e[Pt];if(ai(r))n[ue]|=2;else{let i=r[Pt][Mn];e[Mn]!==i&&(n[ue]|=2)}t===null?n[as]=[e]:t.push(e)}var ec=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ce];return ud(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return ps(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Ar(e)){let t=e[Xl],r=t?t.indexOf(this):-1;r>-1&&(Xa(e,r),Ql(t,r))}this._attachedToViewContainer=!1}xd(this._lView[ce],this._lView)}onDestroy(e){wC(this._lView,e)}markForCheck(){Ky(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){lm(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,jD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ed(this._lView),t=this._lView[Bi];t!==null&&!e&&qy(t,this._lView),OD(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=e;let t=ed(this._lView),r=this._lView[Bi];r!==null&&!t&&GD(r,this._lView),lm(this._lView)}};var Cr=(()=>{class n{static __NG_ELEMENT_ID__=LL}return n})(),kL=Cr,FL=class extends kL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Pd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ec(i)}};function LL(){return kd(tn(),ve())}function kd(n,e){return n.type&4?new FL(e,n,ms(n,e)):null}function Qy(n,e,t,r,i){let o=n.data[e];if(o===null)o=VL(n,e,t,r,i),fk()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=ck();o.injectorIndex=s===null?-1:s.injectorIndex}return cc(o,!0),o}function VL(n,e,t,r,i){let o=bC(),s=TC(),a=s?o:o&&o.parent,c=n.data[e]=jL(n,a,t,e,r,i);return UL(n,c,o,s),c}function UL(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function jL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ok()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var EQ=new RegExp(`^(\\d+)*(${eF}|${Xk})*(.*)`);var BL=()=>null;function tc(n,e){return BL(n,e)}var $L=class{},KD=class{},Rm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Gt(e)}.`)}},Fd=class{static NULL=new Rm},ci=class{},tr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>HL()}return n})();function HL(){let n=ve(),e=tn(),t=Gn(e.index,n);return(ai(t)?t:n)[mt]}var zL=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Qg={},Pm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=_d(r);let i=this.injector.get(e,Qg,r);return i!==Qg||t===Qg?i:this.parentInjector.get(e,t,r)}};function ET(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=zb(i,a);else if(o==2){let c=a,l=e[++s];r=zb(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Q(n,e=pe.Default){let t=ve();if(t===null)return z(n,e);let r=tn();return $C(r,t,Ut(n),e)}function QD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,h=WL(s);h===null?a=s:[a,c,l]=h,QL(n,e,t,a,o,c,l)}o!==null&&r!==null&&qL(t,r,o)}function qL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new N(-301,!1);r.push(e[i],o)}}function WL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&li(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,GL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function GL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function KL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function QL(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let g=r[m];!c&&li(g)&&(c=!0,KL(n,t,m)),pm(id(t,e),n,g.type)}t2(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let l=!1,h=!1,p=SD(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Dy(t.mergedAttrs,g.hostAttrs),JL(n,t,e,p,g),e2(p,g,i),s!==null&&s.has(g)){let[T,A]=s.get(g);t.directiveToIndex.set(g.type,[p,T+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let _=g.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}YL(n,t,o)}function YL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))wT(0,e,i,r),wT(1,e,i,r),bT(e,r,!1);else{let o=t.get(i);IT(0,e,o,r),IT(1,e,o,r),bT(e,r,!0)}}}function wT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),YD(e,o)}}function IT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),YD(e,s)}}function YD(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function bT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Ly(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function JL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=ji(i.type,!0)),s=new qi(o,li(i),Q);n.blueprint[r]=s,t[r]=s,ZL(n,e,r,SD(n,t,i.hostVars,er),i)}function ZL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;XL(s)!=a&&s.push(a),s.push(t,r,o)}}function XL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function e2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;li(e)&&(t[""]=n)}}function t2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function JD(n,e,t,r,i,o,s,a){let c=e.consts,l=cs(c,s),h=Qy(e,n,2,r,l);return o&&QD(e,t,h,cs(c,a),i),h.mergedAttrs=Dy(h.mergedAttrs,h.attrs),h.attrs!==null&&ET(h,h.attrs,!1),h.mergedAttrs!==null&&ET(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function ZD(n,e){NC(n,e),hC(e)&&n.queries.elementEnd(e)}var ld=class extends Fd{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=is(e);return new nc(t,this.ngModule)}};function n2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Rd.SignalBased)!==0};return i&&(o.transform=i),o})}function r2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function i2(n,e,t){let r=e instanceof bt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Pm(t,r):t}function o2(n){let e=n.get(ci,null);if(e===null)throw new N(407,!1);let t=n.get(zL,null),r=n.get(us,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function s2(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return bD(e,t,t==="svg"?yC:t==="math"?Q1:null)}var nc=class extends KD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=n2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=r2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=FF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ue(22);let o=ye(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:LF(this.componentDef.selectors[0]),c=Vy(0,null,null,1,0,null,null,null,null,[a],null),l=i2(s,i||this.ngModule,e),h=o2(l),p=h.rendererFactory.createRenderer(null,s),m=r?WF(p,r,s.encapsulation,l):s2(s,p),g=Uy(null,c,null,512|DD(s),null,null,h,p,l,null,uD(m,l,!0));g[xt]=m,_y(g);let _=null;try{let T=JD(xt,c,g,"#host",()=>[this.componentDef],!0,0);m&&(CD(p,m,T),lc(m,g)),By(c,g,T),dD(c,T,g),ZD(c,T),t!==void 0&&a2(T,this.ngContentSelectors,t),_=Gn(T.index,g),g[ht]=_[ht],Hy(c,g,null)}catch(T){throw _!==null&&wm(_),wm(g),T}finally{Ue(23),Ey()}return new xm(this.componentType,g)}finally{ye(o)}}},xm=class extends $L{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=fy(t[ce],xt),this.location=ms(this._tNode,t),this.instance=Gn(this._tNode.index,t)[ht],this.hostView=this.changeDetectorRef=new ec(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=$y(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let s=Gn(r.index,i);Ky(s,1)}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function a2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Pr=(()=>{class n{static __NG_ELEMENT_ID__=c2}return n})();function c2(){let n=tn();return eS(n,ve())}var u2=Pr,XD=class extends u2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ms(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=Sy(this._hostTNode,this._hostLView);if(FC(e)){let t=nd(e,this._hostLView),r=td(e),i=t[ce].data[r+8];return new Ui(i,t)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=TT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Za(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!q1(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new nc(is(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let T=(s?l:this.parentInjector).get(bt,null);T&&(o=T)}let h=is(c.componentType??{}),p=tc(this._lContainer,h?.id??null),m=p?.firstChild??null,g=c.create(l,i,m,o);return this.insertImpl(g.hostView,a,Za(this._hostTNode,p)),g}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Z1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pt],l=new XD(c,c[Pn],c[Pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Od(s,i,o,r),e.attachToViewContainerRef(),eC(Yg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=TT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Xa(this._lContainer,t);r&&(Ql(Yg(this._lContainer),t),xd(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Xa(this._lContainer,t);return r&&Ql(Yg(this._lContainer),t)!=null?new ec(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function TT(n){return n[Xl]}function Yg(n){return n[Xl]||(n[Xl]=[])}function eS(n,e){let t,r=e[n.index];return Ar(r)?t=r:(t=zD(r,e,null,n),e[n.index]=t,jy(e,t)),d2(t,e,n,r),new XD(t,n,e)}function l2(n,e){let t=n[mt],r=t.createComment(""),i=Zn(e,n),o=t.parentNode(i);return cd(t,o,r,t.nextSibling(i),!1),r}var d2=p2,h2=()=>!1;function f2(n,e,t){return h2(n,e,t)}function p2(n,e,t,r){if(n[$i])return;let i;t.type&8?i=Wn(r):i=l2(e,t),n[$i]=i}var Nm=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Om=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Yy(e,t).matches!==null&&this.queries[t].setDirty()}},dd=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=I2(e):this.predicate=e}},km=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,g2(t,o)),this.matchTNodeWithReadOption(e,t,Hl(t,e,o,!1,!1))}else r===Cr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Hl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===nn||i===Pr||i===Cr&&t.type&4)this.addMatch(t.index,-2);else{let o=Hl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function g2(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function m2(n,e){return n.type&11?ms(n,e):n.type&4?kd(n,e):null}function y2(n,e,t,r){return t===-1?m2(e,n):t===-2?v2(n,e,r):Ja(n,n[ce],t,e)}function v2(n,e,t){if(t===nn)return ms(e,n);if(t===Cr)return kd(e,n);if(t===Pr)return eS(e,n)}function tS(n,e,t,r){let i=e[Tr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(y2(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Lm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=tS(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=Rt;p<h.length;p++){let m=h[p];m[Bi]===m[Pt]&&Lm(m[ce],m,l,r)}if(h[as]!==null){let p=h[as];for(let m=0;m<p.length;m++){let g=p[m];Lm(g[ce],g,l,r)}}}}}return r}function _2(n,e){return n[Tr].queries[e].queryList}function nS(n,e,t){let r=new Em((t&4)===4);return tk(n,e,r,r.destroy),(e[Tr]??=new Om).queries.push(new Nm(r))-1}function E2(n,e,t){let r=Ct();return r.firstCreatePass&&(rS(r,new dd(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),nS(r,ve(),e)}function w2(n,e,t,r){let i=Ct();if(i.firstCreatePass){let o=tn();rS(i,new dd(e,t,r),o.index),b2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return nS(i,ve(),t)}function I2(n){return n.split(",").map(e=>e.trim())}function rS(n,e,t){n.queries===null&&(n.queries=new km),n.queries.track(new Fm(e,t))}function b2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Yy(n,e){return n.queries.getByIndex(e)}function T2(n,e){let t=n[ce],r=Yy(t,e);return r.crossesNgTemplate?Lm(t,n,e,[]):tS(t,n,r,e)}var ls=class{},Jy=class{};var Vm=class extends ls{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ld(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=rC(e);this._bootstrapComponents=wD(o.bootstrap),this._r3Injector=qC(e,t,[{provide:ls,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Um=class extends Jy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Vm(this.moduleType,e,[])}};var hd=class extends ls{injector;componentFactoryResolver=new ld(this);instance=null;constructor(e){super();let t=new Ka([...e.providers,{provide:ls,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],e.parent||dy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ld(n,e,t=null){return new hd({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var C2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=iC(!1,t.type),i=r.length>0?Ld([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(z(bt))})}return n})();function ft(n){return oc(()=>{let e=iS(n),t=Pe(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===eD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(C2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kn.Emulated,styles:n.styles||Sn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ys("NgStandalone"),oS(t);let r=n.dependencies;return t.directiveDefs=CT(r,!1),t.pipeDefs=CT(r,!0),t.id=R2(t),t})}function D2(n){return is(n)||N1(n)}function S2(n){return n!==null}function xr(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||Sn,declarations:n.declarations||Sn,imports:n.imports||Sn,exports:n.exports||Sn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function A2(n,e){if(n==null)return rs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Rd.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function M2(n){if(n==null)return rs;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function on(n){return oc(()=>{let e=iS(n);return oS(e),e})}function hc(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function iS(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||rs,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Sn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A2(n.inputs,e),outputs:M2(n.outputs),debugInfo:null}}function oS(n){n.features?.forEach(e=>e(n))}function CT(n,e){if(!n)return null;let t=e?O1:D2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(S2)}function R2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sS(n){return Zy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function P2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Zy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function fc(n,e,t){return n[e]=t}function aS(n,e){return n[e]}function Yn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function jm(n,e,t,r){let i=Yn(n,e,t);return Yn(n,e+1,r)||i}function cS(n,e,t,r,i,o){let s=jm(n,e,t,r);return jm(n,e+2,i,o)||s}function x2(n,e,t,r,i,o,s,a,c){let l=e.consts,h=Qy(e,n,4,s||null,a||null);IC()&&QD(e,t,h,cs(l,c),xD),h.mergedAttrs=Dy(h.mergedAttrs,h.attrs),NC(e,h);let p=h.tView=Vy(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Bm(n,e,t,r,i,o,s,a,c,l){let h=t+xt,p=e.firstCreatePass?x2(h,e,n,r,i,o,s,a,c):e.data[h];cc(p,!1);let m=N2(e,n,p,t);Ty()&&Wy(e,n,m,p),lc(m,n);let g=zD(m,n,m,p);return n[h]=g,jy(n,g),f2(g,p,n),hy(p)&&By(e,n,p),c!=null&&RD(n,p,l),p}function Ee(n,e,t,r,i,o,s,a){let c=ve(),l=Ct(),h=cs(l.consts,o);return Bm(c,l,n,e,t,r,i,h,s,a),Ee}var N2=O2;function O2(n,e,t,r){return Cy(!0),e[mt].createComment("")}var uS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var lS=new G("");var k2=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new $m})}return n})(),$m=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function vs(n){return!!n&&typeof n.then=="function"}function Xy(n){return!!n&&typeof n.subscribe=="function"}var F2=new G("");var dS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(F2,{optional:!0})??[];injector=F(Kt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(vs(o))t.push(o);else if(Xy(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ev=new G("");function L2(){vg(()=>{throw new N(600,!1)})}function V2(n){return n.isBoundToModule}var U2=10;var Wi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(zk);afterRenderManager=F(nF);zonelessEnabled=F(GC);rootEffectScheduler=F(k2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new De;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(Xn).hasPendingTasks.pipe(ie(t=>!t));constructor(){F(Dd,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Kt.NULL){Ue(10);let o=t instanceof KD;if(!this._injector.get(dS).done){let g="";throw new N(405,g)}let a;o?a=t:a=this._injector.get(Fd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=V2(a)?void 0:this._injector.get(ls),l=r||a.selector,h=a.create(i,[],l,c),p=h.location.nativeElement,m=h.injector.get(lS,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),zl(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),Ue(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(cD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new N(101,!1);let t=ye(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ye(t),this.afterTick.next(),Ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ci,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<U2;)Ue(14),this.synchronizeOnce(),Ue(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)j2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Id(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ev,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new N(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function j2(n,e,t,r){if(!t&&!Id(n))return;jD(n,e,t&&!r?0:1)}function Vd(n,e,t,r){let i=ve(),o=uc();if(Yn(i,o,e)){let s=Ct(),a=wy();eL(a,i,n,e,t,r)}return Vd}function hS(n,e,t,r){return Yn(n,uc(),t)?e+sc(t)+r:er}function Ul(n,e){return n<<17|e<<2}function Gi(n){return n>>17&32767}function B2(n){return(n&2)==2}function $2(n,e){return n&131071|e<<17}function Hm(n){return n|2}function ds(n){return(n&131068)>>2}function Jg(n,e){return n&-131069|e<<2}function H2(n){return(n&1)===1}function zm(n){return n|1}function z2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Gi(s),c=ds(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ac(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let m=Gi(n[a+1]);n[r+1]=Ul(m,a),m!==0&&(n[m+1]=Jg(n[m+1],r)),n[a+1]=$2(n[a+1],r)}else n[r+1]=Ul(a,0),a!==0&&(n[a+1]=Jg(n[a+1],r)),a=r;else n[r+1]=Ul(c,0),a===0?a=r:n[c+1]=Jg(n[c+1],r),c=r;l&&(n[r+1]=Hm(n[r+1])),DT(n,h,r,!0),DT(n,h,r,!1),q2(e,h,n,r,o),s=Ul(a,c),o?e.classBindings=s:e.styleBindings=s}function q2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ac(o,e)>=0&&(t[r+1]=zm(t[r+1]))}function DT(n,e,t,r){let i=n[t+1],o=e===null,s=r?Gi(i):ds(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];W2(c,e)&&(a=!0,n[s+1]=r?zm(l):Hm(l)),s=r?Gi(l):ds(l)}a&&(n[t+1]=r?Hm(i):zm(i))}function W2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ac(n,e)>=0:!1}function q(n,e,t){let r=ve(),i=uc();if(Yn(r,i,e)){let o=Ct(),s=wy();PD(o,s,r,n,e,r[mt],t,!1)}return q}function ST(n,e,t,r,i){$y(e,n,t,i?"class":"style",r)}function pc(n,e,t){return fS(n,e,t,!1),pc}function tv(n,e){return fS(n,e,null,!0),tv}function fS(n,e,t,r){let i=ve(),o=Ct(),s=hk(2);if(o.firstUpdatePass&&K2(o,n,s,r),e!==er&&Yn(i,s,e)){let a=o.data[Qi()];X2(o,a,i,i[mt],n,i[s+1]=eV(e,t),r,s)}}function G2(n,e){return e>=n.expandoStartIndex}function K2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Qi()],s=G2(n,t);tV(o,r)&&e===null&&!s&&(e=!1),e=Q2(i,o,e,r),z2(i,o,e,t,s,r)}}function Q2(n,e,t,r){let i=mk(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Zg(null,n,e,t,r),t=rc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Zg(i,n,e,t,r),o===null){let c=Y2(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Zg(null,n,e,c[1],r),c=rc(c,e.attrs,r),J2(n,e,r,c))}else o=Z2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Y2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ds(r)!==0)return n[Gi(r)]}function J2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Gi(i)]=r}function Z2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=rc(r,s,t)}return rc(r,e.attrs,t)}function Zg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function rc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),P1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function X2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=H2(l)?AT(c,e,t,i,ds(l),s):void 0;if(!fd(h)){fd(o)||B2(l)&&(o=AT(c,null,t,i,a,s));let p=vC(Qi(),t);EL(r,s,p,i,o)}}function AT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,m=t[i+1];m===er&&(m=p?Sn:void 0);let g=p?$g(m,r):h===r?m:void 0;if(l&&!fd(g)&&(g=$g(c,r)),fd(g)&&(a=g,s))return a;let _=n[i+1];i=s?Gi(_):ds(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=$g(c,r))}return a}function fd(n){return n!==void 0}function eV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Gt(Ad(n)))),n}function tV(n,e){return(n.flags&(e?8:16))!==0}var qm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Xg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function nV(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=Xg(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let m=n.at(s),g=e[c],_=Xg(s,m,c,g,t);if(_!==0){_<0&&n.updateValue(s,g),s--,c--;continue}let T=t(o,l),A=t(s,m),O=t(o,h);if(Object.is(O,A)){let $=t(c,g);Object.is($,T)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new pd,i??=RT(n,o,s,t),Wm(n,r,o,O))n.updateValue(o,h),o++,s++;else if(i.has(O))r.set(T,n.detach(o)),s--;else{let $=n.create(o,e[o]);n.attach(o,$),o++,s++}}for(;o<=c;)MT(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,m=Xg(o,h,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new pd,i??=RT(n,o,s,t);let g=t(o,p);if(Wm(n,r,o,g))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(g))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let _=t(o,h);r.set(_,n.detach(o)),s--}}}for(;!l.done;)MT(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function Wm(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function MT(n,e,t,r,i){if(Wm(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function RT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var pd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Ud(n,e){ys("NgControlFlow");let t=ve(),r=uc(),i=t[r]!==er?t[r]:-1,o=i!==-1?gd(t,xt+i):void 0,s=0;if(Yn(t,r,n)){let a=ye(null);try{if(o!==void 0&&WD(o,s),n!==-1){let c=xt+n,l=gd(t,c),h=Ym(t[ce],c),p=tc(l,h.tView.ssrId),m=Pd(t,h,e,{dehydratedView:p});Od(l,m,s,Za(h,p))}}finally{ye(a)}}else if(o!==void 0){let a=qD(o,s);a!==void 0&&(a[ht]=e)}}var Gm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Rt}};var Km=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function nv(n,e,t,r,i,o,s,a,c,l,h,p,m){ys("NgControlFlow");let g=ve(),_=Ct(),T=c!==void 0,A=ve(),O=a?s.bind(A[Mn][ht]):s,$=new Km(T,O);A[xt+n]=$,Bm(g,_,n+1,e,t,r,i,cs(_.consts,o)),T&&Bm(g,_,n+2,c,l,h,p,cs(_.consts,m))}var Qm=class extends qm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Rt}at(e){return this.getLView(e)[ht].$implicit}attach(e,t){let r=t[Qa];this.needsIndexUpdate||=e!==this.length,Od(this.lContainer,t,e,Za(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,rV(this.lContainer,e)}create(e,t){let r=tc(this.lContainer,this.templateTNode.tView.ssrId),i=Pd(this.hostLView,this.templateTNode,new Gm(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){xd(e[ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ht].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ht].$index=e}getLView(e){return iV(this.lContainer,e)}};function rv(n){let e=ye(null),t=Qi();try{let r=ve(),i=r[ce],o=r[t],s=t+1,a=gd(r,s);if(o.liveCollection===void 0){let l=Ym(i,s);o.liveCollection=new Qm(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(nV(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=uc(),h=c.length===0;if(Yn(r,l,h)){let p=t+2,m=gd(r,p);if(h){let g=Ym(i,p),_=tc(m,g.tView.ssrId),T=Pd(r,g,void 0,{dehydratedView:_});Od(m,T,0,Za(g,_))}else WD(m,0)}}}finally{ye(e)}}function gd(n,e){return n[e]}function rV(n,e){return Xa(n,e)}function iV(n,e){return qD(n,e)}function Ym(n,e){return fy(n,e)}function P(n,e,t,r){let i=ve(),o=Ct(),s=xt+n,a=i[mt],c=o.firstCreatePass?JD(s,o,i,e,xD,IC(),t,r):o.data[s],l=oV(o,i,c,a,e,n);i[s]=l;let h=hy(c);return cc(c,!0),CD(a,l,c),!ND(c)&&Ty()&&Wy(o,i,l,c),(nk()===0||h)&&lc(l,i),rk(),h&&(By(o,i,c),dD(o,c,i)),r!==null&&RD(i,c),P}function x(){let n=tn();TC()?uk():(n=n.parent,cc(n,!1));let e=n;sk(e)&&ak(),ik();let t=Ct();return t.firstCreatePass&&ZD(t,e),e.classesWithoutHost!=null&&bk(e)&&ST(t,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Tk(e)&&ST(t,e,ve(),e.stylesWithoutHost,!1),x}function _e(n,e,t,r){return P(n,e,t,r),x(),_e}var oV=(n,e,t,r,i,o)=>(Cy(!0),bD(r,i,Ek()));function Nn(){return ve()}var Li=void 0;function sV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var aV=["en",[["a","p"],["AM","PM"],Li],[["AM","PM"],Li,Li],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Li,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Li,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Li,"{1} 'at' {0}",Li],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",sV],em={};function jd(n){let e=cV(n),t=PT(e);if(t)return t;let r=e.split("-")[0];if(t=PT(r),t)return t;if(r==="en")return aV;throw new N(701,!1)}function PT(n){return n in em||(em[n]=Ir.ng&&Ir.ng.common&&Ir.ng.common.locales&&Ir.ng.common.locales[n]),em[n]}var Yi=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Yi||{});function cV(n){return n.toLowerCase().replace(/_/g,"-")}var md="en-US",uV="USD";var lV=md;function dV(n){typeof n=="string"&&(lV=n.toLowerCase().replace(/_/g,"-"))}function xT(n,e,t){return function r(i){if(i===Function)return t;let o=fs(n)?Gn(n.index,e):e;Ky(o,5);let s=e[ht],a=NT(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=NT(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function NT(n,e,t,r){let i=ye(null);try{return Ue(6,e,t),t(r)!==!1}catch(o){return hV(n,o),!1}finally{Ue(7,e,t),ye(i)}}function hV(n,e){let t=n[ss],r=t?t.get(Rn,null):null;r&&r.handleError(e)}function OT(n,e,t,r,i,o){let s=e[t],a=e[ce],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?yy(a):null,m=my(e),g=h.subscribe(o),_=m.length;m.push(o,g),p&&p.push(i,n.index,_,-(_+1))}function qe(n,e,t,r){let i=ve(),o=Ct(),s=tn();return pV(o,i,i[mt],s,n,e,r),qe}function fV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Jl],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function pV(n,e,t,r,i,o,s){let a=hy(r),l=n.firstCreatePass?yy(n):null,h=my(e),p=!0;if(r.type&3||s){let m=Zn(r,e),g=s?s(m):m,_=h.length,T=s?O=>s(Wn(O[r.index])):r.index,A=null;if(!s&&a&&(A=fV(n,e,i,r.index)),A!==null){let O=A.__ngLastListenerFn__||A;O.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=xT(r,e,o),iF(e,g,i,o);let O=t.listen(g,i,o);h.push(o,O),l&&l.push(i,T,_,_+1)}}else o=xT(r,e,o);if(p){let m=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let _=0;_<g.length;_+=2){let T=g[_],A=g[_+1];OT(r,e,T,A,i,o)}if(m&&m.length)for(let _ of m)OT(r,e,_,i,i,o)}}function Ce(n=1){return vk(n)}function iv(n,e,t){return pS(n,"",e,"",t),iv}function pS(n,e,t,r,i){let o=ve(),s=hS(o,e,t,r);if(s!==er){let a=Ct(),c=wy();PD(a,c,o,n,s,o[mt],i,!1)}return pS}function Bd(n,e,t,r){w2(n,e,t,r)}function gS(n,e,t){E2(n,e,t)}function _s(n){let e=ve(),t=Ct(),r=DC();vy(r+1);let i=Yy(t,r);if(n.dirty&&J1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=T2(e,r);n.reset(o,Gk),n.notifyOnChanges()}return!0}return!1}function Es(){return _2(ve(),DC())}function Ji(n){let e=lk();return py(e,xt+n)}function Y(n,e=""){let t=ve(),r=Ct(),i=n+xt,o=r.firstCreatePass?Qy(r,i,1,e,null):r.data[i],s=gV(r,t,o,e,n);t[i]=s,Ty()&&Wy(r,t,s,o),cc(o,!1)}var gV=(n,e,t,r,i)=>(Cy(!0),VF(e[mt],r));function it(n){return nr("",n,""),it}function nr(n,e,t){let r=ve(),i=hS(r,n,e,t);return i!==er&&mV(r,Qi(),i),nr}function mV(n,e,t){let r=vC(e,n);UF(n[mt],r,t)}function yV(n,e,t){let r=Ct();if(r.firstCreatePass){let i=li(n);Jm(t,r.data,r.blueprint,i,!0),Jm(e,r.data,r.blueprint,i,!1)}}function Jm(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)Jm(n[o],e,t,r,i);else{let o=Ct(),s=ve(),a=tn(),c=os(n)?n:Ut(n.provide),l=aC(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(os(n)||!n.multi){let g=new qi(l,i,Q),_=nm(c,e,i?h:h+m,p);_===-1?(pm(id(a,s),o,c),tm(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[_]=g,s[_]=g)}else{let g=nm(c,e,h+m,p),_=nm(c,e,h,h+m),T=g>=0&&t[g],A=_>=0&&t[_];if(i&&!A||!i&&!T){pm(id(a,s),o,c);let O=EV(i?_V:vV,t.length,i,r,l);!i&&A&&(t[_].providerFactory=O),tm(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=mS(t[i?_:g],l,!i&&r);tm(o,n,g>-1?g:_,O)}!i&&r&&A&&t[_].componentProviders++}}}function tm(n,e,t,r){let i=os(e),o=U1(e);if(i||o){let c=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function mS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function nm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vV(n,e,t,r,i){return Zm(this.multi,[])}function _V(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ja(r,r[ce],this.providerFactory.index,i);s=c.slice(0,a),Zm(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Zm(o,s);return s}function Zm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function EV(n,e,t,r,i){let o=new qi(n,t,Q);return o.multi=[],o.index=e,o.componentProviders=0,mS(o,i,r&&!t),o}function yS(n,e=[]){return t=>{t.providersResolver=(r,i)=>yV(r,i?i(n):n,e)}}function ov(n,e,t){let r=Ki()+n,i=ve();return i[r]===er?fc(i,r,t?e.call(t):e()):aS(i,r)}function Zi(n,e,t,r){return _S(ve(),Ki(),n,e,t,r)}function $d(n,e,t,r,i){return wV(ve(),Ki(),n,e,t,r,i)}function vS(n,e,t,r,i,o,s){return ES(ve(),Ki(),n,e,t,r,i,o,s)}function sv(n,e,t,r,i,o,s,a){let c=Ki()+n,l=ve(),h=cS(l,c,t,r,i,o);return Yn(l,c+4,s)||h?fc(l,c+5,a?e.call(a,t,r,i,o,s):e(t,r,i,o,s)):aS(l,c+5)}function av(n,e){let t=n[e];return t===er?void 0:t}function _S(n,e,t,r,i,o){let s=e+t;return Yn(n,s,i)?fc(n,s+1,o?r.call(o,i):r(i)):av(n,s+1)}function wV(n,e,t,r,i,o,s){let a=e+t;return jm(n,a,i,o)?fc(n,a+2,s?r.call(s,i,o):r(i,o)):av(n,a+2)}function ES(n,e,t,r,i,o,s,a,c){let l=e+t;return cS(n,l,i,o,s,a)?fc(n,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):av(n,l+4)}function pt(n,e){let t=Ct(),r,i=n+xt;t.firstCreatePass?(r=IV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=ji(r.type,!0)),s,a=Wt(Q);try{let c=rd(!1),l=o();return rd(c),Y1(t,ve(),i,l),l}finally{Wt(a)}}function IV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function yt(n,e,t){let r=n+xt,i=ve(),o=py(i,r);return IS(i,r)?_S(i,Ki(),e,o.transform,t,o):o.transform(t)}function wS(n,e,t,r,i,o){let s=n+xt,a=ve(),c=py(a,s);return IS(a,s)?ES(a,Ki(),e,c.transform,t,r,i,o,c):c.transform(t,r,i,o)}function IS(n,e){return n[ce].data[e].pure}function Xi(n,e){return kd(n,e)}var ic=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},bS=new ic("19.2.13"),Xm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},TS=(()=>{class n{compileModuleSync(t){return new Um(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rC(t),o=wD(i.declarations).reduce((s,a)=>{let c=is(a);return c&&s.push(new nc(c)),s},[]);return new Xm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bV=(()=>{class n{zone=F(xe);changeDetectionScheduler=F(us);applicationRef=F(Wi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TV({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(Pe(U({},CV()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Ga,multi:!0,useFactory:()=>{let r=F(bV,{optional:!0});return()=>r.initialize()}},{provide:Ga,multi:!0,useFactory:()=>{let r=F(DV);return()=>{r.initialize()}}},e===!0?{provide:KC,useValue:!0}:[],{provide:QC,useValue:t??WC}]}function CV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var DV=(()=>{class n{subscription=new et;initialized=!1;zone=F(xe);pendingTasks=F(Xn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var SV=(()=>{class n{appRef=F(Wi);taskService=F(Xn);ngZone=F(xe);zonelessEnabled=F(GC);tracing=F(Dd,{optional:!0});disableScheduling=F(KC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(QC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _m||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?oT:YC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,oT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AV(){return typeof $localize<"u"&&$localize.locale||md}var Hd=new G("",{providedIn:"root",factory:()=>F(Hd,pe.Optional|pe.SkipSelf)||AV()}),CS=new G("",{providedIn:"root",factory:()=>uV});var ey=new G(""),MV=new G("");function Ha(n){return!n.moduleRef}function RV(n){let e=Ha(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{Ha(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Ha(n)){let o=()=>e.destroy(),s=n.platformInjector.get(ey);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(ey);s.add(o),n.moduleRef.onDestroy(()=>{zl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return xV(r,t,()=>{let o=e.get(dS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Hd,md);if(dV(s||md),!e.get(MV,!0))return Ha(n)?e.get(Wi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ha(n)){let c=e.get(Wi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return PV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function PV(n,e){let t=n.injector.get(Wi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new N(-403,!1);e.push(n)}function xV(n,e,t){try{let r=t();return vs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var ql=null;function NV(n=[],e){return Kt.create({name:e,providers:[{provide:Ed,useValue:"platform"},{provide:ey,useValue:new Set([()=>ql=null])},...n]})}function OV(n=[]){if(ql)return ql;let e=NV(n);return ql=e,L2(),kV(e),e}function kV(n){let e=n.get(xy,null);Tt(n,()=>{e?.forEach(t=>t())})}function gc(){return!1}var di=(()=>{class n{static __NG_ELEMENT_ID__=FV}return n})();function FV(n){return LV(tn(),ve(),(n&16)===16)}function LV(n,e,t){if(fs(n)&&!t){let r=Gn(n.index,e);return new ec(r,r)}else if(n.type&175){let r=e[Mn];return new ec(r,e)}return null}var ty=class{constructor(){}supports(e){return sS(e)}create(e){return new ny(e)}},VV=(n,e)=>e,ny=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||VV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<kT(r,i,o)?t:r,a=kT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let m=0;m<l;m++){let g=m<o.length?o[m]:o[m]=0,_=g+m;h<=_&&_<l&&(o[m]=g+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sS(e))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,P2(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ry(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new yd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ry=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},iy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},yd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new iy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var oy=class{constructor(){}supports(e){return e instanceof Map||Zy(e)}create(){return new sy}},sy=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Zy(e)))throw new N(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ay(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ay=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function FT(){return new cv([new ty])}var cv=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:FT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||FT()),deps:[[n,new XT,new Jn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new N(901,!1)}}return n})();function LT(){return new uv([new oy])}var uv=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:LT});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||LT()),deps:[[n,new XT,new Jn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new N(901,!1)}}return n})();function DS(n){Ue(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=OV(r),o=[TV({}),{provide:us,useExisting:SV},...t||[]],s=new hd({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return RV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ue(9)}}function zd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function qd(n){return wg(n)}var VT=class{[Vo];constructor(e){this[Vo]=e}destroy(){this[Vo].destroy()}};var at=new G("");var MS=null;function Nr(){return MS}function lv(n){MS??=n}var mc=class{},dv=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(RS),providedIn:"platform"})}return n})();var RS=(()=>{class n extends dv{_location;_history;_doc=F(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nr().getBaseHref(this._doc)}onPopState(t){let r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Nr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function PS(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function SS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function hi(n){return n&&n[0]!=="?"?`?${n}`:n}var eo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(NS),providedIn:"root"})}return n})(),xS=new G(""),NS=(()=>{class n extends eo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return PS(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+hi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+hi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(dv),z(xS,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ws=(()=>{class n{_subject=new De;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=BV(SS(AS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hi(r))}normalize(t){return n.stripTrailingSlash(jV(this._basePath,AS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=hi;static joinWithSlash=PS;static stripTrailingSlash=SS;static \u0275fac=function(r){return new(r||n)(z(eo))};static \u0275prov=B({token:n,factory:()=>UV(),providedIn:"root"})}return n})();function UV(){return new ws(z(eo))}function jV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function AS(n){return n.replace(/\/index.html$/,"")}function BV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var US={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},yv=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(yv||{});var rr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Is(n,e){let t=jd(n),r=t[Yi.NumberSymbols][e];if(typeof r>"u"){if(e===rr.CurrencyDecimal)return t[Yi.NumberSymbols][rr.Decimal];if(e===rr.CurrencyGroup)return t[Yi.NumberSymbols][rr.Group]}return r}function jS(n,e){return jd(n)[Yi.NumberFormats][e]}function $V(n){return jd(n)[Yi.Currencies]}function BS(n,e,t="en"){let r=$V(t)[n]||US[n]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||n}var HV=2;function $S(n){let e,t=US[n];return t&&(e=t[2]),typeof e=="number"?e:HV}var zV=/^(\d+)?\.((\d+)(-(\d+))?)?$/,OS=22,Wd=".",yc="0",qV=";",WV=",",hv="#",kS="\xA4";function GV(n,e,t,r,i,o,s=!1){let a="",c=!1;if(!isFinite(n))a=Is(t,rr.Infinity);else{let l=YV(n);s&&(l=QV(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let $=o.match(zV);if($===null)throw new Error(`${o} is not a valid digit info`);let H=$[1],te=$[3],Fe=$[5];H!=null&&(h=fv(H)),te!=null&&(p=fv(te)),Fe!=null?m=fv(Fe):te!=null&&p>m&&(m=p)}JV(l,p,m);let g=l.digits,_=l.integerLen,T=l.exponent,A=[];for(c=g.every($=>!$);_<h;_++)g.unshift(0);for(;_<0;_++)g.unshift(0);_>0?A=g.splice(_,g.length):(A=g,g=[0]);let O=[];for(g.length>=e.lgSize&&O.unshift(g.splice(-e.lgSize,g.length).join(""));g.length>e.gSize;)O.unshift(g.splice(-e.gSize,g.length).join(""));g.length&&O.unshift(g.join("")),a=O.join(Is(t,r)),A.length&&(a+=Is(t,i)+A.join("")),T&&(a+=Is(t,rr.Exponential)+"+"+T)}return n<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function HS(n,e,t,r,i){let o=jS(e,yv.Currency),s=KV(o,Is(e,rr.MinusSign));return s.minFrac=$S(r),s.maxFrac=s.minFrac,GV(n,s,e,rr.CurrencyGroup,rr.CurrencyDecimal,i).replace(kS,t).replace(kS,"").trim()}function KV(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(qV),i=r[0],o=r[1],s=i.indexOf(Wd)!==-1?i.split(Wd):[i.substring(0,i.lastIndexOf(yc)+1),i.substring(i.lastIndexOf(yc)+1)],a=s[0],c=s[1]||"";t.posPre=a.substring(0,a.indexOf(hv));for(let h=0;h<c.length;h++){let p=c.charAt(h);p===yc?t.minFrac=t.maxFrac=h+1:p===hv?t.maxFrac=h+1:t.posSuf+=p}let l=a.split(WV);if(t.gSize=l[1]?l[1].length:0,t.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-t.posPre.length-t.posSuf.length,p=o.indexOf(hv);t.negPre=o.substring(0,p).replace(/'/g,""),t.negSuf=o.slice(p+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function QV(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function YV(n){let e=Math.abs(n)+"",t=0,r,i,o,s,a;for((i=e.indexOf(Wd))>-1&&(e=e.replace(Wd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===yc;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===yc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>OS&&(r=r.splice(0,OS-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}function JV(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen,o=Math.min(Math.max(e,i),t),s=o+n.integerLen,a=r[s];if(s>0){r.splice(Math.max(n.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=e+n.integerLen,h=r.reduceRight(function(p,m,g,_){return m=m+p,_[g]=m<10?m:m-10,c&&(_[g]===0&&g>=l?_.pop():c=!1),m>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}function fv(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var pv=/\s+/,FS=[],Qd=(()=>{class n{_ngEl;_renderer;initialClasses=FS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(pv):FS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(pv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(pv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Q(nn),Q(tr))};static \u0275dir=on({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Gd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Gd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),LS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);LS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(Pr),Q(Cr),Q(cv))};static \u0275dir=on({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function LS(n,e){n.context.$implicit=e.item}var Or=(()=>{class n{_viewContainer;_context=new Kd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){VS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){VS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Q(Pr),Q(Cr))};static \u0275dir=on({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Kd=class{$implicit=null;ngIf=null};function VS(n,e){if(n&&!n.createEmbeddedView)throw new N(2020,!1)}var vv=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Qn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Q(nn),Q(uv),Q(tr))};static \u0275dir=on({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),_v=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Q(Pr))};static \u0275dir=on({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Mr]})}return n})();function zS(n,e){return new N(2100,!1)}var gv=class{createSubscription(e,t){return qd(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){qd(()=>e.unsubscribe())}},mv=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},ZV=new mv,XV=new gv,to=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(vs(t))return ZV;if(Xy(t))return XV;throw zS(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Q(di,16))};static \u0275pipe=hc({name:"async",type:n,pure:!1})}return n})();var Ev=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",o,s){if(!e4(t))return null;s||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=BS(a,i==="symbol"?"wide":"narrow",s):a=i);try{let c=t4(t);return HS(c,s,a,r,o)}catch(c){throw zS(n,c.message)}}static \u0275fac=function(r){return new(r||n)(Q(Hd,16),Q(CS,16))};static \u0275pipe=hc({name:"currency",type:n,pure:!0})}return n})();function e4(n){return!(n==null||n===""||n!==n)}function t4(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Nt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Dr({})}return n})();function vc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Yd="browser",qS="server";function kr(n){return n===Yd}function Jd(n){return n===qS}var no=class{};var eh=new G(""),Tv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new N(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(eh),z(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),_c=class{_doc;constructor(e){this._doc=e}manager},Zd="ng-app-id";function WS(n){for(let e of n)e.remove()}function GS(n,e){let t=e.createElement("style");return t.textContent=n,t}function n4(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Zd}="${e}"],link[${Zd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Zd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Iv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Cv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Jd(o),n4(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,GS);r?.forEach(i=>this.addUsage(i,this.external,Iv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(WS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])WS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,GS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Iv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Zd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(at),z(Py),z(Oy,8),z($t))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),wv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Dv=/%COMP%/g;var QS="%COMP%",r4=`_nghost-${QS}`,i4=`_ngcontent-${QS}`,o4=!0,s4=new G("",{providedIn:"root",factory:()=>o4});function a4(n){return i4.replace(Dv,n)}function c4(n){return r4.replace(Dv,n)}function YS(n,e){return e.map(t=>t.replace(Dv,n))}var Ic=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=Jd(a),this.defaultRenderer=new Ec(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kn.ShadowDom&&(r=Pe(U({},r),{encapsulation:Kn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Xd?i.applyToHost(t):i instanceof wc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Kn.Emulated:o=new Xd(c,l,r,this.appId,h,s,a,p,m);break;case Kn.ShadowDom:return new bv(c,l,t,r,s,a,this.nonce,p,m);default:o=new wc(c,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(Tv),z(Cv),z(Py),z(s4),z(at),z($t),z(xe),z(Oy),z(Dd,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ec=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(wv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(KS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(KS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new N(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=wv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=wv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(t,r,i&Qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Nr().getGlobalEventTarget(this.doc,e),!e))throw new N(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function KS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var bv=class extends Ec{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=YS(i.id,h);for(let m of h){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let m of p){let g=Iv(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wc=class extends Ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?YS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xd=class extends wc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=a4(h),this.hostAttr=c4(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var th=class n extends mc{supportsDOMEvents=!0;static makeCurrent(){lv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=u4();return t==null?null:l4(t)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return vc(document.cookie,e)}},bc=null;function u4(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function l4(n){return new URL(n,document.baseURI).pathname}var d4=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),ZS=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(at))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),JS=["alt","control","meta","shift"],h4={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f4={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},XS=(()=>{class n extends _c{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),JS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=h4[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),JS.forEach(s=>{if(s!==i){let a=f4[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(at))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function Sv(n,e){return DS(U({rootComponent:n},p4(e)))}function p4(n){return{appProviders:[..._4,...n?.providers??[]],platformProviders:v4}}function g4(){th.makeCurrent()}function m4(){return new Rn}function y4(){return oD(document),document}var v4=[{provide:$t,useValue:Yd},{provide:xy,useValue:g4,multi:!0},{provide:at,useFactory:y4}];var _4=[{provide:Ed,useValue:"root"},{provide:Rn,useFactory:m4},{provide:eh,useClass:ZS,multi:!0,deps:[at]},{provide:eh,useClass:XS,multi:!0,deps:[at]},Ic,Cv,Tv,{provide:ci,useExisting:Ic},{provide:no,useClass:d4},[]];var Cs=class{},Cc=class{},ro=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rh=class{encodeKey(e){return eA(e)}encodeValue(e){return eA(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function E4(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var w4=/%(\d[a-f0-9])/gi,I4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eA(n){return encodeURIComponent(n).replace(w4,(e,t)=>I4[t]??e)}function nh(n){return`${n}`}var pi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new rh,e.fromString){if(e.fromObject)throw new N(2805,!1);this.map=E4(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(nh):[nh(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(nh(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(nh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ih=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function b4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nA(n){return typeof Blob<"u"&&n instanceof Blob}function rA(n){return typeof FormData<"u"&&n instanceof FormData}function T4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var iA="Content-Type",oA="Accept",aA="X-Request-URL",cA="text/plain",uA="application/json",C4=`${uA}, ${cA}, */*`,Tc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(b4(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ro,this.context??=new ih,!this.params)this.params=new pi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tA(this.body)||nA(this.body)||rA(this.body)||T4(this.body)?this.body:this.body instanceof pi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||rA(this.body)?null:nA(this.body)?this.body.type||null:tA(this.body)?null:typeof this.body=="string"?cA:this.body instanceof pi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?uA:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Ts=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Ts||{}),Ds=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new ro,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},oh=class n extends Ds{constructor(e={}){super(e)}type=Ts.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sh=class n extends Ds{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ts.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ah=class extends Ds{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},D4=200,S4=204;function Av(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var A4=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Tc)o=t;else{let c;i.headers instanceof ro?c=i.headers:c=new ro(i.headers);let l;i.params&&(i.params instanceof pi?l=i.params:l=new pi({fromObject:i.params})),o=new Tc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(wr(c=>this.handler.handle(c)));if(t instanceof Tc||i.observe==="events")return s;let a=s.pipe(Ge(c=>c instanceof sh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new N(2806,!1);return c.body}));case"blob":return a.pipe(ie(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new N(2807,!1);return c.body}));case"text":return a.pipe(ie(c=>{if(c.body!==null&&typeof c.body!="string")throw new N(2808,!1);return c.body}));case"json":default:return a.pipe(ie(c=>c.body))}case"response":return a;default:throw new N(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new pi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Av(i,r))}post(t,r,i={}){return this.request("POST",t,Av(i,r))}put(t,r,i={}){return this.request("PUT",t,Av(i,r))}static \u0275fac=function(r){return new(r||n)(z(Cs))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var M4=new G("");function lA(n,e){return e(n)}function R4(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function P4(n,e,t){return(r,i)=>Tt(t,()=>e(r,o=>n(o,i)))}var dA=new G(""),Rv=new G(""),x4=new G(""),Pv=new G("",{providedIn:"root",factory:()=>!0});function N4(){let n=null;return(e,t)=>{n===null&&(n=(F(dA,{optional:!0})??[]).reduceRight(R4,lA));let r=F(Xn);if(F(Pv)){let o=r.add();return n(e,t).pipe(oi(()=>r.remove(o)))}else return n(e,t)}}var ch=(()=>{class n extends Cs{backend;injector;chain=null;pendingTasks=F(Xn);contributeToStability=F(Pv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Rv),...this.injector.get(x4,[])]));this.chain=r.reduceRight((i,o)=>P4(i,o,this.injector),lA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(oi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(z(Cc),z(bt))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var O4=/^\)\]\}',?\n/,k4=RegExp(`^${aA}:`,"m");function F4(n){return"responseURL"in n&&n.responseURL?n.responseURL:k4.test(n.getAllResponseHeaders())?n.getResponseHeader(aA):null}var Mv=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new N(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):ee(null)).pipe(nt(()=>new de(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,A)=>s.setRequestHeader(T,A.join(","))),t.headers.has(oA)||s.setRequestHeader(oA,C4),!t.headers.has(iA)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(iA,T)}if(t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let T=s.statusText||"OK",A=new ro(s.getAllResponseHeaders()),O=F4(s)||t.url;return c=new oh({headers:A,status:s.status,statusText:T,url:O}),c},h=()=>{let{headers:T,status:A,statusText:O,url:$}=l(),H=null;A!==S4&&(H=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=H?D4:0);let te=A>=200&&A<300;if(t.responseType==="json"&&typeof H=="string"){let Fe=H;H=H.replace(O4,"");try{H=H!==""?JSON.parse(H):null}catch(le){H=Fe,te&&(te=!1,H={error:le,text:H})}}te?(o.next(new sh({body:H,headers:T,status:A,statusText:O,url:$||void 0})),o.complete()):o.error(new ah({error:H,headers:T,status:A,statusText:O,url:$||void 0}))},p=T=>{let{url:A}=l(),O=new ah({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(O)},m=!1,g=T=>{m||(o.next(l()),m=!0);let A={type:Ts.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},_=T=>{let A={type:Ts.UploadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:Ts.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(z(no))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),hA=new G(""),L4="XSRF-TOKEN",V4=new G("",{providedIn:"root",factory:()=>L4}),U4="X-XSRF-TOKEN",j4=new G("",{providedIn:"root",factory:()=>U4}),Dc=class{},B4=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=vc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(z(at),z(V4))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function $4(n,e){let t=n.url.toLowerCase();if(!F(hA)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=F(Dc).getToken(),i=F(j4);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var xv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(xv||{});function H4(n,e){return{\u0275kind:n,\u0275providers:e}}function Nv(...n){let e=[A4,Mv,ch,{provide:Cs,useExisting:ch},{provide:Cc,useFactory:()=>F(M4,{optional:!0})??F(Mv)},{provide:Rv,useValue:$4,multi:!0},{provide:hA,useValue:!0},{provide:Dc,useClass:B4}];for(let t of n)e.push(...t.\u0275providers);return ui(e)}var sA=new G("");function Ov(){return H4(xv.LegacyInterceptors,[{provide:sA,useFactory:N4},{provide:Rv,useExisting:sA,multi:!0}])}var fA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(at))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var he="primary",jc=Symbol("RouteTitle"),Uv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function so(n){return new Uv(n)}function wA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function q4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ir(n[t],e[t]))return!1;return!0}function ir(n,e){let t=n?jv(n):void 0,r=e?jv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!IA(n[i],e[i]))return!1;return!0}function jv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function IA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function bA(n){return n.length>0?n[n.length-1]:null}function yi(n){return Fg(n)?n:vs(n)?ke(Promise.resolve(n)):ee(n)}var W4={exact:CA,subset:DA},TA={exact:G4,subset:K4,ignored:()=>!0};function pA(n,e,t){return W4[t.paths](n.root,e.root,t.matrixParams)&&TA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function G4(n,e){return ir(n,e)}function CA(n,e,t){if(!io(n.segments,e.segments)||!dh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!CA(n.children[r],e.children[r],t))return!1;return!0}function K4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IA(n[t],e[t]))}function DA(n,e,t){return SA(n,e,e.segments,t)}function SA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!io(i,t)||e.hasChildren()||!dh(i,t,r))}else if(n.segments.length===t.length){if(!io(n.segments,t)||!dh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!DA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!io(n.segments,i)||!dh(n.segments,i,r)||!n.children[he]?!1:SA(n.children[he],e,o,r)}}function dh(n,e,t){return e.every((r,i)=>TA[t](n[i].parameters,r.parameters))}var sr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){return J4.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hh(this)}},gi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=so(this.parameters),this._parameterMap}toString(){return MA(this)}};function Q4(n,e){return io(n,e)&&n.every((t,r)=>ir(t.parameters,e[r].parameters))}function io(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Y4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}var Bc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new ao,providedIn:"root"})}return n})(),ao=class{parse(e){let t=new $v(e);return new sr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sc(e.root,!0)}`,r=eU(e.queryParams),i=typeof e.fragment=="string"?`#${Z4(e.fragment)}`:"";return`${t}${r}${i}`}},J4=new ao;function hh(n){return n.segments.map(e=>MA(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return hh(n);if(e){let t=n.children[he]?Sc(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Y4(n,(r,i)=>i===he?[Sc(n.children[he],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[he]!=null?`${hh(n)}/${t[0]}`:`${hh(n)}/(${t.join("//")})`}}function AA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function uh(n){return AA(n).replace(/%3B/gi,";")}function Z4(n){return encodeURI(n)}function Bv(n){return AA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fh(n){return decodeURIComponent(n)}function gA(n){return fh(n.replace(/\+/g,"%20"))}function MA(n){return`${Bv(n.path)}${X4(n.parameters)}`}function X4(n){return Object.entries(n).map(([e,t])=>`;${Bv(e)}=${Bv(t)}`).join("")}function eU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${uh(t)}=${uh(i)}`).join("&"):`${uh(t)}=${uh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var tU=/^[^\/()?;#]+/;function kv(n){let e=n.match(tU);return e?e[0]:""}var nU=/^[^\/()?;=#]+/;function rU(n){let e=n.match(nU);return e?e[0]:""}var iU=/^[^=?&#]+/;function oU(n){let e=n.match(iU);return e?e[0]:""}var sU=/^[^&#]+/;function aU(n){let e=n.match(sU);return e?e[0]:""}var $v=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new Ne(e,t)),r}parseSegment(){let e=kv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new N(4009,!1);return this.capture(e),new gi(fh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=rU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=kv(this.remaining);i&&(r=i,this.capture(r))}e[fh(t)]=fh(r)}parseQueryParam(e){let t=oU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=aU(this.remaining);s&&(r=s,this.capture(r))}let i=gA(t),o=gA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new N(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[he]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new N(4011,!1)}};function RA(n){return n.segments.length>0?new Ne([],{[he]:n}):n}function PA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=PA(i);if(r===he&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return cU(t)}function cU(n){if(n.numberOfChildren===1&&n.children[he]){let e=n.children[he];return new Ne(n.segments.concat(e.segments),e.children)}return n}function mi(n){return n instanceof sr}function xA(n,e,t=null,r=null){let i=NA(n);return OA(i,e,t,r)}function NA(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=RA(r);return e??i}function OA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Fv(i,i,i,t,r);let o=uU(e);if(o.toRoot())return Fv(i,i,new Ne([],{}),t,r);let s=lU(o,i,n),a=s.processChildren?Mc(s.segmentGroup,s.index,o.commands):FA(s.segmentGroup,s.index,o.commands);return Fv(i,s.segmentGroup,a,t,r)}function gh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pc(n){return typeof n=="object"&&n!=null&&n.outlets}function Fv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=kA(n,e,t);let a=RA(PA(s));return new sr(a,o,i)}function kA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=kA(o,e,t)}),new Ne(n.segments,r)}var mh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gh(r[0]))throw new N(4003,!1);let i=r.find(Pc);if(i&&i!==bA(r))throw new N(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function uU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new mh(t,e,r)}var Ms=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function lU(n,e,t){if(n.isAbsolute)return new Ms(e,!0,0);if(!t)return new Ms(e,!1,NaN);if(t.parent===null)return new Ms(t,!0,0);let r=gh(n.commands[0])?0:1,i=t.segments.length-1+r;return dU(t,i,n.numberOfDoubleDots)}function dU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new N(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function hU(n){return Pc(n[0])?n[0].outlets:{[he]:n}}function FA(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return Mc(n,e,t);let r=fU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new Ne(n.segments.slice(r.pathIndex),n.children),Mc(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?Hv(n,e,t):r.match?Mc(n,0,i):Hv(n,e,t)}function Mc(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=hU(t),i={};if(Object.keys(r).some(o=>o!==he)&&n.children[he]&&n.numberOfChildren===1&&n.children[he].segments.length===0){let o=Mc(n.children[he],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=FA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function fU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Pc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!yA(c,l,s))return o;r+=2}else{if(!yA(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Hv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pc(o)){let c=pU(o.outlets);return new Ne(r,c)}if(i===0&&gh(t[0])){let c=n.segments[e];r.push(new gi(c.path,mA(t[0]))),i++;continue}let s=Pc(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gh(a)?(r.push(new gi(s,mA(a))),i+=2):(r.push(new gi(s,{})),i++)}return new Ne(r,{})}function pU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Hv(new Ne([],{}),0,r))}),e}function mA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function yA(n,e,t){return n==t.path&&ir(e,t.parameters)}var ph="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),an=class{id;url;constructor(e,t){this.id=e,this.url=t}},co=class extends an{type=vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends an{urlAfterRedirects;type=vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qt||{}),xc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xc||{}),or=class extends an{reason;code;type=vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends an{reason;code;type=vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ps=class extends an{error;target;type=vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Nc=class extends an{urlAfterRedirects;state;type=vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class extends an{urlAfterRedirects;state;type=vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vh=class extends an{urlAfterRedirects;state;shouldActivate;type=vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_h=class extends an{urlAfterRedirects;state;type=vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends an{urlAfterRedirects;state;type=vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class{route;type=vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ih=class{route;type=vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bh=class{snapshot;type=vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Th=class{snapshot;type=vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ch=class{snapshot;type=vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dh=class{snapshot;type=vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Oc=class{},xs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function gU(n,e){return n.providers&&!n._injector&&(n._injector=Ld(n.providers,e,`Route: ${n.path}`)),n._injector??e}function On(n){return n.outlet||he}function mU(n,e){let t=n.filter(r=>On(r)===e);return t.push(...n.filter(r=>On(r)!==e)),t}function $c(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $c(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ks(this.rootInjector)}},ks=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(bt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ah=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=zv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=zv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=qv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qv(e,this._root).map(t=>t.value)}};function zv(n,e){if(n===e.value)return e;for(let t of e.children){let r=zv(n,t);if(r)return r}return null}function qv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=qv(n,t);if(r.length)return r.unshift(e),r}return[]}var sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function As(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var kc=class extends Ah{snapshot;constructor(e,t){super(e),this.snapshot=t,Xv(this,e)}toString(){return this.snapshot.toString()}};function LA(n){let e=yU(n),t=new It([new gi("",{})]),r=new It({}),i=new It({}),o=new It({}),s=new It(""),a=new cn(t,r,o,s,i,he,n,e.root);return a.snapshot=e.root,new kc(new sn(a,[]),e)}function yU(n){let e={},t={},r={},i="",o=new oo([],e,r,i,t,he,n,null,{});return new Fc("",new sn(o,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ie(l=>l[jc]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>so(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>so(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Mh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&UA(i)&&(r.resolve[jc]=i.title),r}var oo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=so(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=so(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Fc=class extends Ah{url;constructor(e,t){super(t),this.url=e,Xv(this,t)}toString(){return VA(this._root)}};function Xv(n,e){e.value._routerState=n,e.children.forEach(t=>Xv(n,t))}function VA(n){let e=n.children.length>0?` { ${n.children.map(VA).join(", ")} } `:"";return`${n.value}${e}`}function Lv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ir(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ir(e.params,t.params)||n.paramsSubject.next(t.params),q4(e.url,t.url)||n.urlSubject.next(t.url),ir(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wv(n,e){let t=ir(n.params,e.params)&&Q4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Wv(n.parent,e.parent))}function UA(n){return typeof n.title=="string"||n.title===null}var jA=new G(""),Hc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=he;activateEvents=new rt;deactivateEvents=new rt;attachEvents=new rt;detachEvents=new rt;routerOutletData=ZC(void 0);parentContexts=F(ks);location=F(Pr);changeDetector=F(di);inputBinder=F(Nh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new N(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new N(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new N(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new N(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Gv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=on({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Mr]})}return n})(),Gv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===cn?this.route:e===ks?this.childContexts:e===jA?this.outletData:this.parent.get(e,t)}},Nh=new G("");var e_=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ft({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&_e(0,"router-outlet")},dependencies:[Hc],encapsulation:2})}return n})();function t_(n){let e=n.children&&n.children.map(t_),t=e?Pe(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=e_),t}function vU(n,e,t){let r=Lc(n,e._root,t?t._root:void 0);return new kc(r,e)}function Lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_U(n,e,t);return new sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lc(n,a)),s}}let r=EU(e.value),i=e.children.map(o=>Lc(n,o));return new sn(r,i)}}function _U(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lc(n,r,i);return Lc(n,r)})}function EU(n){return new cn(new It(n.url),new It(n.params),new It(n.queryParams),new It(n.fragment),new It(n.data),n.outlet,n.component,n)}var Ns=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BA="ngNavigationCancelingError";function Rh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=mi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=$A(!1,Qt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function $A(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BA]=!0,t.cancellationCode=e,t}function wU(n){return HA(n)&&mi(n.url)}function HA(n){return!!n&&n[BA]}var IU=(n,e,t,r)=>ie(i=>(new Kv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Kv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=As(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=As(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=As(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Dh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Th(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Lv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ph=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function bU(n,e,t){let r=n._root,i=e?e._root:null;return Ac(r,i,t,[r.value])}function TU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Fs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!qT(n)?n:e.get(n):r}function Ac(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=As(e);return n.children.forEach(s=>{CU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Rc(a,t.getContext(s),i)),i}function CU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=DU(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ph(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(n,e,a?a.children:null,r,i):Ac(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rs(a.outlet.component,s))}else s&&Rc(e,a,i),i.canActivateChecks.push(new Ph(r)),o.component?Ac(n,null,a?a.children:null,r,i):Ac(n,null,t,r,i);return i}function DU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!io(n.url,e.url);case"pathParamsOrQueryParamsChange":return!io(n.url,e.url)||!ir(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wv(n,e)||!ir(n.queryParams,e.queryParams);case"paramsChange":default:return!Wv(n,e)}}function Rc(n,e,t){let r=As(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Rc(s,e.children.getContext(o),t):Rc(s,null,t):Rc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Rs(e.outlet.component,i)):t.canDeactivateChecks.push(new Rs(null,i)):t.canDeactivateChecks.push(new Rs(null,i))}function zc(n){return typeof n=="function"}function SU(n){return typeof n=="boolean"}function AU(n){return n&&zc(n.canLoad)}function MU(n){return n&&zc(n.canActivate)}function RU(n){return n&&zc(n.canActivateChild)}function PU(n){return n&&zc(n.canDeactivate)}function xU(n){return n&&zc(n.canMatch)}function zA(n){return n instanceof _r||n?.name==="EmptyError"}var lh=Symbol("INITIAL_VALUE");function Os(){return nt(n=>Al(n.map(e=>e.pipe(gt(1),Ol(lh)))).pipe(ie(e=>{for(let t of e)if(t!==!0){if(t===lh)return lh;if(t===!1||NU(t))return t}return!0}),Ge(e=>e!==lh),gt(1)))}function NU(n){return mi(n)||n instanceof Ns}function OU(n,e){return ze(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(Pe(U({},t),{guardsResult:!0})):kU(s,r,i,n).pipe(ze(a=>a&&SU(a)?FU(r,o,n,e):ee(a)),ie(a=>Pe(U({},t),{guardsResult:a})))})}function kU(n,e,t,r){return ke(n).pipe(ze(i=>BU(i.component,i.route,t,e,r)),en(i=>i!==!0,!0))}function FU(n,e,t,r){return ke(e).pipe(wr(i=>ri(VU(i.route.parent,r),LU(i.route,r),jU(n,i.path,t),UU(n,i.route,t))),en(i=>i!==!0,!0))}function LU(n,e){return n!==null&&e&&e(new Ch(n)),ee(!0)}function VU(n,e){return n!==null&&e&&e(new bh(n)),ee(!0)}function UU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Ml(()=>{let s=$c(e)??t,a=Fs(o,s),c=MU(a)?a.canActivate(e,n):Tt(s,()=>a(e,n));return yi(c).pipe(en())}));return ee(i).pipe(Os())}function jU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>TU(s)).filter(s=>s!==null).map(s=>Ml(()=>{let a=s.guards.map(c=>{let l=$c(s.node)??t,h=Fs(c,l),p=RU(h)?h.canActivateChild(r,n):Tt(l,()=>h(r,n));return yi(p).pipe(en())});return ee(a).pipe(Os())}));return ee(o).pipe(Os())}function BU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let c=$c(e)??i,l=Fs(a,c),h=PU(l)?l.canDeactivate(n,e,t,r):Tt(c,()=>l(n,e,t,r));return yi(h).pipe(en())});return ee(s).pipe(Os())}function $U(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Fs(s,n),c=AU(a)?a.canLoad(e,t):Tt(n,()=>a(e,t));return yi(c)});return ee(o).pipe(Os(),qA(r))}function qA(n){return hl(oe(e=>{if(typeof e!="boolean")throw Rh(n,e)}),ie(e=>e===!0))}function HU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Fs(s,n),c=xU(a)?a.canMatch(e,t):Tt(n,()=>a(e,t));return yi(c)});return ee(o).pipe(Os(),qA(r))}var Vc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Uc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ss(n){return Jo(new Vc(n))}function zU(n){return Jo(new N(4e3,!1))}function qU(n){return Jo($A(!1,Qt.GuardRejected))}var Qv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[he])return zU(`${e.redirectTo}`);i=i.children[he]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,params:g,data:_,title:T}=i,A=Tt(o,()=>a({params:g,data:_,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:m,title:T}));if(A instanceof sr)throw new Uc(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Uc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new sr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new N(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WU(n,e,t,r,i){let o=WA(n,e,t);return o.matched?(r=gU(e,r),HU(r,e,t,i).pipe(ie(s=>s===!0?o:U({},Yv)))):ee(o)}function WA(n,e,t){if(e.path==="**")return GU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Yv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||wA)(t,n,e);if(!i)return U({},Yv);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function GU(n){return{matched:!0,parameters:n.length>0?bA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vA(n,e,t,r){return t.length>0&&YU(n,t,r)?{segmentGroup:new Ne(e,QU(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&JU(n,t,r)?{segmentGroup:new Ne(n.segments,KU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function KU(n,e,t,r){let i={};for(let o of t)if(Oh(n,e,o)&&!r[On(o)]){let s=new Ne([],{});i[On(o)]=s}return U(U({},r),i)}function QU(n,e){let t={};t[he]=e;for(let r of n)if(r.path===""&&On(r)!==he){let i=new Ne([],{});t[On(r)]=i}return t}function YU(n,e,t){return t.some(r=>Oh(n,e,r)&&On(r)!==he)}function JU(n,e,t){return t.some(r=>Oh(n,e,r))}function Oh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZU(n,e,t){return e.length===0&&!n.children[t]}var Jv=class{};function XU(n,e,t,r,i,o,s="emptyOnly"){return new Zv(n,e,t,r,i,s,o).recognize()}var ej=31,Zv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qv(this.urlSerializer,this.urlTree)}noMatchError(e){return new N(4002,`'${e.segmentGroup}'`)}recognize(){let e=vA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:t,rootSnapshot:r})=>{let i=new sn(r,t),o=new Fc("",i),s=xA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new oo([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),he,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,he,t).pipe(ie(r=>({children:r,rootSnapshot:t})),Er(r=>{if(r instanceof Uc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Vc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(wr(s=>{let a=r.children[s],c=mU(t,s);return this.processSegmentGroup(e,c,a,s,i)}),xl((s,a)=>(s.push(...a),s)),ii(null),jg(),ze(s=>{if(s===null)return Ss(r);let a=GA(s);return tj(a),ee(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(wr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Er(l=>{if(l instanceof Vc)return ee(null);throw l}))),en(c=>!!c),Er(c=>{if(zA(c))return ZU(r,i,o)?ee(new Jv):Ss(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return On(r)!==s&&(s===he||!Oh(i,o,r))?Ss(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Ss(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=WA(t,i,o);if(!c)return Ss(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ej&&(this.allowRedirects=!1));let g=new oo(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,_A(i),On(i),i.component??i._loadedComponent??null,i,EA(i)),_=Mh(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(_.params),g.data=Object.freeze(_.data);let T=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(ze(A=>this.processSegment(e,r,t,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=WU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(nt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:g}=c,_=new oo(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,_A(r),On(r),r.component??r._loadedComponent??null,r,EA(r)),T=Mh(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:O}=vA(t,m,g,l);if(O.length===0&&A.hasChildren())return this.processChildren(h,l,A,_).pipe(ie(H=>new sn(_,H)));if(l.length===0&&O.length===0)return ee(new sn(_,[]));let $=On(r)===o;return this.processSegment(h,l,A,O,$?he:o,!0,_).pipe(ie(H=>new sn(_,H instanceof sn?[H]:[])))}))):Ss(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):$U(e,t,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,t).pipe(oe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qU(t))):ee({routes:[],injector:e})}};function tj(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}function nj(n){let e=n.value.routeConfig;return e&&e.path===""}function GA(n){let e=[],t=new Set;for(let r of n){if(!nj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=GA(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!t.has(r))}function _A(n){return n.data||{}}function EA(n){return n.resolve||{}}function rj(n,e,t,r,i,o){return ze(s=>XU(n,e,t,r,s.extractedUrl,i,o).pipe(ie(({state:a,tree:c})=>Pe(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function ij(n,e){return ze(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of KA(c))s.add(l);let a=0;return ke(s).pipe(wr(c=>o.has(c)?oj(c,r,n,e):(c.data=Mh(c,c.parent,n).resolve,ee(void 0))),oe(()=>a++),Zo(1),ze(c=>a===s.size?ee(t):Mt))})}function KA(n){let e=n.children.map(t=>KA(t)).flat();return[n,...e]}function oj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!UA(i)&&(o[jc]=i.title),sj(o,n,e,r).pipe(ie(s=>(n._resolvedData=s,n.data=Mh(n,n.parent,t).resolve,null)))}function sj(n,e,t,r){let i=jv(n);if(i.length===0)return ee({});let o={};return ke(i).pipe(ze(s=>aj(n[s],e,t,r).pipe(en(),oe(a=>{if(a instanceof Ns)throw Rh(new ao,a);o[s]=a}))),Zo(1),ie(()=>o),Er(s=>zA(s)?Mt:Jo(s)))}function aj(n,e,t,r){let i=$c(e)??r,o=Fs(n,i),s=o.resolve?o.resolve(e,t):Tt(i,()=>o(e,t));return yi(s)}function Vv(n){return nt(e=>{let t=n(e);return t?ke(t).pipe(ie(()=>e)):ee(e)})}var n_=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[jc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(QA),providedIn:"root"})}return n})(),QA=(()=>{class n extends n_{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(fA))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qc=new G("",{providedIn:"root",factory:()=>({})}),Wc=new G(""),YA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(TS);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=yi(t.loadComponent()).pipe(ie(ZA),oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),oi(()=>{this.componentLoaders.delete(t)})),i=new qo(r,()=>new De).pipe(zo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=JA(r,this.compiler,t,this.onLoadEndListener).pipe(oi(()=>{this.childrenLoaders.delete(r)})),s=new qo(o,()=>new De).pipe(zo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JA(n,e,t,r){return yi(n.loadChildren()).pipe(ie(ZA),ze(i=>i instanceof Jy||Array.isArray(i)?ee(i):ke(e.compileModuleAsync(i))),ie(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Wc,[],{optional:!0,self:!0}).flat()),{routes:s.map(t_),injector:o}}))}function cj(n){return n&&typeof n=="object"&&"default"in n}function ZA(n){return cj(n)?n.default:n}var kh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(uj),providedIn:"root"})}return n})(),uj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XA=new G("");var eM=new G(""),tM=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new De;transitionAbortSubject=new De;configLoader=F(YA);environmentInjector=F(bt);destroyRef=F(gs);urlSerializer=F(Bc);rootContexts=F(ks);location=F(ws);inputBindingEnabled=F(Nh,{optional:!0})!==null;titleStrategy=F(n_);options=F(qc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(kh);createViewTransition=F(XA,{optional:!0});navigationErrorHandler=F(eM,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ee(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new wh(i)),r=i=>this.events.next(new Ih(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Pe(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new It(null),this.transitions.pipe(Ge(r=>r!==null),nt(r=>{let i=!1,o=!1;return ee(r).pipe(nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Fr(s.id,this.urlSerializer.serialize(s.rawUrl),l,xc.IgnoredSameUrlNavigation)),s.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ee(s).pipe(nt(l=>(this.events.next(new co(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Mt:Promise.resolve(l))),rj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Pe(U({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Nc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:m,extras:g}=s,_=new co(l,this.urlSerializer.serialize(h),p,m);this.events.next(_);let T=LA(this.rootComponentType).snapshot;return this.currentTransition=r=Pe(U({},s),{targetSnapshot:T,urlAfterRedirects:h,extras:Pe(U({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ee(r)}else{let l="";return this.events.next(new Fr(s.id,this.urlSerializer.serialize(s.extractedUrl),l,xc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Mt}}),oe(s=>{let a=new yh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),ie(s=>(this.currentTransition=r=Pe(U({},s),{guards:bU(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),OU(this.environmentInjector,s=>this.events.next(s)),oe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Rh(this.urlSerializer,s.guardsResult);let a=new vh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Qt.GuardRejected),!1)),Vv(s=>{if(s.guards.canActivateChecks.length!==0)return ee(s).pipe(oe(a=>{let c=new _h(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),nt(a=>{let c=!1;return ee(a).pipe(ij(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Qt.NoDataFromResolver)}}))}),oe(a=>{let c=new Eh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Vv(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(oe(h=>{c.component=h}),ie(()=>{})));for(let h of c.children)l.push(...a(h));return l};return Al(a(s.targetSnapshot.root)).pipe(ii(null),gt(1))}),Vv(()=>this.afterPreactivation()),nt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ke(c).pipe(ie(()=>r)):ee(r)}),ie(s=>{let a=vU(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Pe(U({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),oe(()=>{this.events.next(new Oc)}),IU(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),gt(1),oe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Bg(this.transitionAbortSubject.pipe(oe(s=>{throw s}))),oi(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Er(s=>{if(this.destroyed)return r.resolve(!1),Mt;if(o=!0,HA(s))this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),wU(s)?this.events.next(new xs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ps(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Ns){let{message:l,cancellationCode:h}=Rh(this.urlSerializer,c);this.events.next(new or(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new xs(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Mt}))}))}cancelNavigationTransition(t,r,i){let o=new or(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lj(n){return n!==ph}var nM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(dj),providedIn:"root"})}return n})(),xh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},dj=(()=>{class n extends xh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ay(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rM=(()=>{class n{urlSerializer=F(Bc);options=F(qc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(ws);urlHandlingStrategy=F(kh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new sr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof sr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=LA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(hj),providedIn:"root"})}return n})(),hj=(()=>{class n extends rM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof co?this.updateStateMemento():t instanceof Fr?this.commitTransition(r):t instanceof Nc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Oc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof or&&(t.code===Qt.GuardRejected||t.code===Qt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ps?this.restoreHistory(r,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ay(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function r_(n,e){n.events.pipe(Ge(t=>t instanceof kn||t instanceof or||t instanceof Ps||t instanceof Fr),ie(t=>t instanceof kn||t instanceof Fr?0:(t instanceof or?t.code===Qt.Redirect||t.code===Qt.SupersededByNewNavigation:!1)?2:1),Ge(t=>t!==2),gt(1)).subscribe(()=>{e()})}var fj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(uS);stateManager=F(rM);options=F(qc,{optional:!0})||{};pendingTasks=F(Xn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(tM);urlSerializer=F(Bc);location=F(ws);urlHandlingStrategy=F(kh);_events=new De;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(nM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(Wc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Nh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof or&&r.code!==Qt.Redirect&&r.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof xs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||lj(i.source)},s);this.scheduleNavigation(a,ph,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}mj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ph,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(t_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=NA(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return OA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=mi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ph,null,r)}navigate(t,r={skipLocationChange:!1}){return gj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},fj):r===!1?i=U({},pj):i=r,mi(t))return pA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return pA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,c=m});let h=this.pendingTasks.add();return r_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new N(4008,!1)}function mj(n){return!(n instanceof Oc)&&!(n instanceof xs)}var yn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new De;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof kn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:_D(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:mi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Q(mn),Q(cn),Td("tabindex"),Q(tr),Q(nn),Q(eo))};static \u0275dir=on({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&qe("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Vd("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zd],replaceUrl:[2,"replaceUrl","replaceUrl",zd],routerLink:"routerLink"},features:[Mr]})}return n})(),i_=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new rt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof kn&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(ni()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ke(t).pipe(ni()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=vj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Q(mn),Q(nn),Q(tr),Q(di),Q(yn,8))};static \u0275dir=on({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Bd(o,yn,5),r&2){let s;_s(s=Es())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Mr]})}return n})();function vj(n){return!!n.paths}var _j=new G("");function o_(n,...e){return ui([{provide:Wc,multi:!0,useValue:n},[],{provide:cn,useFactory:Ej,deps:[mn]},{provide:ev,multi:!0,useFactory:wj},e.map(t=>t.\u0275providers)])}function Ej(n){return n.routerState.root}function wj(){let n=F(Kt);return e=>{let t=n.get(Wi);if(e!==t.components[0])return;let r=n.get(mn),i=n.get(Ij);n.get(bj)===1&&r.initialNavigation(),n.get(Tj,null,pe.Optional)?.setUpPreloading(),n.get(_j,null,pe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Ij=new G("",{factory:()=>new De}),bj=new G("",{providedIn:"root",factory:()=>1});var Tj=new G("");var iM=()=>({exact:!0}),Fh=class n{constructor(e){this.router=e}isMobileNavOpen=!1;toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen,this.isMobileNavOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeMobileNav(){this.isMobileNavOpen=!1,document.body.style.overflow=""}navigateToLogin(){this.closeMobileNav(),console.log("Navigate to login page")}static \u0275fac=function(t){return new(t||n)(Q(mn))};static \u0275cmp=ft({type:n,selectors:[["app-header"]],decls:33,vars:6,consts:[[1,"app-header"],[1,"container","header-content"],["routerLink","/",1,"logo"],[1,"desktop-nav"],["routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions"],["routerLink","/courses","routerLinkActive","active-link"],[1,"header-actions"],["aria-label","\u041F\u0435\u0440\u0435\u043C\u043A\u043D\u0443\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-toggle","visible-mobile",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","18","x2","21","y2","18"],[1,"mobile-nav"],[1,"mobile-nav-header"],["routerLink","/",1,"logo",3,"click"],["aria-label","\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-close",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[3,"click"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1)(2,"div",2),Y(3," \u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438 "),x(),P(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),Y(8,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),x()(),P(9,"li")(10,"a",5),Y(11,"\u041A\u0443\u0440\u0441\u0438"),x()()()(),P(12,"div",6)(13,"button",7),qe("click",function(){return r.toggleMobileNav()}),Iy(),P(14,"svg",8),_e(15,"line",9)(16,"line",10)(17,"line",11),x()()()(),by(),P(18,"nav",12)(19,"div",13)(20,"div",14),qe("click",function(){return r.closeMobileNav()}),Y(21,"\u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438"),x(),P(22,"button",15),qe("click",function(){return r.closeMobileNav()}),Iy(),P(23,"svg",8),_e(24,"line",16)(25,"line",17),x()()(),by(),P(26,"ul")(27,"li",18),qe("click",function(){return r.closeMobileNav()}),P(28,"a",4),Y(29,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),x()(),P(30,"li",18),qe("click",function(){return r.closeMobileNav()}),P(31,"a",5),Y(32,"\u041A\u0443\u0440\u0441\u0438"),x()()()()()),t&2&&(V(7),q("routerLinkActiveOptions",ov(4,iM)),V(11),tv("open",r.isMobileNavOpen),V(10),q("routerLinkActiveOptions",ov(5,iM)))},dependencies:[Nt,yn,i_],styles:['.app-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--light-text-color);padding:15px 0;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:1000;width:100%}.app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--light-text-color);cursor:pointer;text-decoration:none}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{flex-grow:1;text-align:center}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:inline-flex}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 15px}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-weight:600;padding-bottom:5px;position:relative}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:var(--secondary-color)}@media (max-width: 767px){.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:none}}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{padding:8px 18px;font-size:.9em}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--primary-color);z-index:1001;overflow-y:auto;padding:20px var(--container-padding);box-sizing:border-box}.app-header[_ngcontent-%COMP%]   .mobile-nav.open[_ngcontent-%COMP%]{display:flex;flex-direction:column}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.6em}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:center}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-size:1.3em;font-weight:600;display:block;padding:10px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:10px auto 0}@media (min-width: 768px){.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none!important}}.app-header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}']})};var Lh=class n{currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-footer"]],decls:44,vars:1,consts:[[1,"app-footer"],[1,"container","footer-content"],[1,"footer-column","about-column"],["routerLink","/",1,"footer-logo"],[1,"social-icons"],["href","https://facebook.com","aria-label","Facebook","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","aria-label","Instagram","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-instagram"],["href","https://twitter.com","aria-label","Twitter","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-twitter"],[1,"footer-column","links-column"],["routerLink","/"],["routerLink","/courses"],[1,"footer-column","contact-column"],["href","mailto:olgaor994@gmail.com"],["href","tel:+1234567890"],[1,"footer-bottom"],[1,"container"],["href","assets/documents/privacy-policy.pdf"],["href","assets/documents/public-offer.pdf","target","_blank","rel","noopener noreferrer"]],template:function(t,r){t&1&&(P(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3",3),Y(4,"\u041C\u0430\u043C\u041A\u0443\u0440\u0441\u0438"),x(),P(5,"p"),Y(6,"\u041F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u0430 \u043C\u0430\u0442\u0435\u0440\u0456\u0432, \u0440\u043E\u0437\u0448\u0438\u0440\u0435\u043D\u043D\u044F \u043C\u043E\u0436\u043B\u0438\u0432\u043E\u0441\u0442\u0435\u0439. \u0417\u043D\u0430\u0439\u0434\u0456\u0442\u044C \u043A\u0443\u0440\u0441\u0438, \u044F\u043A\u0456 \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u0430\u044E\u0442\u044C \u0432\u0430\u0441 \u043D\u0430 \u0448\u043B\u044F\u0445\u0443 \u043C\u0430\u0442\u0435\u0440\u0438\u043D\u0441\u0442\u0432\u0430."),x(),P(7,"div",4)(8,"a",5),_e(9,"i",6),x(),P(10,"a",7),_e(11,"i",8),x(),P(12,"a",9),_e(13,"i",10),x()()(),P(14,"div",11)(15,"h4"),Y(16,"\u0428\u0432\u0438\u0434\u043A\u0456 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F"),x(),P(17,"ul")(18,"li")(19,"a",12),Y(20,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),x()(),P(21,"li")(22,"a",13),Y(23,"\u041A\u0443\u0440\u0441\u0438"),x()()()(),P(24,"div",14)(25,"h4"),Y(26,"\u0417\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043D\u0430\u043C\u0438"),x(),P(27,"p"),Y(28,"\u0415\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430 \u043F\u043E\u0448\u0442\u0430: "),P(29,"a",15),Y(30,"olgaor994@gmail.com"),x()(),P(31,"p"),Y(32,"\u0422\u0435\u043B\u0435\u0444\u043E\u043D: "),P(33,"a",16),Y(34,"+1 (234) 567-890"),x()()()(),P(35,"div",17)(36,"div",18)(37,"p"),Y(38),P(39,"a",19),Y(40,"\u041F\u043E\u043B\u0456\u0442\u0438\u043A\u0430 \u043A\u043E\u043D\u0444\u0456\u0434\u0435\u043D\u0446\u0456\u0439\u043D\u043E\u0441\u0442\u0456"),x(),Y(41," | "),P(42,"a",20),Y(43,"\u041F\u0443\u0431\u043B\u0456\u0447\u043D\u0430 \u043E\u0444\u0435\u0440\u0442\u0430"),x()()()()()),t&2&&(V(38),nr("\xA9 ",r.currentYear," \u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438. \u0412\u0441\u0456 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043D\u043E. | "))},dependencies:[Nt],styles:[".app-footer[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1);padding-top:40px}.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px;padding-bottom:40px}@media (min-width: 768px){.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--light-text-color);margin-bottom:15px;text-decoration:none;display:inline-block}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:var(--light-text-color);margin-bottom:15px;position:relative}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95em;line-height:1.6;margin-bottom:10px;color:#e0e0e0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{margin-top:20px}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:var(--light-text-color);border:1px solid var(--light-text-color);border-radius:50%;width:36px;height:36px;line-height:34px;text-align:center;margin-right:10px;text-decoration:none;font-size:.9em;transition:background-color .3s,color .3s}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color);border-color:var(--secondary-color);color:var(--accent-text-color-1)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{background-color:var(--accent-color-1);padding:15px 0;text-align:center;font-size:.85em;color:#ccc}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}"]})};var Vh=class n{title="mothers-courses-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&(_e(0,"app-header"),P(1,"main"),_e(2,"router-outlet"),x(),_e(3,"app-footer"))},dependencies:[Hc,Fh,Lh],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px)}"]})};var Cj=n=>["/course",n];function Dj(n,e){if(n&1){let t=Nn();P(0,"div",1),_e(1,"img",2),P(2,"div",3)(3,"h3",4),Y(4),x(),P(5,"p",5),Y(6),x(),P(7,"div",6)(8,"span"),Y(9),x(),P(10,"span"),Y(11),x()(),P(12,"div",7)(13,"span",8),Y(14),x(),P(15,"a",9),qe("click",function(){jt(t);let i=Ce();return Bt(i.console.log(i.course))}),Y(16,"View Details"),x()()()()}if(n&2){let t=Ce();V(),q("src",t.course.imageUrl,xn)("alt",t.course.title),V(3),it(t.course.title),V(2),it(t.course.tagline),V(3),nr("\u0410\u0432\u0442\u043E\u0440: ",t.course.instructor,""),V(2),nr("",t.course.countOfVideos," \u0412\u0456\u0434\u0435\u043E \u0443\u0440\u043E\u043A\u0456\u0432"),V(3),nr("$",t.course.price.toFixed(2),""),V(),q("routerLink",Zi(8,Cj,t.course.slug))}}var Vs=class n{course;print=print;console=console;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-course-card"]],inputs:{course:"course"},decls:1,vars:1,consts:[["class","course-card card",4,"ngIf"],[1,"course-card","card"],[1,"course-image",3,"src","alt"],[1,"course-content"],[1,"course-title"],[1,"course-tagline"],[1,"course-meta"],[1,"course-price-action"],[1,"course-price"],[1,"btn","btn-primary",3,"click","routerLink"]],template:function(t,r){t&1&&Ee(0,Dj,17,10,"div",0),t&2&&q("ngIf",r.course)},dependencies:[Nt,Or,yn],styles:[".course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:transform .3s ease,box-shadow .3s ease}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #00000026}.course-card[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:15px;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.course-card[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.4em;margin-bottom:5px;color:var(--accent-color-1)}.course-card[_ngcontent-%COMP%]   .course-tagline[_ngcontent-%COMP%]{font-size:.95em;color:var(--text-color);margin-bottom:10px;min-height:40px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:15px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-bottom:3px}.course-card[_ngcontent-%COMP%]   .course-price-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.course-card[_ngcontent-%COMP%]   .course-price[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:var(--accent-color-1)}"]})};var ae=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ae||{}),vn="*";function a_(n,e){return{type:ae.Trigger,name:n,definitions:e,options:{}}}function Uh(n,e=null){return{type:ae.Animate,styles:e,timings:n}}function oM(n,e=null){return{type:ae.Sequence,steps:n,options:e}}function lo(n){return{type:ae.Style,styles:n,offset:null}}function jh(n,e,t){return{type:ae.State,name:n,styles:e,options:t}}function Bh(n,e,t=null){return{type:ae.Transition,expr:n,animation:e,options:t}}var ar=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},uo=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Us="!";var Sj=(n,e,t,r,i)=>({width:n,transform:e,transition:t,"padding-left":r,"padding-right":i}),Aj=(n,e,t,r)=>({width:n,"margin-left":e,"margin-right":t,left:r}),Mj=(n,e)=>({$implicit:n,index:e}),dM=(n,e)=>e.id;function Rj(n,e){}function Pj(n,e){if(n&1&&Ee(0,Rj,0,0,"ng-template",3),n&2){let t=Ce(),r=t.$implicit,i=t.$index,o=Ce();q("ngTemplateOutlet",r.tplRef)("ngTemplateOutletContext",$d(2,Mj,o.preparePublicSlide(r),i))}}function xj(n,e){if(n&1){let t=Nn();P(0,"div",2),qe("animationend",function(){let i=jt(t).$implicit,o=Ce();return Bt(o.clear(i.id))}),Ee(1,Pj,1,5,null,3),x()}if(n&2){let t=e.$implicit;q("ngClass",t.classes)("ngStyle",vS(4,Aj,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),V(),Ud(t.load?1:-1)}}var Nj=(n,e,t,r,i)=>({"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":r,"owl-grab":i}),Oj=(n,e)=>({isMouseDragable:n,isTouchDragable:e}),$h=n=>({disabled:n}),kj=(n,e)=>({active:n,"owl-dot-text":e});function Fj(n,e){if(n&1&&(P(0,"div",2),_e(1,"owl-stage",3),x()),n&2){let t=Ce();V(),q("owlDraggable",$d(3,Oj,t.owlDOMData==null?null:t.owlDOMData.isMouseDragable,t.owlDOMData==null?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}function Lj(n,e){if(n&1){let t=Nn();P(0,"div",9),qe("click",function(){let i=jt(t).$implicit,o=Ce(2);return Bt(o.moveByDot(i.id))}),_e(1,"span",10),x()}if(n&2){let t=e.$implicit;q("ngClass",$d(2,kj,t.active,t.showInnerContent)),V(),q("innerHTML",t.innerContent,rn)}}function Vj(n,e){if(n&1){let t=Nn();P(0,"div",4)(1,"div",5),qe("click",function(){jt(t);let i=Ce();return Bt(i.prev())}),x(),P(2,"div",6),qe("click",function(){jt(t);let i=Ce();return Bt(i.next())}),x()(),P(3,"div",7),nv(4,Lj,2,5,"div",8,dM),x()}if(n&2){let t=Ce();q("ngClass",Zi(6,$h,t.navData==null?null:t.navData.disabled)),V(),q("ngClass",Zi(8,$h,t.navData==null||t.navData.prev==null?null:t.navData.prev.disabled))("innerHTML",t.navData==null||t.navData.prev==null?null:t.navData.prev.htmlText,rn),V(),q("ngClass",Zi(10,$h,t.navData==null||t.navData.next==null?null:t.navData.next.disabled))("innerHTML",t.navData==null||t.navData.next==null?null:t.navData.next.htmlText,rn),V(),q("ngClass",Zi(12,$h,t.dotsData==null?null:t.dotsData.disabled)),V(),rv(t.dotsData==null?null:t.dotsData.dots)}}var c_=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},u_=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},d_=(()=>{class n{errorHandler;constructor(t){this.errorHandler=t}log(t,...r){gc()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}static \u0275fac=function(r){return new(r||n)(z(Rn))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var hM=function(n){return n.Event="event",n.State="state",n}(hM||{}),Hh=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(Hh||{});var Lr=(()=>{class n{logger;_viewSettingsShipper$=new De;_initializedCarousel$=new De;_changeSettingsCarousel$=new De;_changedSettingsCarousel$=new De;_translateCarousel$=new De;_translatedCarousel$=new De;_resizeCarousel$=new De;_resizedCarousel$=new De;_refreshCarousel$=new De;_refreshedCarousel$=new De;_dragCarousel$=new De;_draggedCarousel$=new De;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{let r=this.settings.margin||"",i=!this.settings.autoWidth,o=this.settings.rtl,s={"margin-left":o?r:"","margin-right":o?"":r};i||this.slidesData.forEach(a=>{a.marginL=s["margin-left"],a.marginR=s["margin-right"]}),t.css=s}},{filter:["width","items","settings"],run:t=>{let r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=!this.settings.autoWidth,o=[],s=null,a=this._items.length;for(t.items={merge:!1,width:r};a-- >0;)s=this._mergers[a],s=this.settings.mergeFit&&Math.min(s,this.settings.items)||s,t.items.merge=s>1||t.items.merge,o[a]=i?r*s:this._items[a].width?this._items[a].width:r;this._widths=o,this.slidesData.forEach((c,l)=>{c.width=this._widths[l],c.marginR=t.css["margin-right"],c.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let t=[],r=this._items,i=this.settings,o=Math.max(i.items*2,4),s=Math.ceil(r.length/2)*2,a=[],c=[],l=i.loop&&r.length?i.rewind?o:Math.max(o,s):0;for(l/=2;l-- >0;)t.push(this.normalize(t.length/2,!0)),a.push(U({},this.slidesData[t[t.length-1]])),t.push(this.normalize(r.length-1-(t.length-1)/2,!0)),c.unshift(U({},this.slidesData[t[t.length-1]]));this._clones=t,a=a.map(h=>Pe(U({},h),{id:`${this.clonedIdPrefix}${h.id}-append`,isActive:!1,isCloned:!0})),c=c.map(h=>Pe(U({},h),{id:`${this.clonedIdPrefix}${h.id}`,isActive:!1,isCloned:!0})),this.slidesData=c.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,i=[],o=-1,s=0,a=0;for(;++o<r;)s=i[o-1]||0,a=this._widths[this.relative(o)]+this.settings.margin,i.push(s+a*t);this._coordinates=i}},{filter:["width","items","settings"],run:()=>{let t=this.settings.stagePadding,r=this._coordinates,i={width:Math.ceil(Math.abs(r[r.length-1]))+t*2,"padding-left":t||"","padding-right":t||""};this.stageData.width=i.width,this.stageData.paddingL=i["padding-left"],this.stageData.paddingR=i["padding-right"]}},{filter:["width","items","settings"],run:t=>{let r=t.current?this.slidesData.findIndex(i=>i.id===t.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this.settings.stagePadding*2,i=[],o,s,a,c,l,h;if(o=this.coordinates(this.current()),typeof o=="number"?o+=r:o=0,s=o+this.width()*t,t===-1&&this.settings.center){let p=this._coordinates.filter(m=>this.settings.items%2===1?m>=o:m>o);o=p.length?p[p.length-1]:o}for(l=0,h=this._coordinates.length;l<h;l++)a=Math.ceil(this._coordinates[l-1]||0),c=Math.ceil(Math.abs(this._coordinates[l])+r*t),(this._op(a,"<=",o)&&this._op(a,">",s)||this._op(c,"<",o)&&this._op(c,">",s))&&i.push(l);this.slidesData.forEach(p=>(p.isActive=!1,p)),i.forEach(p=>{this.slidesData[p].isActive=!0}),this.settings.center&&(this.slidesData.forEach(p=>(p.isCentered=!1,p)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){let r=new c_,i=this._validateOptions(t,r);this._options=U(U({},r),i)}_validateOptions(t,r){let i=U({},t),o=new u_,s=(a,c)=>(this.logger.log(`options.${c} must be type of ${a}; ${c}=${t[c]} skipped to defaults: ${c}=${r[c]}`),r[c]);for(let a in i)if(i.hasOwnProperty(a)){if(o[a]==="number")this._isNumeric(i[a])?(i[a]=+i[a],i[a]=a==="items"?this._validateItems(i[a],i.skip_validateItems):i[a]):i[a]=s(o[a],a);else if(o[a]==="boolean"&&typeof i[a]!="boolean")i[a]=s(o[a],a);else if(o[a]==="number|boolean"&&!this._isNumberOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="number|string"&&!this._isNumberOrString(i[a]))i[a]=s(o[a],a);else if(o[a]==="string|boolean"&&!this._isStringOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="string[]")if(Array.isArray(i[a])){let c=!1;i[a].forEach(l=>{c=typeof l=="string"}),c||(i[a]=s(o[a],a))}else i[a]=s(o[a],a)}return i}_validateItems(t,r){let i=t;return t>this._items.length?r?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,r,i){this.setCarouselWidth(t),this.setItems(r),this._defineSlidesData(),this.setOptions(i),this.settings=U({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let t=this._width,r=this._options.responsive,i=-1;if(!Object.keys(r).length)return;if(!t){this.settings.items=1;return}for(let s in r)r.hasOwnProperty(s)&&+s<=t&&+s>i&&(i=Number(s));this.settings=Pe(U(U({},this._options),r[i]),{items:r[i]&&r[i].items?this._validateItems(r[i].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(s=>{let a=this.settings.merge?s.dataMerge:1;o.push(a)}),this._mergers=o,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(r=>{let i=this.settings.merge?r.dataMerge:1;this._mergers.push(i)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0,r=this._pipe.length,i=s=>this._invalidated[s],o={};for(;t<r;){let s=this._pipe[t].filter.filter(i);(this._invalidated.all||s.length>0)&&this._pipe[t].run(o),t++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||Hh.Default,t){case Hh.Inner:case Hh.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let r=null,i;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),r={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),t.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),r}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,r){let i=null,o=null,s=null,a=this.difference(r.pointer,this.pointer(t)),c=this.difference(r.stage.start,a);return this.is("dragging")?(this.settings.loop?(i=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-i,c.x=((c.x-i)%o+o)%o+i):(i=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,c.x=Math.max(Math.min(c.x,i+s),o+s)),c):!1}finishDragging(t,r,i){let o=["right","left"],s=this.difference(r.pointer,this.pointer(t)),a=r.stage.current,c=o[+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)],l,h,p;(s.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),l=this.closest(a.x,s.x!==0?c:r.direction),h=this.current(),p=this.current(l===-1?void 0:l),h!==p&&(this.invalidate("position"),this.update()),r.direction=c,(Math.abs(s.x)>3||new Date().getTime()-r.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,r){let o=this.width(),s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(c=>(c===0&&(c+=1e-6),c)));for(let c=0;c<s.length&&(r==="left"&&t>s[c]-30&&t<s[c]+30?a=c:r==="right"&&t>s[c]-o-30&&t<s[c]-o+30?a=c+1:this._op(t,"<",s[c])&&this._op(t,">",s[c+1]||s[c]-o)?a=r==="left"?c+1:c:r===null&&t>s[c]-30&&t<s[c]+30&&(a=c),a===-1);c++);return this.settings.loop||(this._op(t,">",s[this.minimum()])?a=t=this.minimum():this._op(t,"<",s[this.maximum()])&&(a=t=this.maximum())),a}animate(t){let r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){if(t===void 0)return this._current;if(this._items.length!==0){if(t=this.normalize(t),this._current!==t){let r=this._trigger("change",{property:{name:"position",value:t}});this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(t){return typeof t=="string"&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){t=this.normalize(t),t!==void 0&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,r){let i=this._items.length,o=r?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t}relative(t){return t-=this._clones.length/2,this.normalize(t,!0)}maximum(t=!1){let r=this.settings,i=this._coordinates.length,o,s,a;if(r.loop)i=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o-- >0&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););i=o+1}else r.center?i=this._items.length-1:i=this._items.length-r.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return t===void 0?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return t===void 0?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){let r=this._clones.length/2,i=r+this._items.length,o=s=>s%2===0?i+s/2:r-(s+1)/2;return t===void 0?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===t?o(a):null).filter(s=>s)}speed(t){return t!==void 0&&(this._speed=t),this._speed}coordinates(t){let r=1,i=t-1,o,s;return t===void 0?(s=this._coordinates.map((a,c)=>this.coordinates(c)),s):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),o=this._coordinates[t],o+=(this.width()-o+(this._coordinates[i]||0))/2*r):o=this._coordinates[i]||0,o=Math.ceil(o),o)}_duration(t,r,i){return i===0?0:Math.min(Math.max(Math.abs(r-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,r){let i=this.current(),o=null,s=t-this.relative(i),a=this.maximum(),c=0,l=+(s>0)-+(s<0),h=this._items.length,p=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>h/2&&(s+=l*-1*h),t=i+s,o=((t-p)%h+h)%h+p,o!==t&&o-s<=a&&o-s>0&&(i=o-s,t=o,c=30,this.reset(i),this.sendChanges())):this.settings.rewind?(a+=1,t=(t%a+a)%a):t=Math.max(p,Math.min(a,t)),setTimeout(()=>{this.speed(this._duration(i,t,r)),this.current(t),this.update()},c)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(t!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(r=>{r.load&&t.set(r.id,r.load)})),this.slidesData=this._items.map(r=>({id:`${r.id}`,isActive:!1,tplRef:r.tplRef,dataMerge:r.dataMerge,width:0,isCloned:!1,load:t?t.get(r.id):!1,hashFragment:r.dataHash}))}setCurSlideClasses(t){let r={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(r[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(r[this.settings.animateOut]=t.isCustomAnimatedOut),r}_op(t,r,i){let o=this.settings.rtl;switch(r){case"<":return o?t>i:t<i;case">":return o?t<i:t>i;case">=":return o?t<=i:t>=i;case"<=":return o?t>=i:t<=i;default:break}}_trigger(t,r,i,o,s){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(r);break;case"changed":this._changedSettingsCarousel$.next(r);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t);break;default:break}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{this._states.current[r]===void 0&&(this._states.current[r]=0),this._states.current[r]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{(this._states.current[r]===0||this._states.current[r])&&this._states.current[r]--})}register(t){t.type===hM.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((r,i)=>this._states.tags[t.name].indexOf(r)===i))}_suppress(t){t.forEach(r=>{this._supress[r]=!0})}_release(t){t.forEach(r=>{delete this._supress[r]})}pointer(t){let r={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||typeof t=="boolean"}_isNumberOrString(t){return this._isNumeric(t)||typeof t=="string"}_isStringOrBoolean(t){return typeof t=="string"||typeof t=="boolean"}difference(t,r){return t===null||r===null?{x:0,y:0}:{x:t.x-r.x,y:t.y-r.y}}static \u0275fac=function(r){return new(r||n)(z(d_))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),sM=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=this.carouselService.getChangedState().pipe(Ge(s=>s.property.name==="position"),oe(s=>{this.update()})),i=this.carouselService.getRefreshedState().pipe(oe(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=Cn(t,r,i);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,r,i,o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),c=[],l=this.carouselService.settings,h=l.center||l.autoWidth||l.dotsData?1:Math.floor(Number(l.dotsEach))||Math.floor(l.items);if(h=+h,l.slideBy!=="page"&&(l.slideBy=Math.min(+l.slideBy,l.items)),l.dots||l.slideBy==="page")for(t=o,r=0,i=0;t<s;t++){if(r>=h||r===0){if(c.push({start:Math.min(a,t-o),end:t-o+h-1}),Math.min(a,t-o)===a)break;r=0,++i}r+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=c}draw(){let t,r=this.carouselService.settings,i=this.carouselService.items(),o=i.length<=r.items;if(this._navData.disabled=!r.nav||o,this._dotsData.disabled=!r.dots||o,r.dots)if(t=this._pages.length-this._dotsData.dots.length,r.dotsData&&t!==0)this._dotsData.dots=[],i.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(t>0){let s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<t;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let t=this.carouselService.settings,r=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!r&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!r&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(r=>{r.active===!0&&(r.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let t=this.carouselService.relative(this.carouselService.current()),r,i=this._pages.filter((o,s)=>o.start<=t&&o.end>=t).pop();return r=this._pages.findIndex(o=>o.start===i.start&&o.end===i.end),r}_getPosition(t){let r,i,o=this.carouselService.settings;return o.slideBy==="page"?(r=this._current(),i=this._pages.length,t?++r:--r,r=this._pages[(r%i+i)%i].start):(r=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?r+=+o.slideBy:r-=+o.slideBy),r}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,r,i){let o;!i&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(t%o+o)%o].start,r)):this.carouselService.to(t,r)}moveByDot(t){let r=this._dotsData.dots.findIndex(i=>t===i.id);this.to(r,this.carouselService.settings.dotsSpeed)}toSlideById(t){let r=this.carouselService.slidesData.findIndex(i=>i.id===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}static \u0275fac=function(r){return new(r||n)(z(Lr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),h_=new G("WindowToken"),Gc=class{get nativeWindow(){throw new Error("Not implemented.")}},Uj=(()=>{class n extends Gc{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function jj(n,e){return kr(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}}var Bj={provide:Gc,useClass:Uj},$j={provide:h_,useFactory:jj,deps:[Gc,$t]},Hj=[Bj,$j],zh=new G("DocumentToken"),Kc=class{get nativeDocument(){throw new Error("Not implemented.")}},zj=(()=>{class n extends Kc{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function qj(n,e){return kr(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var Wj={provide:Kc,useClass:zj},Gj={provide:zh,useFactory:qj,deps:[Kc,$t]},Kj=[Wj,Gj],aM=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,r,i,o){this.carouselService=t,this.ngZone=o,this.winRef=r,this.docRef=i,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>{this.carouselService.settings.autoplay&&this.play()})),r=this.carouselService.getChangedState().pipe(oe(s=>{this._handleChangeObservable(s)})),i=this.carouselService.getResizedState().pipe(oe(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=Cn(t,r,i);this.autoplaySubscription=o.subscribe(()=>{})}play(t,r){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,r){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(r||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){t.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():t.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){ee("translated").pipe(nt(t=>this.carouselService.getTranslatedState()),en(),Ge(()=>this._isArtificialAutoplayTimeout),oe(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(r){return new(r||n)(z(Lr),z(h_),z(zh),z(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),cM=(()=>{class n{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>{let s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),r=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),o=Cn(t,r,i).pipe(oe(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(t){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(t.property&&t.property.name==="position"||t==="initialized"||t==="resized")){let r=this.carouselService.settings,i=this.carouselService.clones().length,o=r.center&&Math.ceil(r.items/2)||r.items,s=r.center&&o*-1||0,a=(t.property&&t.property.value!==void 0?t.property.value:this.carouselService.current())+s;for(r.lazyLoadEager>0&&(o+=r.lazyLoadEager,r.loop&&(a-=r.lazyLoadEager,o++));s++<o;)this._load(i/2+this.carouselService.relative(a)),i&&this.carouselService.clones(this.carouselService.relative(a)).forEach(c=>this._load(c)),a++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(r){return new(r||n)(z(Lr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),l_=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getChangeState().pipe(oe(l=>{l.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=l.property.value)})),r=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=Cn(r,i,o).pipe(oe(l=>this.swapping=l==="translated")),a=this.carouselService.getTranslateState().pipe(oe(l=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),c=Cn(t,a,s).pipe();this.animateSubscription=c.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let t,r=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.left=`${t}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(r=>{r.id===t&&(r.left="",r.isAnimated=!1,r.isDefAnimatedOut=!1,r.isCustomAnimatedOut=!1,r.isDefAnimatedIn=!1,r.isCustomAnimatedIn=!1,r.classes=this.carouselService.setCurSlideClasses(r))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(r){return new(r||n)(z(Lr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),uM=(()=>{class n{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),r=this.carouselService.getChangedState().pipe(oe(s=>{this.carouselService.settings.autoHeight&&s.property.name==="position"&&this.update()})),i=this.carouselService.getRefreshedState().pipe(oe(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=Cn(t,r,i);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let t=this.carouselService.settings.items,r=this.carouselService.current(),i=r+t;this.carouselService.settings.center&&(r=t%2===1?r-(t-1)/2:r-t/2,i=t%2===1?r+t:r+t+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=r&&s<i?"full":"nulled"})}static \u0275fac=function(r){return new(r||n)(z(Lr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),lM=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,r,i){this.carouselService=t,this.route=r,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:ee("no route").pipe(gt(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>this.listenToRoute())),r=this.carouselService.getChangedState().pipe(oe(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),i=Cn(t,r);this.hashSubscription=i.subscribe(()=>{})}rewind(t){let r=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}listenToRoute(){let t=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(Nl(t)).subscribe(r=>{this.currentHashFragment=r,this.rewind(r)})}static \u0275fac=function(r){return new(r||n)(z(Lr),z(cn,8),z(mn,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Qj=0,f_=(()=>{class n{tplRef;id=`owl-slide-${Qj++}`;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(r){return new(r||n)(Q(Cr))};static \u0275dir=on({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"},standalone:!1})}return n})(),fM=(()=>{class n{resizeObservable$;docRef;get onResize$(){return this.resizeObservable$.pipe(Ge(()=>!this.docRef?.fullscreenElement))}constructor(t,r,i){this.docRef=r,this.resizeObservable$=kr(i)?$a(t,"resize"):new De().asObservable()}static \u0275fac=function(r){return new(r||n)(z(h_),z(zh),z($t))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Yj=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new De;_oneMoveSubsription;preparePublicSlide=t=>{let r=U({},t);return delete r.tplRef,r};constructor(t,r,i,o,s){this.zone=t,this.el=r,this.renderer=i,this.carouselService=o,this.animateService=s}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(en()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let r=null;t.which!==3&&(r=this._prepareDragging(t),this._drag.time=new Date().getTime(),this._drag.target=t.target,this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){let r=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(r.x)<3&&Math.abs(r.y)<3&&this._is("valid"))&&(Math.abs(r.x)<3&&Math.abs(r.x)<Math.abs(r.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let r=t.target;for(;r&&!(r instanceof HTMLAnchorElement);)r=r.parentElement;r instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(r,"click",()=>!1))}_onDragMove(t){let r,i=this.carouselService.defineNewCoordsDrag(t,this._drag);i!==!1&&(r=i,t.preventDefault(),this._drag.stage.current=r,this._animate(r.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,r){return this.carouselService.difference(t,r)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(r){return new(r||n)(Q(xe),Q(nn),Q(tr),Q(Lr),Q(l_))};static \u0275cmp=ft({type:n,selectors:[["owl-stage"]],hostBindings:function(r,i){r&1&&qe("mousedown",function(s){return i.onMouseDown(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchcancel",function(s){return i.onTouchCancel(s)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},standalone:!1,decls:4,vars:7,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[1,"owl-item",3,"ngClass","ngStyle"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(P(0,"div")(1,"div",0),qe("transitionend",function(){return i.onTransitionEnd()}),nv(2,xj,2,9,"div",1,dM),x()()),r&2&&(V(),q("ngStyle",sv(1,Sj,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),V(),rv(i.slidesData))},dependencies:[Qd,_v,vv],encapsulation:2,data:{animation:[a_("autoHeight",[jh("nulled",lo({height:0})),jh("full",lo({height:"*"})),Bh("full => nulled",[Uh("700ms 350ms")]),Bh("nulled => full",[Uh(350)])])]}})}return n})(),pM=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new rt;dragging=new rt;change=new rt;changed=new rt;initialized=new rt;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,r,i,o,s,a,c,l,h,p,m,g){this.el=t,this.resizeService=r,this.carouselService=i,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=c,this.autoHeightService=l,this.hashService=h,this.logger=p,this.changeDetectorRef=m,this.docRef=g}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(oe(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(oe(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(oe(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(oe(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(oe(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(nt(t=>{let r=ee(t).pipe(Ge(()=>t.property.name==="position"),nt(()=>ke(this.slidesData)),Nl(t.property.value),gt(this.carouselService.settings.items),ie(i=>{let o=this.carouselService.clonedIdPrefix,s=i.id.indexOf(o)>=0?i.id.slice(o.length):i.id;return Pe(U({},i),{id:s,isActive:!0})}),Lg(),ie(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return Cn(r)}),oe(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(oe(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),nt(()=>this.carouselService.getDraggedState().pipe(ie(()=>!!this.carouselService.is("animating")))),nt(t=>t?this.carouselService.getTranslatedState().pipe(en()):ee("not animating")),oe(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=Cn(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(Ge(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),Ug(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t,r=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(r)>=0?o.id.slice(r.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(r){return new(r||n)(Q(nn),Q(fM),Q(Lr),Q(sM),Q(aM),Q(cM),Q(l_),Q(uM),Q(lM),Q(d_),Q(di),Q(zh))};static \u0275cmp=ft({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(r,i,o){if(r&1&&Bd(o,f_,4),r&2){let s;_s(s=Es())&&(i.slides=s)}},hostBindings:function(r,i){r&1&&qe("visibilitychange",function(s){return i.onVisibilityChange(s)},!1,ED)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},standalone:!1,features:[yS([sM,aM,Lr,cM,l_,uM,lM]),Mr],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],[1,"owl-dot",3,"ngClass"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(r,i){if(r&1){let o=Nn();P(0,"div",1,0),qe("mouseover",function(){return jt(o),Bt(i.startPausing())})("mouseleave",function(){return jt(o),Bt(i.startPlayML())})("touchstart",function(){return jt(o),Bt(i.startPausing())})("touchend",function(){return jt(o),Bt(i.startPlayTE())}),Ee(2,Fj,2,6,"div",2)(3,Vj,6,14),x()}r&2&&(q("ngClass",sv(3,Nj,i.owlDOMData==null?null:i.owlDOMData.rtl,i.owlDOMData==null?null:i.owlDOMData.isLoaded,i.owlDOMData==null?null:i.owlDOMData.isResponsive,i.owlDOMData==null?null:i.owlDOMData.isMouseDragable,i.owlDOMData==null?null:i.owlDOMData.isGrab)),V(2),Ud(i.carouselLoaded?2:-1),V(),Ud(i.slides.toArray().length?3:-1))},dependencies:[Qd,Yj],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var gM=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=xr({type:n});static \u0275inj=Dr({providers:[Hj,fM,Kj,d_],imports:[Nt]})}return n})();var js=class n{transform(e){return e?e.replaceAll(/\\n/g,"<br />"):""}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=hc({name:"replaceLineBreaks",type:n,pure:!0})};var mM=()=>{};var _M=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Zj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,g=l&63;c||(g=64,s||(m=64)),r.push(t[h],t[p],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_M(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Zj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new g_;let m=o<<2|a>>4;if(r.push(m),l!==64){let g=a<<4&240|l>>2;if(r.push(g),p!==64){let _=l<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},g_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Xj=function(n){let e=_M(n);return qh.encodeByteArray(e,!0)},Yc=function(n){return Xj(n).replace(/\./g,"")},Wh=function(n){try{return qh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function y_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var e3=()=>y_().__FIREBASE_DEFAULTS__,t3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Wh(n[1]);return e&&JSON.parse(e)},Gh=()=>{try{return mM()||e3()||t3()||n3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},EM=n=>{var e,t;return(t=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},wM=n=>{let e=EM(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},v_=()=>{var n;return(n=Gh())===null||n===void 0?void 0:n.config},IM=n=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${n}`]};var ho=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Bs(n){return n.endsWith(".cloudworkstations.dev")}function __(n){return M(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function bM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function r3(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function i3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var yM=!1;function E_(n,e){if(typeof window>"u"||typeof document>"u"||!Bs(window.location.host)||Qc[n]===e||Qc[n]||yM)return;Qc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=r3().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{yM=!0,s()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=i3(r),g=t("text"),_=document.getElementById(g)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),O=t("preprendIcon"),$=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let H=m.element;a(H),h(A,T);let te=l();c($,O),H.append($,_,A,te),document.body.appendChild(H)}o?(_.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function o3(){var n;let e=(n=Gh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AM(){return!o3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jc(){try{return typeof indexedDB=="object"}catch{return!1}}function MM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var s3="FirebaseError",_n=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=s3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}},Fn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?a3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new _n(i,a,r)}};function a3(n,e){return n.replace(c3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var c3=/\{\$([^}]+)}/g;function fo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(vM(o)&&vM(s)){if(!fo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function vM(n){return n!==null&&typeof n=="object"}function w_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RM(n,e){let t=new m_(n,e);return t.subscribe.bind(t)}var m_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");u3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=p_),i.error===void 0&&(i.error=p_),i.complete===void 0&&(i.complete=p_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function u3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function p_(){}var tee=4*60*60*1e3;function ln(n){return n&&n._delegate?n._delegate:n}var Ht=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var po="[DEFAULT]";var I_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ho;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(d3(e))try{this.getOrInitializeService({instanceIdentifier:po})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=po){return this.instances.has(e)}getOptions(e=po){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=po){return this.component?this.component.multipleInstances?e:po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l3(n){return n===po?void 0:n}function d3(n){return n.instantiationMode==="EAGER"}var Kh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new I_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var h3=[],be=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(be||{}),f3={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},p3=be.INFO,g3={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},m3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=g3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=p3,this._logHandler=m3,this._userLogHandler=null,h3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}};var y3=(n,e)=>e.some(t=>n instanceof t),PM,xM;function v3(){return PM||(PM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _3(){return xM||(xM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NM=new WeakMap,T_=new WeakMap,OM=new WeakMap,b_=new WeakMap,D_=new WeakMap;function E3(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ur(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&NM.set(t,n)}).catch(()=>{}),D_.set(e,n),e}function w3(n){if(T_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});T_.set(n,e)}var C_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return T_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ur(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function kM(n){C_=n(C_)}function I3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Qh(this),e,...t);return OM.set(r,e.sort?e.sort():[e]),ur(r)}:_3().includes(n)?function(...e){return n.apply(Qh(this),e),ur(NM.get(this))}:function(...e){return ur(n.apply(Qh(this),e))}}function b3(n){return typeof n=="function"?I3(n):(n instanceof IDBTransaction&&w3(n),y3(n,v3())?new Proxy(n,C_):n)}function ur(n){if(n instanceof IDBRequest)return E3(n);if(b_.has(n))return b_.get(n);let e=b3(n);return e!==n&&(b_.set(n,e),D_.set(e,n)),e}var Qh=n=>D_.get(n);function LM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ur(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ur(s.result),c.oldVersion,c.newVersion,ur(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var T3=["get","getKey","getAll","getAllKeys","count"],C3=["put","add","delete","clear"],S_=new Map;function FM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(S_.get(e))return S_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=C3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||T3.includes(t)))return;let o=function(s,...a){return M(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return S_.set(e,o),o}kM(n=>Pe(U({},n),{get:(e,t,r)=>FM(e,t)||n.get(e,t,r),has:(e,t)=>!!FM(e,t)||n.has(e,t)}));var M_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D3(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function D3(n){let e=n.getComponent();return e?.type==="VERSION"}var R_="@firebase/app",VM="0.13.0";var Vr=new cr("@firebase/app"),S3="@firebase/app-compat",A3="@firebase/analytics-compat",M3="@firebase/analytics",R3="@firebase/app-check-compat",P3="@firebase/app-check",x3="@firebase/auth",N3="@firebase/auth-compat",O3="@firebase/database",k3="@firebase/data-connect",F3="@firebase/database-compat",L3="@firebase/functions",V3="@firebase/functions-compat",U3="@firebase/installations",j3="@firebase/installations-compat",B3="@firebase/messaging",$3="@firebase/messaging-compat",H3="@firebase/performance",z3="@firebase/performance-compat",q3="@firebase/remote-config",W3="@firebase/remote-config-compat",G3="@firebase/storage",K3="@firebase/storage-compat",Q3="@firebase/firestore",Y3="@firebase/ai",J3="@firebase/firestore-compat",Z3="firebase",X3="11.8.0";var P_="[DEFAULT]",eB={[R_]:"fire-core",[S3]:"fire-core-compat",[M3]:"fire-analytics",[A3]:"fire-analytics-compat",[P3]:"fire-app-check",[R3]:"fire-app-check-compat",[x3]:"fire-auth",[N3]:"fire-auth-compat",[O3]:"fire-rtdb",[k3]:"fire-data-connect",[F3]:"fire-rtdb-compat",[L3]:"fire-fn",[V3]:"fire-fn-compat",[U3]:"fire-iid",[j3]:"fire-iid-compat",[B3]:"fire-fcm",[$3]:"fire-fcm-compat",[H3]:"fire-perf",[z3]:"fire-perf-compat",[q3]:"fire-rc",[W3]:"fire-rc-compat",[G3]:"fire-gcs",[K3]:"fire-gcs-compat",[Q3]:"fire-fst",[J3]:"fire-fst-compat",[Y3]:"fire-vertex","fire-js":"fire-js",[Z3]:"fire-js-all"};var Zc=new Map,tB=new Map,x_=new Map;function UM(n,e){try{n.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ln(n){let e=n.name;if(x_.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,n);for(let t of Zc.values())UM(t,n);for(let t of tB.values())UM(t,n);return!0}function Yh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ur(n){return n==null?!1:n.settings!==void 0}var nB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Fn("app","Firebase",nB);var N_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}};var $s=X3;function F_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:P_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(t||(t=v_()),!t)throw vi.create("no-options");let o=Zc.get(i);if(o){if(fo(t,o.options)&&fo(r,o.config))return o;throw vi.create("duplicate-app",{appName:i})}let s=new Kh(i);for(let c of x_.values())s.addComponent(c);let a=new N_(t,r,s);return Zc.set(i,a),a}function Hs(n=P_){let e=Zc.get(n);if(!e&&n===P_&&v_())return F_();if(!e)throw vi.create("no-app",{appName:n});return e}function Jh(){return Array.from(Zc.values())}function ot(n,e,t){var r;let i=(r=eB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}Ln(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var rB="firebase-heartbeat-database",iB=1,Xc="firebase-heartbeat-store",A_=null;function HM(){return A_||(A_=LM(rB,iB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xc)}catch(t){console.warn(t)}}}}).catch(n=>{throw vi.create("idb-open",{originalErrorMessage:n.message})})),A_}function oB(n){return M(this,null,function*(){try{let t=(yield HM()).transaction(Xc),r=yield t.objectStore(Xc).get(zM(n));return yield t.done,r}catch(e){if(e instanceof _n)Vr.warn(e.message);else{let t=vi.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(t.message)}}})}function jM(n,e){return M(this,null,function*(){try{let r=(yield HM()).transaction(Xc,"readwrite");yield r.objectStore(Xc).put(e,zM(n)),yield r.done}catch(t){if(t instanceof _n)Vr.warn(t.message);else{let r=vi.create("idb-set",{originalErrorMessage:t?.message});Vr.warn(r.message)}}})}function zM(n){return`${n.name}!${n.options.appId}`}var sB=1024,aB=30,O_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new k_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>aB){let s=uB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Vr.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=BM(),{heartbeatsToSend:r,unsentEntries:i}=cB(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vr.warn(t),""}})}};function BM(){return new Date().toISOString().substring(0,10)}function cB(n,e=sB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),$M(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$M(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var k_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return Jc()?MM().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield oB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return jM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function $M(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function uB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function lB(n){Ln(new Ht("platform-logger",e=>new M_(e),"PRIVATE")),Ln(new Ht("heartbeat",e=>new O_(e),"PRIVATE")),ot(R_,VM,n),ot(R_,VM,"esm2017"),ot("fire-js","")}lB("");var dB="firebase",hB="11.8.1";ot(dB,hB,"app");function L_(n){n===void 0&&(uC(L_),n=F(Kt));let e=n.get(Cd);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var mo=new ic("ANGULARFIRE2_VERSION");function Xh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var qs=(n,e)=>{let t=e?[e]:Jh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zs=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(zs||{}),qM=gc()&&typeof Zone<"u"?zs.WARN:zs.SILENT;var Zh=class{zone;delegate;constructor(e,t=Ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},yo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(xe);this.outsideAngular=t.runOutsideAngular(()=>new Zh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Zh(typeof Zone>"u"?void 0:Zone.current,Qo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),WM=!1;function fB(n,e){!WM&&(qM>zs.SILENT||gc())&&(WM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),qM>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function pB(n){let e=F(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function go(n){let e=F(xe,{optional:!0});return e?e.run(()=>n()):n()}var gB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Tt(t,()=>go(()=>n.apply(void 0,r)))),dn=(n,e,t)=>(t||=e?zs.WARN:zs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(yo),s=F(Cd),a=F(bt)}catch{return fB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=go(()=>s.add())),i[l]=gB(i[l],r,a));let c=pB(()=>n.apply(this,i));return e?c instanceof de?c.pipe(ti(o.outsideAngular),ei(o.insideAngular),L_(a)):c instanceof Promise?go(()=>new Promise((l,h)=>{s.run(()=>c).then(p=>Tt(a,()=>go(()=>l(p))),p=>Tt(a,()=>go(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:go(()=>c):c instanceof de?c.pipe(ti(o.outsideAngular),ei(o.insideAngular)):go(()=>c)});var vo=class{constructor(e){return e}},eu=class{constructor(){return Jh()}};function mB(n){return n&&n.length===1?n[0]:new vo(Hs())}var V_=new G("angularfire2._apps"),yB={provide:vo,useFactory:mB,deps:[[new Jn,V_]]},vB={provide:eu,deps:[[new Jn,V_]]};function _B(n){return(e,t)=>{let r=t.get($t);ot("angularfire",mo.full,"core"),ot("angularfire",mo.full,"app"),ot("angular",bS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new vo(i)}}function GM(n,...e){return ui([yB,vB,{provide:V_,useFactory:_B(n),multi:!0,deps:[xe,Kt,yo,...e]}])}var KM=dn(F_,!0);var EB=new Map,wB={activated:!1,tokenObservers:[]},IB={initialized:!1,enabled:!1};function Vn(n){return EB.get(n)||Object.assign({},wB)}function ZM(){return IB}var bB="https://content-firebaseappcheck.googleapis.com/v1";var TB="exchangeDebugToken",QM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ute=24*60*60*1e3;var B_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return M(this,null,function*(){this.stop();try{this.pending=new ho,this.pending.promise.catch(t=>{}),yield CB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ho,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function CB(n){return new Promise(e=>{setTimeout(e,n)})}var DB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},_i=new Fn("appCheck","AppCheck",DB);function XM(n){if(!Vn(n).activated)throw _i.create("use-before-activation",{appName:n.name})}function eR(r,i){return M(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw _i.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw _i.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(g){throw _i.create("fetch-parse-error",{originalErrorMessage:g?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw _i.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function tR(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${bB}/projects/${t}/apps/${r}:${TB}?key=${i}`,body:{debug_token:e}}}var SB="firebase-app-check-database",AB=1,$_="firebase-app-check-store";var ef=null;function MB(){return ef||(ef=new Promise((n,e)=>{try{let t=indexedDB.open(SB,AB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(_i.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($_,{keyPath:"compositeKey"})}}}catch(t){e(_i.create("storage-open",{originalErrorMessage:t?.message}))}}),ef)}function RB(n,e){return PB(xB(n),e)}function PB(n,e){return M(this,null,function*(){let r=(yield MB()).transaction($_,"readwrite"),o=r.objectStore($_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(_i.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function xB(n){return`${n.options.appId}-${n.name}`}var tu=new cr("@firebase/app-check");function U_(n,e){return Jc()?RB(n,e).catch(t=>{tu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function nR(){return ZM().enabled}function rR(){return M(this,null,function*(){let n=ZM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var NB={error:"UNKNOWN_ERROR"};function OB(n){return qh.encodeString(JSON.stringify(n),!1)}function H_(n,e=!1,t=!1){return M(this,null,function*(){let r=n.app;XM(r);let i=Vn(r),o=i.token,s;if(o&&!nu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(nu(l)?o=l:yield U_(r,void 0))}if(!e&&o&&nu(o))return{token:o.token};let a=!1;if(nR())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=eR(tR(r,yield rR()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield U_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):t&&tu.error(l),j_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Vn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?tu.warn(l.message):t&&tu.error(l),s=l}let c;return o?s?nu(o)?c={token:o.token,internalError:s}:c=j_(s):(c={token:o.token},i.token=o,yield U_(r,o)):c=j_(s),a&&VB(r,c),c})}function kB(n){return M(this,null,function*(){let e=n.app;XM(e);let{provider:t}=Vn(e);if(nR()){let r=yield rR(),{token:i}=yield eR(tR(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function FB(n,e,t,r){let{app:i}=n,o=Vn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&nu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),YM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>YM(n))}function iR(n,e){let t=Vn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function YM(n){let{app:e}=n,t=Vn(e),r=t.tokenRefresher;r||(r=LB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LB(n){let{app:e}=n;return new B_(()=>M(null,null,function*(){let t=Vn(e),r;if(t.token?r=yield H_(n,!0):r=yield H_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},QM.RETRIAL_MIN_WAIT,QM.RETRIAL_MAX_WAIT)}function VB(n,e){let t=Vn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function nu(n){return n.expireTimeMillis-Date.now()>0}function j_(n){return{token:OB(NB),error:n}}var z_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Vn(this.app);for(let t of e)iR(this.app,t.next);return Promise.resolve()}};function UB(n,e){return new z_(n,e)}function jB(n){return{getToken:e=>H_(n,e),getLimitedUseToken:()=>kB(n),addTokenListener:e=>FB(n,"INTERNAL",e),removeTokenListener:e=>iR(n.app,e)}}var BB="@firebase/app-check",$B="0.10.0";var HB="app-check",JM="app-check-internal";function zB(){Ln(new Ht(HB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return UB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(JM).initialize()})),Ln(new Ht(JM,n=>{let e=n.getProvider("app-check").getImmediate();return jB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ot(BB,$B)}zB();var qB="app-check";var tf=class{constructor(){return qs(qB)}};var WB=["localhost","0.0.0.0","127.0.0.1"],Ite=typeof window<"u"&&WB.includes(window.location.hostname);function hR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fR=hR,pR=new Fn("auth","Firebase",hR());var sf=new cr("@firebase/auth");function KB(n,...e){sf.logLevel<=be.WARN&&sf.warn(`Auth (${$s}): ${n}`,...e)}function rf(n,...e){sf.logLevel<=be.ERROR&&sf.error(`Auth (${$s}): ${n}`,...e)}function oR(n,...e){throw n0(n,...e)}function t0(n,...e){return n0(n,...e)}function gR(n,e,t){let r=Object.assign(Object.assign({},fR()),{[e]:t});return new Fn("auth","Firebase",r).create(e,{appName:n.name})}function of(n){return gR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n0(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pR.create(n,...e)}function Oe(n,e,...t){if(!n)throw n0(e,...t)}function ru(n){let e="INTERNAL ASSERTION FAILED: "+n;throw rf(e),new Error(e)}function af(n,e){n||ru(e)}function QB(){return sR()==="http:"||sR()==="https:"}function sR(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function YB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QB()||DM()||"connection"in navigator)?navigator.onLine:!0}function JB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var wo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,af(t>e,"Short delay should be less than long delay!"),this.isMobile=TM()||SM()}get(){return YB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ZB(n,e){af(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var cf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var XB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var e$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t$=new wo(3e4,6e4);function mR(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ff(o,s,a,c){return M(this,arguments,function*(n,e,t,r,i={}){return yR(n,i,()=>M(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=w_(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},l);return CM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Bs(n.emulatorConfig.host)&&(g.credentials="include"),cf.fetch()(yield vR(n,n.config.apiHost,t,p),g)}))})}function yR(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},XB),e);try{let i=new G_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw nf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw nf(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw nf(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw nf(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw gR(n,h,l);oR(n,h)}}catch(i){if(i instanceof _n)throw i;oR(n,"network-request-failed",{message:String(i)})}})}function vR(n,e,t,r){return M(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?ZB(n.config,i):`${n.config.apiScheme}://${i}`;return e$.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var G_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(t0(this.auth,"network-request-failed")),t$.get())})}};function nf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=t0(n,e,r);return i.customData._tokenResponse=t,i}function n$(n,e){return M(this,null,function*(){return ff(n,"POST","/v1/accounts:delete",e)})}function uf(n,e){return M(this,null,function*(){return ff(n,"POST","/v1/accounts:lookup",e)})}function iu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function r0(n,e=!1){return M(this,null,function*(){let t=ln(n),r=yield t.getIdToken(e),i=_R(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:iu(q_(i.auth_time)),issuedAtTime:iu(q_(i.iat)),expirationTime:iu(q_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function q_(n){return Number(n)*1e3}function _R(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return rf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wh(t);return i?JSON.parse(i):(rf("Failed to decode base64 JWT payload"),null)}catch(i){return rf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aR(n){let e=_R(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function K_(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof _n&&r$(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function r$({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Q_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var su=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lf(n){return M(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield K_(n,uf(t,{idToken:r}));Oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ER(o.providerUserInfo):[],a=i$(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new su(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function i0(n){return M(this,null,function*(){let e=ln(n);yield lf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function i$(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ER(n){return n.map(e=>{var{providerId:t}=e,r=kg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function o$(n,e){return M(this,null,function*(){let t=yield yR(n,{},()=>M(null,null,function*(){let r=w_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield vR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function s$(n,e){return M(this,null,function*(){return ff(n,"POST","/v2/accounts:revokeToken",mR(n,e))})}var ou=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");let t=aR(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield o$(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ru("not implemented")}};function Ei(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _o=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new su(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield K_(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return r0(this,e)}reload(){return i0(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield lf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(Ur(this.auth.app))return Promise.reject(of(this.auth));let e=yield this.getIdToken();return yield K_(this,n$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=t.photoURL)!==null&&s!==void 0?s:void 0,T=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,$=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:te,isAnonymous:Fe,providerData:le,stsTokenManager:I}=t;Oe(H&&I,e,"internal-error");let v=ou.fromJSON(this.name,I);Oe(typeof H=="string",e,"internal-error"),Ei(p,e.name),Ei(m,e.name),Oe(typeof te=="boolean",e,"internal-error"),Oe(typeof Fe=="boolean",e,"internal-error"),Ei(g,e.name),Ei(_,e.name),Ei(T,e.name),Ei(A,e.name),Ei(O,e.name),Ei($,e.name);let E=new n({uid:H,auth:e,email:m,emailVerified:te,displayName:p,isAnonymous:Fe,photoURL:_,phoneNumber:g,tenantId:T,stsTokenManager:v,createdAt:O,lastLoginAt:$});return le&&Array.isArray(le)&&(E.providerData=le.map(b=>Object.assign({},b))),A&&(E._redirectEventId=A),E}static _fromIdTokenResponse(e,t,r=!1){return M(this,null,function*(){let i=new ou;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield lf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return M(this,null,function*(){let i=t.users[0];Oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?ER(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ou;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var cR=new Map;function Eo(n){af(n instanceof Function,"Expected a class definition");let e=cR.get(n);return e?(af(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,cR.set(n,e),e)}var a$=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,r){return M(this,null,function*(){this.storage[t]=r})}_get(t){return M(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Y_=a$;function W_(n,e,t){return`firebase:${n}:${e}:${t}`}var df=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=W_(this.userKey,i.apiKey,o),this.fullPersistenceKey=W_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield uf(this.auth,{idToken:e}).catch(()=>{});return t?_o._fromGetAccountInfoResponse(this.auth,t,e):null}return _o._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return M(this,null,function*(){if(!t.length)return new n(Eo(Y_),e,r);let i=(yield Promise.all(t.map(l=>M(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Eo(Y_),s=W_(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield uf(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield _o._fromGetAccountInfoResponse(e,m,h)}else p=_o._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>M(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function uR(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d$(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(c$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f$(e))return"Blackberry";if(p$(e))return"Webos";if(u$(e))return"Safari";if((e.includes("chrome/")||l$(e))&&!e.includes("edge/"))return"Chrome";if(h$(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function c$(n=un()){return/firefox\//i.test(n)}function u$(n=un()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l$(n=un()){return/crios\//i.test(n)}function d$(n=un()){return/iemobile/i.test(n)}function h$(n=un()){return/android/i.test(n)}function f$(n=un()){return/blackberry/i.test(n)}function p$(n=un()){return/webos/i.test(n)}function wR(n,e=[]){let t;switch(n){case"Browser":t=uR(un());break;case"Worker":t=`${uR(un())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${$s}/${r}`}var J_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function g$(t){return M(this,arguments,function*(n,e={}){return ff(n,"GET","/v2/passwordPolicy",mR(n,e))})}var m$=6,Z_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:m$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var X_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hf(this),this.idTokenSubscription=new hf(this),this.beforeStateQueue=new J_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Eo(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield df.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield uf(this,{idToken:e}),r=yield _o._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(Ur(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=JB()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(Ur(this.app))return Promise.reject(of(this));let t=e?ln(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return Ur(this.app)?Promise.reject(of(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ur(this.app)?Promise.reject(of(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(Eo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield g$(this),t=new Z_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield s$(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Eo(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=yield df.create(this,[Eo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return M(this,null,function*(){var e;if(Ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&KB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function y$(n){return ln(n)}var hf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=RM(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var v$={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _$(n){v$=n}function E$(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function w$(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Eo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Ote=E$("rcb"),kte=new wo(3e4,6e4);var Fte=new wo(2e3,1e4);var Lte=10*60*1e3;var Vte=new wo(3e4,6e4);var Ute=new wo(5e3,15e3);var jte=encodeURIComponent("fac");var lR="@firebase/auth",dR="1.10.6";var e0=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function I$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b$(n){Ln(new Ht("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(n)},l=new X_(r,i,o,c);return w$(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new Ht("auth-internal",e=>{let t=y$(e.getProvider("auth").getImmediate());return(r=>new e0(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(lR,dR,I$(n)),ot(lR,dR,"esm2017")}var T$=5*60,Bte=IM("authIdTokenMaxAge")||T$;function C$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_$({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=t0("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",C$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b$("Browser");var bH="auth";var pf=class{constructor(){return qs(bH)}};var IR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bR={};var jr,o0;(function(){var n;function e(I,v){function E(){}E.prototype=v.prototype,I.D=v.prototype,I.prototype=new E,I.prototype.constructor=I,I.C=function(b,C,S){for(var w=Array(arguments.length-2),fn=2;fn<arguments.length;fn++)w[fn-2]=arguments[fn];return v.prototype[C].apply(b,w)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,E){E||(E=0);var b=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)b[C]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(C=0;16>C;++C)b[C]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=I.g[0],E=I.g[1],C=I.g[2];var S=I.g[3],w=v+(S^E&(C^S))+b[0]+3614090360&4294967295;v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[1]+3905402710&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[2]+606105819&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[3]+3250441966&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[4]+4118548399&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[5]+1200080426&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[6]+2821735955&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[7]+4249261313&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[8]+1770035416&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[9]+2336552879&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[10]+4294925233&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[11]+2304563134&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(S^E&(C^S))+b[12]+1804603682&4294967295,v=E+(w<<7&4294967295|w>>>25),w=S+(C^v&(E^C))+b[13]+4254626195&4294967295,S=v+(w<<12&4294967295|w>>>20),w=C+(E^S&(v^E))+b[14]+2792965006&4294967295,C=S+(w<<17&4294967295|w>>>15),w=E+(v^C&(S^v))+b[15]+1236535329&4294967295,E=C+(w<<22&4294967295|w>>>10),w=v+(C^S&(E^C))+b[1]+4129170786&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[6]+3225465664&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[11]+643717713&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[0]+3921069994&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[5]+3593408605&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[10]+38016083&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[15]+3634488961&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[4]+3889429448&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[9]+568446438&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[14]+3275163606&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[3]+4107603335&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[8]+1163531501&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(C^S&(E^C))+b[13]+2850285829&4294967295,v=E+(w<<5&4294967295|w>>>27),w=S+(E^C&(v^E))+b[2]+4243563512&4294967295,S=v+(w<<9&4294967295|w>>>23),w=C+(v^E&(S^v))+b[7]+1735328473&4294967295,C=S+(w<<14&4294967295|w>>>18),w=E+(S^v&(C^S))+b[12]+2368359562&4294967295,E=C+(w<<20&4294967295|w>>>12),w=v+(E^C^S)+b[5]+4294588738&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[8]+2272392833&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[11]+1839030562&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[14]+4259657740&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[1]+2763975236&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[4]+1272893353&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[7]+4139469664&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[10]+3200236656&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[13]+681279174&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[0]+3936430074&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[3]+3572445317&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[6]+76029189&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(E^C^S)+b[9]+3654602809&4294967295,v=E+(w<<4&4294967295|w>>>28),w=S+(v^E^C)+b[12]+3873151461&4294967295,S=v+(w<<11&4294967295|w>>>21),w=C+(S^v^E)+b[15]+530742520&4294967295,C=S+(w<<16&4294967295|w>>>16),w=E+(C^S^v)+b[2]+3299628645&4294967295,E=C+(w<<23&4294967295|w>>>9),w=v+(C^(E|~S))+b[0]+4096336452&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[7]+1126891415&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[14]+2878612391&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[5]+4237533241&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[12]+1700485571&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[3]+2399980690&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[10]+4293915773&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[1]+2240044497&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[8]+1873313359&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[15]+4264355552&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[6]+2734768916&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[13]+1309151649&4294967295,E=C+(w<<21&4294967295|w>>>11),w=v+(C^(E|~S))+b[4]+4149444226&4294967295,v=E+(w<<6&4294967295|w>>>26),w=S+(E^(v|~C))+b[11]+3174756917&4294967295,S=v+(w<<10&4294967295|w>>>22),w=C+(v^(S|~E))+b[2]+718787259&4294967295,C=S+(w<<15&4294967295|w>>>17),w=E+(S^(C|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var E=v-this.blockSize,b=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=E;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(b[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,b),C=0;break}}else for(;S<v;)if(b[C++]=I[S++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var E=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=E&255,E/=256;for(this.u(I),I=Array(16),v=E=0;4>v;++v)for(var b=0;32>b;b+=8)I[E++]=this.g[v]>>>b&255;return I};function o(I,v){var E=a;return Object.prototype.hasOwnProperty.call(E,I)?E[I]:E[I]=v(I)}function s(I,v){this.h=v;for(var E=[],b=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;b&&S==v||(E[C]=S,b=!1)}this.g=E}var a={};function c(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(l(-I));for(var v=[],E=1,b=0;I>=E;b++)v[b]=I/E|0,E*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),b=p,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),w=parseInt(I.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),b=b.j(S).add(l(w))):(b=b.j(E),b=b.add(l(w)))}return b}var p=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(T(this))return-A(this).m();for(var I=0,v=1,E=0;E<this.g.length;E++){var b=this.i(E);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var v=l(Math.pow(I,6)),E=this,b="";;){var C=te(E,v).g;E=O(E,C.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(I);if(E=C,_(E))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}n.l=function(I){return I=O(this,I),T(I)?-1:_(I)?0:1};function A(I){for(var v=I.g.length,E=[],b=0;b<v;b++)E[b]=~I.g[b];return new s(E,~I.h).add(m)}n.abs=function(){return T(this)?A(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0,C=0;C<=v;C++){var S=b+(this.i(C)&65535)+(I.i(C)&65535),w=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);b=w>>>16,S&=65535,w&=65535,E[C]=w<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(I,v){return I.add(A(v))}n.j=function(I){if(_(this)||_(I))return p;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(g)&&0>I.l(g))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,E=[],b=0;b<2*v;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<I.g.length;C++){var S=this.i(b)>>>16,w=this.i(b)&65535,fn=I.i(C)>>>16,Kr=I.i(C)&65535;E[2*b+2*C]+=w*Kr,$(E,2*b+2*C),E[2*b+2*C+1]+=S*Kr,$(E,2*b+2*C+1),E[2*b+2*C+1]+=w*fn,$(E,2*b+2*C+1),E[2*b+2*C+2]+=S*fn,$(E,2*b+2*C+2)}for(b=0;b<v;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=v;b<2*v;b++)E[b]=0;return new s(E,0)};function $(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function H(I,v){this.g=I,this.h=v}function te(I,v){if(_(v))throw Error("division by zero");if(_(I))return new H(p,p);if(T(I))return v=te(A(I),v),new H(A(v.g),A(v.h));if(T(v))return v=te(I,A(v)),new H(A(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,b=v;0>=b.l(I);)E=Fe(E),b=Fe(b);var C=le(E,1),S=le(b,1);for(b=le(b,2),E=le(E,2);!_(b);){var w=S.add(b);0>=w.l(I)&&(C=C.add(E),S=w),b=le(b,1),E=le(E,1)}return v=O(I,C.j(v)),new H(C,v)}for(C=p;0<=I.l(v);){for(E=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=l(E),w=S.j(v);T(w)||0<w.l(I);)E-=b,S=l(E),w=S.j(v);_(S)&&(S=m),C=C.add(S),I=O(I,w)}return new H(C,I)}n.A=function(I){return te(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)&I.i(b);return new s(E,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)|I.i(b);return new s(E,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)^I.i(b);return new s(E,this.h^I.h)};function Fe(I){for(var v=I.g.length+1,E=[],b=0;b<v;b++)E[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(E,I.h)}function le(I,v){var E=v>>5;v%=32;for(var b=I.g.length-E,C=[],S=0;S<b;S++)C[S]=0<v?I.i(S+E)>>>v|I.i(S+E+1)<<32-v:I.i(S+E);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o0=bR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,jr=bR.Integer=s}).apply(typeof IR<"u"?IR:typeof self<"u"?self:typeof window<"u"?window:{});var gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Br={};var s0,TH,Ws,a0,au,mf,c0,u0,l0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gf=="object"&&gf];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var D=u[y];if(!(D in f))break e;f=f[D]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,D={next:function(){if(!y&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),u.apply(d,D)}}return function(){return u.apply(d,arguments)}}function m(u,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function g(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function _(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,D,R){for(var j=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)j[Le-2]=arguments[Le];return d.prototype[D].apply(y,j)}}function T(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function A(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let D=u.length||0,R=y.length||0;u.length=D+R;for(let j=0;j<R;j++)u[D+j]=y[j]}else u.push(y)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var Fe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function le(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function I(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,d){let f,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(f in y)u[f]=y[f];for(let R=0;R<E.length;R++)f=E[R],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function C(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function w(){var u=Ie;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class fn{constructor(){this.h=this.g=null}add(d,f){let y=Kr.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Kr=new O(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,X=!1,Ie=new fn,tt=()=>{let u=a.Promise.resolve(void 0);Z=()=>{u.then(pn)}};var pn=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(f){S(f)}var d=Kr;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}X=!1};function Je(){this.s=this.s,this.C=this.C}Je.prototype.s=!1,Je.prototype.ma=function(){this.s||(this.s=!0,this.N())},Je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Qr(u,d){if(je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(Fe){e:{try{te(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vp[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qr.aa.h.call(this)}}_(Qr,je);var Vp={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),pr=0;function zt(u,d,f,y,D){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=D,this.key=++pr,this.da=this.fa=!1}function gr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yr(u){this.src=u,this.g={},this.h=0}Yr.prototype.add=function(u,d,f,y,D){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var j=jp(u,d,y,D);return-1<j?(d=u[j],f||(d.fa=!1)):(d=new zt(d,this.src,R,!!y,D),d.fa=f,u.push(d)),d};function Up(u,d){var f=d.type;if(f in u.g){var y=u.g[f],D=Array.prototype.indexOf.call(y,d,void 0),R;(R=0<=D)&&Array.prototype.splice.call(y,D,1),R&&(gr(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function jp(u,d,f,y){for(var D=0;D<u.length;++D){var R=u[D];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==y)return D}return-1}var Bp="closure_lm_"+(1e6*Math.random()|0),$p={};function tI(u,d,f,y,D){if(y&&y.once)return rI(u,d,f,y,D);if(Array.isArray(d)){for(var R=0;R<d.length;R++)tI(u,d[R],f,y,D);return null}return f=Wp(f),u&&u[Ze]?u.K(d,f,l(y)?!!y.capture:!!y,D):nI(u,d,f,!1,y,D)}function nI(u,d,f,y,D,R){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,Le=zp(u);if(Le||(u[Bp]=Le=new Yr(u)),f=Le.add(d,f,y,j,R),f.proxy)return f;if(y=WN(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)Be||(D=j),D===void 0&&(D=!1),u.addEventListener(d.toString(),y,D);else if(u.attachEvent)u.attachEvent(oI(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function WN(){function u(f){return d.call(u.src,u.listener,f)}let d=GN;return u}function rI(u,d,f,y,D){if(Array.isArray(d)){for(var R=0;R<d.length;R++)rI(u,d[R],f,y,D);return null}return f=Wp(f),u&&u[Ze]?u.L(d,f,l(y)?!!y.capture:!!y,D):nI(u,d,f,!0,y,D)}function iI(u,d,f,y,D){if(Array.isArray(d))for(var R=0;R<d.length;R++)iI(u,d[R],f,y,D);else y=l(y)?!!y.capture:!!y,f=Wp(f),u&&u[Ze]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=jp(R,f,y,D),-1<f&&(gr(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=zp(u))&&(d=u.g[d.toString()],u=-1,d&&(u=jp(d,f,y,D)),(f=-1<u?d[u]:null)&&Hp(f))}function Hp(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Ze])Up(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(oI(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=zp(d))?(Up(f,u),f.h==0&&(f.src=null,d[Bp]=null)):gr(u)}}}function oI(u){return u in $p?$p[u]:$p[u]="on"+u}function GN(u,d){if(u.da)u=!0;else{d=new Qr(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&Hp(u),u=f.call(y,d)}return u}function zp(u){return u=u[Bp],u instanceof Yr?u:null}var qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wp(u){return typeof u=="function"?u:(u[qp]||(u[qp]=function(d){return u.handleEvent(d)}),u[qp])}function Dt(){Je.call(this),this.i=new Yr(this),this.M=this,this.F=null}_(Dt,Je),Dt.prototype[Ze]=!0,Dt.prototype.removeEventListener=function(u,d,f,y){iI(this,u,d,f,y)};function Lt(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new je(d,u);else if(d instanceof je)d.target=d.target||u;else{var D=d;d=new je(y,u),b(d,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];D=Bu(j,y,!0,d)&&D}if(j=d.g=u,D=Bu(j,y,!0,d)&&D,D=Bu(j,y,!1,d)&&D,f)for(R=0;R<f.length;R++)j=d.g=f[R],D=Bu(j,y,!1,d)&&D}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)gr(f[y]);delete u.g[d],u.h--}}this.F=null},Dt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},Dt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function Bu(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var Le=j.listener,wt=j.ha||j.src;j.fa&&Up(u.i,j),D=Le.call(wt,y)!==!1&&D}}return D&&!y.defaultPrevented}function sI(u,d,f){if(typeof u=="function")f&&(u=m(u,f));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function aI(u){u.g=sI(()=>{u.g=null,u.i&&(u.i=!1,aI(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class KN extends Je{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:aI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ca(u){Je.call(this),this.h=u,this.g={}}_(Ca,Je);var cI=[];function uI(u){le(u.g,function(d,f){this.g.hasOwnProperty(f)&&Hp(d)},u),u.g={}}Ca.prototype.N=function(){Ca.aa.N.call(this),uI(this)},Ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gp=a.JSON.stringify,QN=a.JSON.parse,YN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Kp(){}Kp.prototype.h=null;function lI(u){return u.h||(u.h=u.i())}function dI(){}var Da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qp(){je.call(this,"d")}_(Qp,je);function Yp(){je.call(this,"c")}_(Yp,je);var Ai={},hI=null;function $u(){return hI=hI||new Dt}Ai.La="serverreachability";function fI(u){je.call(this,Ai.La,u)}_(fI,je);function Sa(u){let d=$u();Lt(d,new fI(d))}Ai.STAT_EVENT="statevent";function pI(u,d){je.call(this,Ai.STAT_EVENT,u),this.stat=d}_(pI,je);function Vt(u){let d=$u();Lt(d,new pI(d,u))}Ai.Ma="timingevent";function gI(u,d){je.call(this,Ai.Ma,u),this.size=d}_(gI,je);function Aa(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Ma(){this.g=!0}Ma.prototype.xa=function(){this.g=!1};function JN(u,d,f,y,D,R){u.info(function(){if(u.g)if(R)for(var j="",Le=R.split("&"),wt=0;wt<Le.length;wt++){var Re=Le[wt].split("=");if(1<Re.length){var St=Re[0];Re=Re[1];var At=St.split("_");j=2<=At.length&&At[1]=="type"?j+(St+"="+Re+"&"):j+(St+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function ZN(u,d,f,y,D,R,j){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+d+`
`+f+`
`+R+" "+j})}function Oo(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+eO(u,f)+(y?" "+y:"")})}function XN(u,d){u.info(function(){return"TIMEOUT: "+d})}Ma.prototype.info=function(){};function eO(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return Gp(f)}catch{return d}}var Hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jp;function zu(){}_(zu,Kp),zu.prototype.g=function(){return new XMLHttpRequest},zu.prototype.i=function(){return{}},Jp=new zu;function Jr(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new Ca(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yI}function yI(){this.i=null,this.g="",this.h=!1}var vI={},Zp={};function Xp(u,d,f){u.L=1,u.v=Ku(mr(d)),u.m=f,u.P=!0,_I(u,null)}function _I(u,d){u.F=Date.now(),qu(u),u.A=mr(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),NI(f.i,"t",y),u.C=0,f=u.j.J,u.h=new yI,u.g=JI(u.j,f?d:null,!u.m),0<u.O&&(u.M=new KN(m(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(cI[0]=D.toString()),D=cI);for(var R=0;R<D.length;R++){var j=tI(f,D[R],y||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Sa(),JN(u.i,u.u,u.A,u.l,u.R,u.m)}Jr.prototype.ca=function(u){u=u.target;let d=this.M;d&&yr(u)==3?d.j():this.Y(u)},Jr.prototype.Y=function(u){try{if(u==this.g)e:{let At=yr(this.g);var d=this.g.Ba();let Lo=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||jI(this.g)))){this.J||At!=4||d==7||(d==8||0>=Lo?Sa(3):Sa(2)),eg(this);var f=this.g.Z();this.X=f;t:if(EI(this)){var y=jI(this.g);u="";var D=y.length,R=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),Ra(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(R&&d==D-1)});y.length=0,this.h.g+=u,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,ZN(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,wt=this.g;if((Le=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Le)){var Re=Le;break t}}Re=null}if(f=Re)Oo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tg(this,f);else{this.o=!1,this.s=3,Vt(12),Mi(this),Ra(this);break e}}if(this.P){f=!0;let bn;for(;!this.J&&this.C<j.length;)if(bn=tO(this,j),bn==Zp){At==4&&(this.s=4,Vt(14),f=!1),Oo(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==vI){this.s=4,Vt(15),Oo(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Oo(this.i,this.l,bn,null),tg(this,bn);if(EI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||j.length!=0||this.h.h||(this.s=1,Vt(16),f=!1),this.o=this.o&&f,!f)Oo(this.i,this.l,j,"[Invalid Chunked Response]"),Mi(this),Ra(this);else if(0<j.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),ag(St),St.M=!0,Vt(11))}}else Oo(this.i,this.l,j,null),tg(this,j);At==4&&Mi(this),this.o&&!this.J&&(At==4?GI(this.j,this):(this.o=!1,qu(this)))}else vO(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),Mi(this),Ra(this)}}}catch{}finally{}};function EI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tO(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?Zp:(f=Number(d.substring(f,y)),isNaN(f)?vI:(y+=1,y+f>d.length?Zp:(d=d.slice(y,y+f),u.C=y+f,d)))}Jr.prototype.cancel=function(){this.J=!0,Mi(this)};function qu(u){u.S=Date.now()+u.I,wI(u,u.I)}function wI(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Aa(m(u.ba,u),d)}function eg(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Jr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(XN(this.i,this.A),this.L!=2&&(Sa(),Vt(17)),Mi(this),this.s=2,Ra(this)):wI(this,this.S-u)};function Ra(u){u.j.G==0||u.J||GI(u.j,u)}function Mi(u){eg(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,uI(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function tg(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||ng(f.h,u))){if(!u.K&&ng(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Xu(f),Ju(f);else break e;sg(f),Vt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Aa(m(f.Za,f),6e3));if(1>=TI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Pi(f,11)}else if((u.K||f.g==u)&&Xu(f),!$(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Re=D[d];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let St=Re[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let At=Re[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let Lo=Re[5];Lo!=null&&typeof Lo=="number"&&0<Lo&&(y=1.5*Lo,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let bn=u.g;if(bn){let tl=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var R=y.h;R.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(rg(R,R.h),R.h=null))}if(y.D){let cg=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;cg&&(y.ya=cg,$e(y.I,y.D,cg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var j=u;if(y.qa=YI(y,y.J?y.ia:null,y.W),j.K){CI(y.h,j);var Le=j,wt=y.L;wt&&(Le.I=wt),Le.B&&(eg(Le),qu(Le)),y.g=j}else qI(y);0<f.i.length&&Zu(f)}else Re[0]!="stop"&&Re[0]!="close"||Pi(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Pi(f,7):og(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}Sa(4)}catch{}}var nO=class{constructor(u,d){this.g=u,this.map=d}};function II(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function TI(u){return u.h?1:u.g?u.g.size:0}function ng(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function rg(u,d){u.g?u.g.add(d):u.h=d}function CI(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}II.prototype.cancel=function(){if(this.i=DI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function DI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return T(u.i)}function rO(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function iO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function SI(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=iO(u),y=rO(u),D=y.length,R=0;R<D;R++)d.call(void 0,y[R],f&&f[R],u)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oO(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),D=null;if(0<=y){var R=u[f].substring(0,y);D=u[f].substring(y+1)}else R=u[f];d(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Ri(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ri){this.h=u.h,Wu(this,u.j),this.o=u.o,this.g=u.g,Gu(this,u.s),this.l=u.l;var d=u.i,f=new Na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),MI(this,f),this.m=u.m}else u&&(d=String(u).match(AI))?(this.h=!1,Wu(this,d[1]||"",!0),this.o=Pa(d[2]||""),this.g=Pa(d[3]||"",!0),Gu(this,d[4]),this.l=Pa(d[5]||"",!0),MI(this,d[6]||"",!0),this.m=Pa(d[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}Ri.prototype.toString=function(){var u=[],d=this.j;d&&u.push(xa(d,RI,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(xa(d,RI,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(xa(f,f.charAt(0)=="/"?cO:aO,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",xa(f,lO)),u.join("")};function mr(u){return new Ri(u)}function Wu(u,d,f){u.j=f?Pa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function Gu(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function MI(u,d,f){d instanceof Na?(u.i=d,dO(u.i,u.h)):(f||(d=xa(d,uO)),u.i=new Na(d,u.h))}function $e(u,d,f){u.i.set(d,f)}function Ku(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Pa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function xa(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,sO),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var RI=/[#\/\?@]/g,aO=/[#\?:]/g,cO=/[#\?]/g,uO=/[#\?@]/g,lO=/#/g;function Na(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Zr(u){u.g||(u.g=new Map,u.h=0,u.i&&oO(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Na.prototype,n.add=function(u,d){Zr(this),this.i=null,u=ko(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function PI(u,d){Zr(u),d=ko(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function xI(u,d){return Zr(u),d=ko(u,d),u.g.has(d)}n.forEach=function(u,d){Zr(this),this.g.forEach(function(f,y){f.forEach(function(D){u.call(d,D,y,this)},this)},this)},n.na=function(){Zr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let D=u[y];for(let R=0;R<D.length;R++)f.push(d[y])}return f},n.V=function(u){Zr(this);let d=[];if(typeof u=="string")xI(this,u)&&(d=d.concat(this.g.get(ko(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return Zr(this),this.i=null,u=ko(this,u),xI(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function NI(u,d,f){PI(u,d),0<f.length&&(u.i=null,u.g.set(ko(u,d),T(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let R=encodeURIComponent(String(y)),j=this.V(y);for(y=0;y<j.length;y++){var D=R;j[y]!==""&&(D+="="+encodeURIComponent(String(j[y]))),u.push(D)}}return this.i=u.join("&")};function ko(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function dO(u,d){d&&!u.j&&(Zr(u),u.i=null,u.g.forEach(function(f,y){var D=y.toLowerCase();y!=D&&(PI(this,y),NI(this,D,f))},u)),u.j=d}function hO(u,d){let f=new Ma;if(a.Image){let y=new Image;y.onload=g(Xr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=g(Xr,f,"TestLoadImage: error",!1,d,y),y.onabort=g(Xr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=g(Xr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function fO(u,d){let f=new Ma,y=new AbortController,D=setTimeout(()=>{y.abort(),Xr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(R=>{clearTimeout(D),R.ok?Xr(f,"TestPingServer: ok",!0,d):Xr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Xr(f,"TestPingServer: error",!1,d)})}function Xr(u,d,f,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(f)}catch{}}function pO(){this.g=new YN}function gO(u,d,f){let y=f||"";try{SI(u,function(D,R){let j=D;l(D)&&(j=Gp(D)),d.push(y+R+"="+encodeURIComponent(j))})}catch(D){throw d.push(y+"type="+encodeURIComponent("_badmap")),D}}function Oa(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Oa,Kp),Oa.prototype.g=function(){return new Qu(this.l,this.j)},Oa.prototype.i=function(u){return function(){return u}}({});function Qu(u,d){Dt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Qu,Dt),n=Qu.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Fa(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fa(this)),this.g&&(this.readyState=3,Fa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;OI(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function OI(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?ka(this):Fa(this),this.readyState==3&&OI(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,ka(this))},n.Qa=function(u){this.g&&(this.response=u,ka(this))},n.ga=function(){this.g&&ka(this)};function ka(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fa(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Fa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kI(u){let d="";return le(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function ig(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=kI(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):$e(u,d,f))}function Xe(u){Dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Xe,Dt);var mO=/^https?$/i,yO=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jp.g(),this.v=this.o?lI(this.o):lI(Jp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){FI(this,R);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)f.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())f.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yO,d,void 0))||y||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{UI(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){FI(this,R)}};function FI(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,LI(u),Yu(u)}function LI(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),Yu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yu(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?VI(this):this.bb())},n.bb=function(){VI(this)};function VI(u){if(u.h&&typeof s<"u"&&(!u.v[1]||yr(u)!=4||u.Z()!=2)){if(u.u&&yr(u)==4)sI(u.Ea,0,u);else if(Lt(u,"readystatechange"),yr(u)==4){u.h=!1;try{let j=u.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=j===0){var D=String(u.D).match(AI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),y=!mO.test(D?D.toLowerCase():"")}f=y}if(f)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var R=2<yr(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",LI(u)}}finally{Yu(u)}}}}function Yu(u,d){if(u.g){UI(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Lt(u,"ready");try{f.onreadystatechange=y}catch{}}}function UI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function yr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),QN(d)}};function jI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vO(u){let d={};u=(u.g&&2<=yr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if($(u[y]))continue;var f=C(u[y]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[D]||[];d[D]=R,R.push(f)}I(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function La(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function BI(u){this.Aa=0,this.i=[],this.j=new Ma,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=La("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=La("baseRetryDelayMs",5e3,u),this.cb=La("retryDelaySeedMs",1e4,u),this.Wa=La("forwardChannelMaxRetries",2,u),this.wa=La("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new II(u&&u.concurrentRequestLimit),this.Da=new pO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=BI.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){Vt(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=YI(this,null,this.W),Zu(this)};function og(u){if($I(u),u.G==3){var d=u.U++,f=mr(u.I);if($e(f,"SID",u.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),Va(u,f),d=new Jr(u,u.j,d),d.L=2,d.v=Ku(mr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=JI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qu(d)}QI(u)}function Ju(u){u.g&&(ag(u),u.g.cancel(),u.g=null)}function $I(u){Ju(u),u.u&&(a.clearTimeout(u.u),u.u=null),Xu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Zu(u){if(!bI(u.h)&&!u.s){u.s=!0;var d=u.Ga;Z||tt(),X||(Z(),X=!0),Ie.add(d,u),u.B=0}}function _O(u,d){return TI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Aa(m(u.Ga,u,d),KI(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let D=new Jr(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=zI(this,D,d),f=mr(this.I),$e(f,"RID",u),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),Va(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(kI(R)))+"&"+d:this.m&&ig(f,this.m,R)),rg(this.h,D),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),D.T=!0,Xp(D,f,null)):Xp(D,f,d),this.G=2}}else this.G==3&&(u?HI(this,u):this.i.length==0||bI(this.h)||HI(this))};function HI(u,d){var f;d?f=d.l:f=u.U++;let y=mr(u.I);$e(y,"SID",u.K),$e(y,"RID",f),$e(y,"AID",u.T),Va(u,y),u.m&&u.o&&ig(y,u.m,u.o),f=new Jr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=zI(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),rg(u.h,f),Xp(f,y,d)}function Va(u,d){u.H&&le(u.H,function(f,y){$e(d,y,f)}),u.l&&SI({},function(f,y){$e(d,y,f)})}function zI(u,d,f){f=Math.min(u.i.length,f);var y=u.l?m(u.l.Na,u.l,u):null;e:{var D=u.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=D[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let Le=!0;for(let wt=0;wt<f;wt++){let Re=D[wt].g,St=D[wt].map;if(Re-=R,0>Re)R=Math.max(0,D[wt].g-100),Le=!1;else try{gO(St,j,"req"+Re+"_")}catch{y&&y(St)}}if(Le){y=j.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function qI(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Z||tt(),X||(Z(),X=!0),Ie.add(d,u),u.v=0}}function sg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Aa(m(u.Fa,u),KI(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,WI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Aa(m(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),Ju(this),WI(this))};function ag(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function WI(u){u.g=new Jr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=mr(u.qa);$e(d,"RID","rpc"),$e(d,"SID",u.K),$e(d,"AID",u.T),$e(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(d,"TO",u.ja),$e(d,"TYPE","xmlhttp"),Va(u,d),u.m&&u.o&&ig(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Ku(mr(d)),f.m=null,f.P=!0,_I(f,u)}n.Za=function(){this.C!=null&&(this.C=null,Ju(this),sg(this),Vt(19))};function Xu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function GI(u,d){var f=null;if(u.g==d){Xu(u),ag(u),u.g=null;var y=2}else if(ng(u.h,d))f=d.D,CI(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=u.B;y=$u(),Lt(y,new gI(y,f)),Zu(u)}else qI(u);else if(D=d.s,D==3||D==0&&0<d.X||!(y==1&&_O(u,d)||y==2&&sg(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),D){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function KI(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Pi(u,d){if(u.j.info("Error code "+d),d==2){var f=m(u.fb,u),y=u.Xa;let D=!y;y=new Ri(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wu(y,"https"),Ku(y),D?hO(y.toString(),f):fO(y.toString(),f)}else Vt(2);u.G=0,u.l&&u.l.sa(d),QI(u),$I(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function QI(u){if(u.G=0,u.ka=[],u.l){let d=DI(u.h);(d.length!=0||u.i.length!=0)&&(A(u.ka,d),A(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function YI(u,d,f){var y=f instanceof Ri?mr(f):new Ri(f);if(y.g!="")d&&(y.g=d+"."+y.g),Gu(y,y.s);else{var D=a.location;y=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var R=new Ri(null);y&&Wu(R,y),d&&(R.g=d),D&&Gu(R,D),f&&(R.l=f),y=R}return f=u.D,d=u.ya,f&&d&&$e(y,f,d),$e(y,"VER",u.la),Va(u,y),y}function JI(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Xe(new Oa({eb:f})):new Xe(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ZI(){}n=ZI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function el(){}el.prototype.g=function(u,d){return new Zt(u,d)};function Zt(u,d){Dt.call(this),this.g=new BI(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!$(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Fo(this)}_(Zt,Dt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){og(this.g)},Zt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=Gp(u),u=f);d.i.push(new nO(d.Ya++,u)),d.G==3&&Zu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,og(this.g),delete this.g,Zt.aa.N.call(this)};function XI(u){Qp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}_(XI,Qp);function eb(){Yp.call(this),this.status=1}_(eb,Yp);function Fo(u){this.g=u}_(Fo,ZI),Fo.prototype.ua=function(){Lt(this.g,"a")},Fo.prototype.ta=function(u){Lt(this.g,new XI(u))},Fo.prototype.sa=function(u){Lt(this.g,new eb)},Fo.prototype.ra=function(){Lt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,l0=Br.createWebChannelTransport=function(){return new el},u0=Br.getStatEventTarget=function(){return $u()},c0=Br.Event=Ai,mf=Br.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hu.NO_ERROR=0,Hu.TIMEOUT=8,Hu.HTTP_ERROR=6,au=Br.ErrorCode=Hu,mI.COMPLETE="complete",a0=Br.EventType=mI,dI.EventType=Da,Da.OPEN="a",Da.CLOSE="b",Da.ERROR="c",Da.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Ws=Br.WebChannel=dI,TH=Br.FetchXmlHttpFactory=Oa,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,s0=Br.XhrIo=Xe}).apply(typeof gf<"u"?gf:typeof self<"u"?self:typeof window<"u"?window:{});var TR="@firebase/firestore",CR="4.7.16";var _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");var ga="11.8.1";var Do=new cr("@firebase/firestore");function Gs(){return Do.logLevel}function W(n,...e){if(Do.logLevel<=be.DEBUG){let t=e.map(JE);Do.debug(`Firestore (${ga}): ${n}`,...t)}}function Hr(n,...e){if(Do.logLevel<=be.ERROR){let t=e.map(JE);Do.error(`Firestore (${ga}): ${n}`,...t)}}function ta(n,...e){if(Do.logLevel<=be.WARN){let t=e.map(JE);Do.warn(`Firestore (${ga}): ${n}`,...t)}}function JE(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,_P(n,r,t)}function _P(n,e,t){let r=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hr(r),new Error(r)}function Ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||_P(e,i,r)}function Ae(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},J=class extends _n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var bf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},m0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}},y0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},v0=class{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>M(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new bf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new _t(e)}},_0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},E0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},w0=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function CH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function EP(){return new TextEncoder}var Cf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=CH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function I0(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return we(r,i);{let o=EP(),s=DH(o.encode(DR(n,t)),o.encode(DR(e,t)));return s!==0?s:we(r,i)}}t+=r>65535?2:1}return we(n.length,e.length)}function DR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function DH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return we(n[t],e[t]);return we(n.length,e.length)}function na(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var SR=-62135596800,AR=1e6,kt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*AR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new J(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<SR)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AR}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-SR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var fe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new kt(0,0))}static max(){return new n(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var MR="__name__",Df=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return we(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):I0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}},Qe=class n extends Df{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new J(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},SH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wn=class n extends Df{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return SH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MR}static keyField(){return new n([MR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new J(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new J(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ne=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var pu=-1,b0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};b0.UNKNOWN_ID=-1;function AH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=fe.fromTimestamp(r===1e9?new kt(t+1,0):new kt(t,r));return new So(i,ne.empty(),e)}function MH(n){return new So(n.readTime,n.key,pu)}var So=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(fe.min(),ne.empty(),pu)}static max(){return new n(fe.max(),ne.empty(),pu)}};function RH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var PH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",T0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function np(n){return M(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==PH)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function xH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ma(n){return n.name==="IndexedDbTransactionError"}var ZE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),NH=-1;function rp(n){return n==null}function gu(n){return n===0&&1/n==-1/0}function OH(n){return typeof n=="number"&&Number.isInteger(n)&&!gu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var wP="";function kH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=RR(e)),e=FH(n.get(t),e);return RR(e)}function FH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case wP:t+="";break;default:t+=o}}return t}function RR(n){return n+wP+""}var LH="remoteDocuments",IP="owner";var bP="mutationQueues";var TP="mutations";var CP="documentMutations",VH="remoteDocumentsV14";var DP="remoteDocumentGlobal";var SP="targets";var AP="targetDocuments";var MP="targetGlobal",RP="collectionParents";var PP="clientMetadata";var xP="bundles";var NP="namedQueries";var UH="indexConfiguration";var jH="indexState";var BH="indexEntries";var OP="documentOverlays";var $H="globals";var HH=[bP,TP,CP,LH,SP,IP,MP,AP,PP,DP,RP,xP,NP],qne=[...HH,OP],zH=[bP,TP,CP,VH,SP,IP,MP,AP,PP,DP,RP,xP,NP,OP],qH=zH,WH=[...qH,UH,jH,BH];var Wne=[...WH,$H];function PR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ya(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var st=class n{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Js(this.root,e,this.comparator,!1)}getReverseIterator(){return new Js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Js(this.root,e,this.comparator,!0)}},Js=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}};lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Et=class n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Io=class n{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Et(wn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Af("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var GH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(n){if(Ye(!!n,39018),typeof n=="string"){let e=0,t=GH.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(n.seconds),nanos:We(n.nanos)}}function We(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}var FP="server_timestamp",LP="__type__",VP="__previous_value__",UP="__local_write_time__";function XE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[LP])===null||t===void 0?void 0:t.stringValue)===FP}function ip(n){let e=n.mapValue.fields[VP];return XE(e)?ip(e):e}function mu(n){let e=zr(n.mapValue.fields[UP].timestampValue);return new kt(e.seconds,e.nanos)}var C0=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Mf="(default)",Rf=class n{constructor(e,t){this.projectId=e,this.database=t||Mf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Mf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ew="__type__",jP="__max__",yf={mapValue:{fields:{__type__:{stringValue:jP}}}},tw="__vector__",ra="value";function bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XE(n)?4:$P(n)?9007199254740991:BP(n)?10:11:se(28295,{value:n})}function hr(n,e){if(n===e)return!0;let t=bi(n);if(t!==bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mu(n).isEqual(mu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=zr(i.timestampValue),a=zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return qr(i.bytesValue).isEqual(qr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return We(i.geoPointValue.latitude)===We(o.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return We(i.integerValue)===We(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=We(i.doubleValue),a=We(o.doubleValue);return s===a?gu(s)===gu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(PR(s)!==PR(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!hr(s[c],a[c])))return!1;return!0}(n,e);default:return se(52216,{left:n})}}function yu(n,e){return(n.values||[]).find(t=>hr(t,e))!==void 0}function ia(n,e){if(n===e)return 0;let t=bi(n),r=bi(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=We(o.integerValue||o.doubleValue),c=We(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return xR(n.timestampValue,e.timestampValue);case 4:return xR(mu(n),mu(e));case 5:return I0(n.stringValue,e.stringValue);case 6:return function(o,s){let a=qr(o),c=qr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=we(a[l],c[l]);if(h!==0)return h}return we(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(We(o.latitude),We(s.latitude));return a!==0?a:we(We(o.longitude),We(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},m=s.fields||{},g=(a=p[ra])===null||a===void 0?void 0:a.arrayValue,_=(c=m[ra])===null||c===void 0?void 0:c.arrayValue,T=we(((l=g?.values)===null||l===void 0?void 0:l.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:NR(g,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===yf.mapValue&&s===yf.mapValue)return 0;if(o===yf.mapValue)return 1;if(s===yf.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let m=I0(c[p],h[p]);if(m!==0)return m;let g=ia(a[c[p]],l[h[p]]);if(g!==0)return g}return we(c.length,h.length)}(n.mapValue,e.mapValue);default:throw se(23264,{Pe:t})}}function xR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=zr(n),r=zr(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function NR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ia(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function oa(n){return D0(n)}function D0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=zr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=D0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${D0(t.fields[s])}`;return i+"}"}(n.mapValue):se(61005,{value:n})}function Ef(n){switch(bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ip(n);return e?16+Ef(e):16;case 5:return 2*n.stringValue.length;case 6:return qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ef(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ya(r.fields,(o,s)=>{i+=o.length+Ef(s)}),i}(n.mapValue);default:throw se(13486,{value:n})}}function OR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function S0(n){return!!n&&"integerValue"in n}function nw(n){return!!n&&"arrayValue"in n}function kR(n){return!!n&&"nullValue"in n}function FR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function d0(n){return!!n&&"mapValue"in n}function BP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[ew])===null||t===void 0?void 0:t.stringValue)===tw}function uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ya(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $P(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===jP}var Kne={mapValue:{fields:{[ew]:{stringValue:tw},[ra]:{arrayValue:{}}}}};var $r=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!d0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=wn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());d0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];d0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ya(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(uu(this.value))}};var Un=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,fe.min(),fe.min(),fe.min(),$r.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,fe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,fe.min(),fe.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,fe.min(),fe.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var sa=class{constructor(e,t){this.position=e,this.inclusive=t}};function LR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),t.key):r=ia(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hr(n.position[t],e.position[t]))return!1;return!0}var aa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function KH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Pf=class{},lt=class n extends Pf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new M0(e,t,r):t==="array-contains"?new x0(e,r):t==="in"?new N0(e,r):t==="not-in"?new O0(e,r):t==="array-contains-any"?new k0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new R0(e,r):new P0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&bi(this.value)===bi(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class n extends Pf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return HP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function HP(n){return n.op==="and"}function zP(n){return QH(n)&&HP(n)}function QH(n){for(let e of n.filters)if(e instanceof jn)return!1;return!0}function A0(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(zP(n))return n.filters.map(e=>A0(e)).join(",");{let e=n.filters.map(t=>A0(t)).join(",");return`${n.op}(${e})`}}function qP(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&hr(r.value,i.value)}(n,e):n instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qP(s,i.filters[a]),!0):!1}(n,e):void se(19439)}function WP(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(WP).join(" ,")+"}"}(n):"Filter"}var M0=class extends lt{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){let t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}},R0=class extends lt{constructor(e,t){super(e,"in",t),this.keys=GP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},P0=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=GP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function GP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}var x0=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return nw(t)&&yu(t.arrayValue,this.value)}},N0=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&yu(this.value.arrayValue,t)}},O0=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yu(this.value.arrayValue,t)}},k0=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!nw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yu(this.value.arrayValue,r))}};var F0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function UR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new F0(n,e,t,r,i,o,s)}function rw(n){let e=Ae(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>A0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>oa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>oa(r)).join(",")),e.Ie=t}return e.Ie}function iw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!KH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VR(n.startAt,e.startAt)&&VR(n.endAt,e.endAt)}function L0(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ao=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function YH(n,e,t,r,i,o,s,a){return new Ao(n,e,t,r,i,o,s,a)}function ow(n){return new Ao(n)}function jR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function KP(n){return n.collectionGroup!==null}function lu(n){let e=Ae(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Et(wn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new aa(o,r))}),t.has(wn.keyField().canonicalString())||e.Ee.push(new aa(wn.keyField(),r))}return e.Ee}function dr(n){let e=Ae(n);return e.de||(e.de=JH(e,lu(n))),e.de}function JH(n,e){if(n.limitType==="F")return UR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new aa(i.field,o)});let t=n.endAt?new sa(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sa(n.startAt.position,n.startAt.inclusive):null;return UR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function V0(n,e){let t=n.filters.concat([e]);return new Ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xf(n,e,t){return new Ao(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return iw(dr(n),dr(e))&&n.limitType===e.limitType}function QP(n){return`${rw(dr(n))}|lt:${n.limitType}`}function Ks(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>WP(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>oa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>oa(i)).join(",")),`Target(${r})`}(dr(n))}; limitType=${n.limitType})`}function sp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=LR(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,lu(r),i)||r.endAt&&!function(s,a,c){let l=LR(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,lu(r),i))}(n,e)}function ZH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function YP(n){return(e,t)=>{let r=!1;for(let i of lu(n)){let o=XH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function XH(n,e,t){let r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?ia(c,l):se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:n.dir})}}var Wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ya(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return kP(this.inner)}size(){return this.innerSize}};var ez=new st(ne.comparator);function Ti(){return ez}var JP=new st(ne.comparator);function cu(...n){let e=JP;for(let t of n)e=e.insert(t.key,t);return e}function tz(n){let e=JP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function bo(){return du()}function ZP(){return du()}function du(){return new Wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var Qne=new st(ne.comparator),nz=new Et(ne.comparator);function Me(...n){let e=nz;for(let t of n)e=e.add(t);return e}var rz=new Et(we);function iz(){return rz}function sw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gu(e)?"-0":e}}function XP(n){return{integerValue:""+n}}function oz(n,e){return OH(e)?XP(e):sw(n,e)}var ca=class{constructor(){this._=void 0}};function sz(n,e,t){return n instanceof vu?function(i,o){let s={fields:{[LP]:{stringValue:FP},[UP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&XE(o)&&(o=ip(o)),o&&(s.fields[VP]=o),{mapValue:s}}(t,e):n instanceof ua?ex(n,e):n instanceof la?tx(n,e):function(i,o){let s=cz(i,o),a=BR(s)+BR(i.Re);return S0(s)&&S0(i.Re)?XP(a):sw(i.serializer,a)}(n,e)}function az(n,e,t){return n instanceof ua?ex(n,e):n instanceof la?tx(n,e):t}function cz(n,e){return n instanceof _u?function(r){return S0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var vu=class extends ca{},ua=class extends ca{constructor(e){super(),this.elements=e}};function ex(n,e){let t=nx(e);for(let r of n.elements)t.some(i=>hr(i,r))||t.push(r);return{arrayValue:{values:t}}}var la=class extends ca{constructor(e){super(),this.elements=e}};function tx(n,e){let t=nx(e);for(let r of n.elements)t=t.filter(i=>!hr(i,r));return{arrayValue:{values:t}}}var _u=class extends ca{constructor(e,t){super(),this.serializer=e,this.Re=t}};function BR(n){return We(n.integerValue||n.doubleValue)}function nx(n){return nw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function uz(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ua&&i instanceof ua||r instanceof la&&i instanceof la?na(r.elements,i.elements,hr):r instanceof _u&&i instanceof _u?hr(r.Re,i.Re):r instanceof vu&&i instanceof vu}(n.transform,e.transform)}var hu=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function wf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Eu=class{};function rx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new U0(n.key,hu.none()):new wu(n.key,n.data,hu.none());{let t=n.data,r=$r.empty(),i=new Et(wn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new da(n.key,r,new Io(i.toArray()),hu.none())}}function lz(n,e,t){n instanceof wu?function(i,o,s){let a=i.value.clone(),c=HR(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof da?function(i,o,s){if(!wf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=HR(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(ix(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function fu(n,e,t,r){return n instanceof wu?function(o,s,a,c){if(!wf(o.precondition,s))return a;let l=o.value.clone(),h=zR(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof da?function(o,s,a,c){if(!wf(o.precondition,s))return a;let l=zR(o.fieldTransforms,c,s),h=s.data;return h.setAll(ix(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return wf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function $R(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&na(r,i,(o,s)=>uz(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var wu=class extends Eu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},da=class extends Eu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ix(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function HR(n,e,t){let r=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,az(s,a,t[i]))}return r}function zR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,sz(o,s,e))}return r}var U0=class extends Eu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var j0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&lz(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=fu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=ZP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=rx(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,r)=>$R(t,r))&&na(this.baseMutations,e.baseMutations,(t,r)=>$R(t,r))}};var B0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ct,Se;function ox(n){if(n===void 0)return Hr("GRPC error has no .code"),L.UNKNOWN;switch(n){case ct.OK:return L.OK;case ct.CANCELLED:return L.CANCELLED;case ct.UNKNOWN:return L.UNKNOWN;case ct.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ct.INTERNAL:return L.INTERNAL;case ct.UNAVAILABLE:return L.UNAVAILABLE;case ct.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ct.NOT_FOUND:return L.NOT_FOUND;case ct.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ct.ABORTED:return L.ABORTED;case ct.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ct.DATA_LOSS:return L.DATA_LOSS;default:return se(39323,{code:n})}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var qR=null;var dz=new jr([4294967295,4294967295],0);function WR(n){let e=EP().encode(n),t=new o0;return t.update(e),new Uint8Array(t.digest())}function GR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new jr([t,r],0),new jr([i,o],0)]}var H0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new To(`Invalid padding: ${t}`);if(r<0)throw new To(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new To(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new To(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=jr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(jr.fromNumber(r)));return i.compare(dz)===1&&(i=new jr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=WR(e),[r,i]=GR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=WR(e),[r,i]=GR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},To=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(fe.min(),i,new st(we),Ti(),Me())}},Iu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var Zs=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Of=class{constructor(e,t){this.targetId=e,this.Ce=t}},kf=class{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Ff=class{constructor(){this.Fe=0,this.Me=KR(),this.xe=Ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:o})}}),new Iu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=KR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},z0=class{constructor(e){this.ze=e,this.je=new Map,this.He=Ti(),this.Je=vf(),this.Ye=vf(),this.Ze=new st(we)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(L0(o))if(r===0){let s=new ne(o.path);this.tt(t,s,Un.newNoDocument(s,fe.min()))}else Ye(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}qR?.ht(function(h,p,m,g,_){var T,A,O,$,H,te;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},le=p.unchangedNames;return le&&(Fe.bloomFilter={applied:_===0,hashCount:(T=le?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:($=(O=(A=le?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&$!==void 0?$:0,padding:(te=(H=le?.bits)===null||H===void 0?void 0:H.padding)!==null&&te!==void 0?te:0,mightContain:I=>{var v;return(v=g?.mightContain(I))!==null&&v!==void 0&&v}}),Fe}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=qr(r).toUint8Array()}catch(c){if(c instanceof Af)return ta("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new H0(s,i,o)}catch(c){return ta(c instanceof To?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&L0(a.target)){let c=new ne(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,Un.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Me();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Nf(e,t,this.Ze,this.He,r);return this.He=Ti(),this.Je=vf(),this.Ye=vf(),this.Ze=new st(we),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Ff,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Et(we),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Et(we),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ff),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function vf(){return new st(ne.comparator)}function KR(){return new st(ne.comparator)}var hz={asc:"ASCENDING",desc:"DESCENDING"},fz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pz={and:"AND",or:"OR"},q0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function W0(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function G0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xs(n){return Ye(!!n,49232),fe.fromTimestamp(function(t){let r=zr(t);return new kt(r.seconds,r.nanos)}(n))}function ax(n,e){return K0(n,e).canonicalString()}function K0(n,e){let t=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function cx(n){let e=Qe.fromString(n);return Ye(fx(e),10190,{key:e.toString()}),e}function h0(n,e){let t=cx(e);if(t.get(1)!==n.databaseId.projectId)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new J(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(lx(t))}function ux(n,e){return ax(n.databaseId,e)}function gz(n){let e=cx(n);return e.length===4?Qe.emptyPath():lx(e)}function QR(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lx(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mz(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ye(h===void 0||typeof h=="string",58123),Ft.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?L.UNKNOWN:ox(l.code);return new J(h,l.message||"")}(s);t=new kf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=h0(n,r.document.name),o=Xs(r.document.updateTime),s=r.document.createTime?Xs(r.document.createTime):fe.min(),a=new $r({mapValue:{fields:r.document.fields}}),c=Un.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Zs(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=h0(n,r.document),o=r.readTime?Xs(r.readTime):fe.min(),s=Un.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Zs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=h0(n,r.document),o=r.removedTargetIds||[];t=new Zs([],o,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new $0(i,o),a=r.targetId;t=new Of(a,s)}}return t}function yz(n,e){return{documents:[ux(n,e.path)]}}function vz(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ux(n,i);let o=function(l){if(l.length!==0)return hx(jn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Qs(m.field),direction:wz(m.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=W0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function _z(n){let e=gz(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let m=dx(p);return m instanceof jn&&zP(m)?m.getFilters():[m]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(m=>function(_){return new aa(Ys(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,rp(m)?null:m}(t.limit));let c=null;t.startAt&&(c=function(p){let m=!!p.before,g=p.values||[];return new sa(g,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,g=p.values||[];return new sa(g,m)}(t.endAt)),YH(e,i,s,o,a,"F",c,l)}function Ez(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ys(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ys(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ys(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ys(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(n):n.fieldFilter!==void 0?function(t){return lt.create(Ys(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(r=>dx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(t.compositeFilter.op))}(n):se(30097,{filter:n})}function wz(n){return hz[n]}function Iz(n){return fz[n]}function bz(n){return pz[n]}function Qs(n){return{fieldPath:n.canonicalString()}}function Ys(n){return wn.fromServerFormat(n.fieldPath)}function hx(n){return n instanceof lt?function(t){if(t.op==="=="){if(FR(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NAN"}};if(kR(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FR(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NOT_NAN"}};if(kR(t.value))return{unaryFilter:{field:Qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(t.field),op:Iz(t.op),value:t.value}}}(n):n instanceof jn?function(t){let r=t.getFilters().map(i=>hx(i));return r.length===1?r[0]:{compositeFilter:{op:bz(t.op),filters:r}}}(n):se(54877,{filter:n})}function fx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var bu=class n{constructor(e,t,r,i,o=fe.min(),s=fe.min(),a=Ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Q0=class{constructor(e){this.wt=e}};function Tz(n){let e=_z({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xf(e,e.limit,"L"):e}var Lf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(We(e.integerValue));else if("doubleValue"in e){let r=We(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),gu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=zr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(qr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?$P(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):BP(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):se(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=ra,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(We(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ne.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Lf.Wt=new Lf;var Y0=class{constructor(){this.Cn=new J0}addToCollectionParentIndex(e,t){return this.Cn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(So.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},J0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Et(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(Qe.comparator)).toArray()}};var Yne=new Uint8Array(0);var YR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},px=41943040,En=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(px,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);var Tu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var JR="LruGarbageCollector",Cz=1048576;function ZR([n,e],[t,r]){let i=we(n,t);return i===0?we(e,r):i}var Z0=class{constructor(e){this.Er=e,this.buffer=new Et(ZR),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();ZR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},X0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){W(JR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>M(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ma(t)?W(JR,"Ignoring IndexedDB error during garbage collection: ",t):yield np(t)}yield this.mr(3e5)}))}},eE=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(ZE.le);let r=new Z0(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(YR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YR):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Gs()<=be.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Dz(n,e){return new eE(n,e)}var tE=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var nE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var rE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&fu(r.mutation,i,Io.empty(),kt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=bo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=cu();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=bo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ti(),s=du(),a=function(){return du()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof da)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),fu(h.mutation,l,h.mutation.getFieldMask(),kt.now())):s.set(l.key,Io.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new nE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=du(),i=new st((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||Io.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=ZP();h.forEach(m=>{if(!o.has(m)){let g=rx(t.get(m),r.get(m));g!==null&&p.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(bo()),a=pu,c=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Me())).next(h=>({batchId:a,changes:tz(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=cu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=cu();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=function(p,m){return new Ao(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Un.newInvalidDocument(h)))});let a=cu();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&fu(h.mutation,l,Io.empty(),kt.now()),sp(t,l)&&(a=a.insert(c,l))}),a})}};var iE=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return k.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xs(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:Tz(i.bundledQuery),readTime:Xs(i.readTime)}}(t)),k.resolve()}};var oE=class{constructor(){this.overlays=new st(ne.comparator),this.Qr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=bo();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=bo(),o=t.length+1,s=new ne(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new st((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=bo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=bo(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new B0(t,r));let o=this.Qr.get(t);o===void 0&&(o=Me(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var sE=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var Cu=class{constructor(){this.$r=new Et(ut.Ur),this.Kr=new Et(ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new ut(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new ut(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=Me();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ut(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ne.comparator(e.key,t.key)||we(e.Zr,t.Zr)}static Wr(e,t){return we(e.Zr,t.Zr)||ne.comparator(e.key,t.key)}};var aE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Et(ut.Ur)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new j0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?NH:this.nr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Et(we);return t.forEach(i=>{let o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),k.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new ut(new ne(o),0),a=new Et(we);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),k.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return k.forEach(t.mutations,i=>{let o=new ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new ut(t,0),i=this.Xr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var cE=class{constructor(e){this.ii=e,this.docs=function(){return new st(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():Un.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Un.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ti(),s=t.path,a=new ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||RH(MH(h),r)<=0||(i.has(h.key)||sp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se(9500)}si(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uE(this)}getSize(e){return k.resolve(this.size)}},uE=class extends tE{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var lE=class{constructor(e){this.persistence=e,this.oi=new Wr(t=>rw(t),iw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this._i=0,this.ai=new Cu,this.targetCount=0,this.ui=Tu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),k.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Tu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Tr(t),k.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.ai.containsKey(t))}};var Vf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new ZE(0),this.hi=!1,this.hi=!0,this.Pi=new sE,this.referenceDelegate=e(this),this.Ti=new lE(this),this.indexManager=new Y0,this.remoteDocumentCache=function(i){return new cE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Q0(t),this.Ei=new iE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new oE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new aE(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new dE(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return k.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},dE=class extends T0{constructor(e){super(),this.currentSequenceNumber=e}},hE=class n{constructor(e){this.persistence=e,this.Vi=new Cu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,r=>{let i=ne.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,fe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return k.or([()=>k.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Uf=class n{constructor(e,t){this.persistence=e,this.yi=new Wr(r=>kH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Dz(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return k.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,fe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),k.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ef(e.data.value)),t}Dr(e,t,r){return k.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var fE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var pE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gE=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AM()?8:xH(un())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new pE;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Gs()<=be.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):(Gs()<=be.DEBUG&&W("QueryEngine","Query:",Ks(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Gs()<=be.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):k.resolve())}ws(e,t){if(jR(t))return k.resolve(null);let r=dr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=xf(t,null,"F"),r=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,xf(t,null,"F")):this.Fs(e,l,t,c)}))})))}Ss(e,t,r,i){return jR(t)||i.isEqual(fe.min())?k.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?k.resolve(null):(Gs()<=be.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ks(t)),this.Fs(e,s,t,AH(i,pu)).next(a=>a))})}vs(e,t){let r=new Et(YP(e));return t.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return Gs()<=be.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.ys.getDocumentsMatchingQuery(e,t,So.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var aw="LocalStore",Sz=3e8,mE=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new st(we),this.Os=new Wr(o=>rw(o),iw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function Az(n,e,t,r){return new mE(n,e,t,r)}function gx(n,e){return M(this,null,function*(){let t=Ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function mx(n){let e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function Mz(n,e){let t=Ae(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ft.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(p,g),function(T,A,O){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=Sz?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,g,h)&&a.push(t.Ti.updateTargetData(o,g))});let c=Ti(),l=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Rz(o,s,e.documentUpdates).next(h=>{c=h.qs,l=h.Qs})),!r.isEqual(fe.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function Rz(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ti();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(aw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function Pz(n,e){let t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new bu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function yE(n,e,t){return M(this,null,function*(){let r=Ae(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ma(s))throw s;W(aw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function XR(n,e,t){let r=Ae(n),i=fe.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=Ae(c),m=p.Os.get(h);return m!==void 0?k.resolve(p.xs.get(m)):p.Ti.getTargetData(l,h)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:fe.min(),t?o:Me())).next(a=>(xz(r,ZH(e),a),{documents:a,$s:o})))}function xz(n,e,t){let r=n.Ns.get(e)||fe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var jf=class{constructor(){this.activeTargetIds=iz()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vE=class{constructor(){this.xo=new jf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new jf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _E=class{No(e){}shutdown(){}};var eP="ConnectivityMonitor",Bf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){W(eP,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){W(eP,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var _f=null;function EE(){return _f===null?_f=function(){return 268435456+Math.round(2147483648*Math.random())}():_f++,"0x"+_f.toString(16)}var f0="RestConnection",Nz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},wE=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Mf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=EE(),a=this.jo(e,t.toUriEncodedString());W(f0,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),h=Bs(l);return this.Jo(e,a,c,r,h).then(p=>(W(f0,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ta(f0,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=Nz[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var IE=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var Ot="WebChannelConnection",bE=class extends wE{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=EE();return new Promise((a,c)=>{let l=new s0;l.setWithCredentials(!0),l.listenOnce(a0.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case au.NO_ERROR:let p=l.getResponseJson();W(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case au.TIMEOUT:W(Ot,`RPC '${e}' ${s} timed out`),c(new J(L.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:let m=l.getStatus();if(W(Ot,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let T=function(O){let $=O.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf($)>=0?$:L.UNKNOWN}(_.status);c(new J(T,_.message))}else c(new J(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new J(L.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{W(Ot,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);W(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=EE(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l0(),a=u0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");W(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c),m=!1,g=!1,_=new IE({Zo:A=>{g?W(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(W(Ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),W(Ot,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Xo:()=>p.close()}),T=(A,O,$)=>{A.listen(O,H=>{try{$(H)}catch(te){setTimeout(()=>{throw te},0)}})};return T(p,Ws.EventType.OPEN,()=>{g||(W(Ot,`RPC '${e}' stream ${i} transport opened.`),_.__())}),T(p,Ws.EventType.CLOSE,()=>{g||(g=!0,W(Ot,`RPC '${e}' stream ${i} transport closed`),_.u_())}),T(p,Ws.EventType.ERROR,A=>{g||(g=!0,ta(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.u_(new J(L.UNAVAILABLE,"The operation could not be completed")))}),T(p,Ws.EventType.MESSAGE,A=>{var O;if(!g){let $=A.data[0];Ye(!!$,16349);let H=$,te=H?.error||((O=H[0])===null||O===void 0?void 0:O.error);if(te){W(Ot,`RPC '${e}' stream ${i} received error:`,te);let Fe=te.status,le=function(E){let b=ct[E];if(b!==void 0)return ox(b)}(Fe),I=te.message;le===void 0&&(le=L.INTERNAL,I="Unknown error status: "+Fe+" with message "+te.message),g=!0,_.u_(new J(le,I)),p.close()}else W(Ot,`RPC '${e}' stream ${i} received:`,$),_.c_($)}}),T(a,c0.STAT_EVENT,A=>{A.stat===mf.PROXY?W(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===mf.NOPROXY&&W(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}};function p0(){return typeof document<"u"?document:null}function ap(n){return new q0(n,!0)}var $f=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var tP="PersistentStream",TE=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new $f(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return M(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return M(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return M(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Hr(t.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new J(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>M(this,null,function*(){this.state=0,this.start()}))}W_(e){return W(tP,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(W(tP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},CE=class extends TE{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=mz(this.serializer,e),r=function(o){if(!("targetChange"in o))return fe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?fe.min():s.readTime?Xs(s.readTime):fe.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=QR(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=L0(c)?{documents:yz(o,c)}:{query:vz(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=sx(o,s.resumeToken);let l=W0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(fe.min())>0){a.readTime=G0(o,s.snapshotVersion.toTimestamp());let l=W0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Ez(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=QR(this.serializer),t.removeTarget=e,this.L_(t)}};var DE=class{},SE=class extends DE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,K0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(L.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,K0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(L.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},AE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Hr(t),this.oa=!1):W("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var ha="RemoteStore",ME=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>M(this,null,function*(){xu(this)&&(W(ha,"Restarting streams for network reachability change."),yield function(c){return M(this,null,function*(){let l=Ae(c);l.Ta.add(4),yield Pu(l),l.da.set("Unknown"),l.Ta.delete(4),yield cp(l)})}(this))}))}),this.da=new AE(r,i)}};function cp(n){return M(this,null,function*(){if(xu(n))for(let e of n.Ia)yield e(!0)})}function Pu(n){return M(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function yx(n,e){let t=Ae(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),dw(t)?lw(t):va(t).M_()&&uw(t,e))}function cw(n,e){let t=Ae(n),r=va(t);t.Pa.delete(e),r.M_()&&vx(t,e),t.Pa.size===0&&(r.M_()?r.N_():xu(t)&&t.da.set("Unknown"))}function uw(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).H_(e)}function vx(n,e){n.Aa.Ke(e),va(n).J_(e)}function lw(n){n.Aa=new z0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),va(n).start(),n.da._a()}function dw(n){return xu(n)&&!va(n).F_()&&n.Pa.size>0}function xu(n){return Ae(n).Ta.size===0}function _x(n){n.Aa=void 0}function Oz(n){return M(this,null,function*(){n.da.set("Online")})}function kz(n){return M(this,null,function*(){n.Pa.forEach((e,t)=>{uw(n,e)})})}function Fz(n,e){return M(this,null,function*(){_x(n),dw(n)?(n.da.ca(e),lw(n)):n.da.set("Unknown")})}function Lz(n,e,t){return M(this,null,function*(){if(n.da.set("Online"),e instanceof kf&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){W(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nP(n,r)}else if(e instanceof Zs?n.Aa.Xe(e):e instanceof Of?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(fe.min()))try{let r=yield mx(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Pa.get(c);if(!h)return;o.Pa.set(c,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),vx(o,c);let p=new bu(h.target,c,l,h.sequenceNumber);uw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W(ha,"Failed to raise snapshot:",r),yield nP(n,r)}})}function nP(n,e,t){return M(this,null,function*(){if(!ma(e))throw e;n.Ta.add(1),yield Pu(n),n.da.set("Offline"),t||(t=()=>mx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(null,null,function*(){W(ha,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield cp(n)}))})}function rP(n,e){return M(this,null,function*(){let t=Ae(n);t.asyncQueue.verifyOperationInProgress(),W(ha,"RemoteStore received new credentials");let r=xu(t);t.Ta.add(3),yield Pu(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield cp(t)})}function Vz(n,e){return M(this,null,function*(){let t=Ae(n);e?(t.Ta.delete(2),yield cp(t)):e||(t.Ta.add(2),yield Pu(t),t.da.set("Unknown"))})}function va(n){return n.Ra||(n.Ra=function(t,r,i){let o=Ae(t);return o.ra(),new CE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:Oz.bind(null,n),n_:kz.bind(null,n),i_:Fz.bind(null,n),j_:Lz.bind(null,n)}),n.Ia.push(e=>M(null,null,function*(){e?(n.Ra.O_(),dw(n)?lw(n):n.da.set("Unknown")):(yield n.Ra.stop(),_x(n))}))),n.Ra}var RE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ex(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),ma(n))return new J(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Hf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=cu(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var zf=class{constructor(){this.ma=new st(ne.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},fa=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Hf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var PE=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},xE=class{constructor(){this.queries=iP(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=Ae(t),o=i.queries;i.queries=iP(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new J(L.ABORTED,"Firestore shutting down"))}};function iP(){return new Wr(n=>QP(n),op)}function Uz(n,e){return M(this,null,function*(){let t=Ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new PE,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=Ex(s,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&hw(t)})}function jz(n,e){return M(this,null,function*(){let t=Ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Bz(n,e){let t=Ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&hw(t)}function $z(n,e,t){let r=Ae(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function hw(n){n.ba.forEach(e=>{e.next()})}var NE,oP;(oP=NE||(NE={})).Ca="default",oP.Cache="cache";var OE=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==NE.Cache}};var qf=class{constructor(e){this.key=e}},Wf=class{constructor(e){this.key=e}},kE=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Me(),this.mutatedKeys=Me(),this.Ha=YP(e),this.Ja=new Hf(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new zf,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),g=sp(this.query,p)?p:null,_=!!m&&this.mutatedKeys.has(m.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),A=!1;m&&g?m.data.isEqual(g.data)?_!==T&&(r.track({type:3,doc:g}),A=!0):this.eu(m,g)||(r.track({type:2,doc:g}),A=!0,(c&&this.Ha(g,c)>0||l&&this.Ha(g,l)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),A=!0):m&&!g&&(r.track({type:1,doc:m}),A=!0,(c||l)&&(a=!0)),A&&(g?(s=s.add(g),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(g,_){let T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:A})}};return T(g)-T(_)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,l=c!==this.za;return this.za=c,s.length!==0||l?{snapshot:new fa(this.query,e.Ja,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new zf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Me(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new Wf(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new qf(r))}),t}su(e){this.Ga=e.$s,this.ja=Me();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return fa.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},fw="SyncEngine",FE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},LE=class{constructor(e){this.key=e,this._u=!1}},VE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new Wr(a=>QP(a),op),this.cu=new Map,this.lu=new Set,this.hu=new st(ne.comparator),this.Pu=new Map,this.Tu=new Cu,this.Iu={},this.Eu=new Map,this.du=Tu.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function Hz(n,e,t=!0){return M(this,null,function*(){let r=Cx(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield wx(r,e,t,!0),i})}function zz(n,e){return M(this,null,function*(){let t=Cx(n);yield wx(t,e,!0,!1)})}function wx(n,e,t,r){return M(this,null,function*(){let i=yield Pz(n.localStore,dr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield qz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&yx(n.remoteStore,i),a})}function qz(n,e,t,r,i){return M(this,null,function*(){n.Ru=(p,m,g)=>function(T,A,O,$){return M(this,null,function*(){let H=A.view.Za(O);H.Cs&&(H=yield XR(T.localStore,A.query,!1).then(({documents:I})=>A.view.Za(I,H)));let te=$&&$.targetChanges.get(A.targetId),Fe=$&&$.targetMismatches.get(A.targetId)!=null,le=A.view.applyChanges(H,T.isPrimaryClient,te,Fe);return aP(T,A.targetId,le.ru),le.snapshot})}(n,p,m,g);let o=yield XR(n.localStore,e,!0),s=new kE(e,o.$s),a=s.Za(o.documents),c=Iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);aP(n,t,l.ru);let h=new FE(e,t,s);return n.uu.set(e,h),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),l.snapshot})}function Wz(n,e,t){return M(this,null,function*(){let r=Ae(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!op(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&cw(r.remoteStore,i.targetId),UE(r,i.targetId)}).catch(np))):(UE(r,i.targetId),yield yE(r.localStore,i.targetId,!0))})}function Gz(n,e){return M(this,null,function*(){let t=Ae(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),cw(t.remoteStore,r.targetId))})}function Ix(n,e){return M(this,null,function*(){let t=Ae(n);try{let r=yield Mz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Ye(s._u,14607):i.removedDocuments.size>0&&(Ye(s._u,42227),s._u=!1))}),yield Tx(t,r,e)}catch(r){yield np(r)}})}function sP(n,e,t){let r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Ae(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let m of p.ya)m.Da(a)&&(l=!0)}),l&&hw(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Kz(n,e,t){return M(this,null,function*(){let r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new st(ne.comparator);s=s.insert(o,Un.newNoDocument(o,fe.min()));let a=Me().add(o),c=new Nf(fe.min(),new Map,new st(we),s,a);yield Ix(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),pw(r)}else yield yE(r.localStore,e,!1).then(()=>UE(r,e,t)).catch(np)})}function UE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||bx(n,r)})}function bx(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(cw(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),pw(n))}function aP(n,e,t){for(let r of t)r instanceof qf?(n.Tu.addReference(r.key,e),Qz(n,r)):r instanceof Wf?(W(fw,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||bx(n,r.key)):se(19791,{mu:r})}function Qz(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(W(fw,"New document in limbo: "+t),n.lu.add(r),pw(n))}function pw(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ne(Qe.fromString(e)),r=n.du.next();n.Pu.set(r,new LE(t)),n.hu=n.hu.insert(t,r),yx(n.remoteStore,new bu(dr(ow(t.path)),r,"TargetPurposeLimboResolution",ZE.le))}}function Tx(n,e,t){return M(this,null,function*(){let r=Ae(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=fE.Rs(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,l){return M(this,null,function*(){let h=Ae(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,m=>k.forEach(m.ds,g=>h.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>k.forEach(m.As,g=>h.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!ma(p))throw p;W(aw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let g=h.xs.get(m),_=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(_);h.xs=h.xs.insert(m,T)}}})}(r.localStore,o))})}function Yz(n,e){return M(this,null,function*(){let t=Ae(n);if(!t.currentUser.isEqual(e)){W(fw,"User change. New user:",e.toKey());let r=yield gx(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new J(L.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tx(t,r.ks)}})}function Jz(n,e){let t=Ae(n),r=t.Pu.get(e);if(r&&r._u)return Me().add(r.key);{let i=Me(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function Cx(n){let e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ix.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kz.bind(null,e),e.au.j_=Bz.bind(null,e.eventManager),e.au.Vu=$z.bind(null,e.eventManager),e}var Dx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=ap(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return Az(this.persistence,new gE,t.initialUser,this.serializer)}yu(t){return new Vf(hE.fi,this.serializer)}pu(t){return new vE}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),jE=class extends Dx{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ye(this.persistence.referenceDelegate instanceof Uf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new X0(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new Vf(r=>Uf.fi(r,t),this.serializer)}};var Zz=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yz.bind(null,this.syncEngine),yield Vz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new xE}()}createDatastore(t){let r=ap(t.databaseInfo.databaseId),i=function(s){return new bE(s)}(t.databaseInfo);return function(s,a,c,l){return new SE(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new ME(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>sP(this.syncEngine,r,0),function(){return Bf.C()?new Bf:new _E}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,p){let m=new VE(o,s,a,c,l,h);return p&&(m.Au=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=Ae(o);W(ha,"RemoteStore shutting down."),s.Ta.add(5),yield Pu(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var BE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ci="FirestoreClient",$E=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=Cf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){W(Ci,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(Ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=Ex(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function g0(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(Ci,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(null,null,function*(){r.isEqual(i)||(yield gx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function cP(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Xz(n);W(Ci,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>rP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>rP(e.remoteStore,i)),n._onlineComponents=e})}function Xz(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(Ci,"Using user provided OfflineComponentProvider");try{yield g0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),yield g0(n,new Dx)}}else W(Ci,"Using default OfflineComponentProvider"),yield g0(n,new jE(void 0));return n._offlineComponents})}function eq(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(Ci,"Using user provided OnlineComponentProvider"),yield cP(n,n._uninitializedComponentsProvider._online)):(W(Ci,"Using default OnlineComponentProvider"),yield cP(n,new Zz))),n._onlineComponents})}function uP(n){return M(this,null,function*(){let e=yield eq(n),t=e.eventManager;return t.onListen=Hz.bind(null,e.syncEngine),t.onUnlisten=Wz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Gz.bind(null,e.syncEngine),t})}function Sx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var lP=new Map;function Ax(n,e,t){if(!t)throw new J(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tq(n,e,t,r){if(e===!0&&r===!0)throw new J(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dP(n){if(!ne.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hP(n){if(ne.isDocumentKey(n))throw new J(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function up(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function If(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=up(n);throw new J(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nq(n,e){if(e<=0)throw new J(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var Mx="firestore.googleapis.com",fP=!0,Gf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mx,this.ssl=fP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=px;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cz)throw new J(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},pa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new m0;switch(r.type){case"firstParty":return new E0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=lP.get(t);r&&(W("ComponentProvider","Removing Datastore"),lP.delete(t),r.terminate())}(this),Promise.resolve()}};function Rx(n,e,t,r={}){var i;n=If(n,pa);let o=Bs(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(__(`https://${c}`),E_("Firestore",!0)),s.host!==Mx&&s.host!==c&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!fo(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=_t.MOCK_USER;else{h=bM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new J(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _t(m)}n._authCredentials=new y0(new bf(h,p))}}var Mo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ii=class n extends Mo{constructor(e,t,r){super(e,t,ow(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ne(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function Px(n,e,...t){if(n=ln(n),Ax("collection","path",e),n instanceof pa){let r=Qe.fromString(e,...t);return hP(r),new Ii(n,null,r)}{if(!(n instanceof hn||n instanceof Ii))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return hP(r),new Ii(n.firestore,null,r)}}function xx(n,e,...t){if(n=ln(n),arguments.length===1&&(e=Cf.newId()),Ax("doc","path",e),n instanceof pa){let r=Qe.fromString(e,...t);return dP(r),new hn(n,null,new ne(r))}{if(!(n instanceof hn||n instanceof Ii))throw new J(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return dP(r),new hn(n.firestore,n instanceof Ii?n.converter:null,new ne(r))}}var pP="AsyncQueue",Kf=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new $f(this,"async_queue_retry"),this.ec=()=>{let r=p0();r&&W(pP,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=p0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=p0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new wi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return M(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ma(e))throw e;W(pP,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Hr("INTERNAL UNHANDLED ERROR: ",gP(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=RE.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&se(47125,{_c:gP(this.Ju)})}verifyOperationInProgress(){}ac(){return M(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function gP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function mP(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Du=class extends pa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Kf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Kf(e),this._firestoreClient=void 0,yield e}})}};function Nx(n,e){let t=typeof n=="object"?n:Hs(),r=typeof n=="string"?n:e||Mf,i=Yh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=wM("firestore");o&&Rx(i,...o)}return i}function rq(n){if(n._terminated)throw new J(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iq(n),n._firestoreClient}function iq(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new C0(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Sx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new $E(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Su=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Ft.fromBase64String(e))}catch(t){throw new J(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Qf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new J(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yf=class{constructor(e){this._methodName=e}};var Au=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new J(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new J(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Mu=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var oq=/^__.*__$/;function Ox(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{hc:n})}}var HE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return qE(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Ox(this.hc)&&oq.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},zE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}gc(e,t,r,i=!1){return new HE({hc:e,methodName:t,fc:r,path:wn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sq(n){let e=n._freezeSettings(),t=ap(n._databaseId);return new zE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aq(n,e,t,r=!1){return gw(t,n.gc(r?4:3,e))}function gw(n,e){if(kx(n=ln(n)))return uq("Unsupported field value:",e,n),cq(n,e);if(n instanceof Yf)return function(r,i){if(!Ox(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=gw(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=kt.fromDate(r);return{timestampValue:G0(i.serializer,o)}}if(r instanceof kt){let o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:G0(i.serializer,o)}}if(r instanceof Au)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Su)return{bytesValue:sx(i.serializer,r._byteString)};if(r instanceof hn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ax(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mu)return function(s,a){return{mapValue:{fields:{[ew]:{stringValue:tw},[ra]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return sw(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${up(r)}`)}(n,e)}function cq(n,e){let t={};return kP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ya(n,(r,i)=>{let o=gw(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function kx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof Au||n instanceof Su||n instanceof hn||n instanceof Yf||n instanceof Mu)}function uq(n,e,t){if(!kx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=up(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}var lq=new RegExp("[~\\*/\\[\\]]");function dq(n,e,t){if(e.search(lq)>=0)throw qE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qf(...e.split("."))._internalPath}catch{throw qE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qE(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new J(L.INVALID_ARGUMENT,a+n+c)}var Jf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new WE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},WE=class extends Jf{data(){return super.data()}};function mw(n,e){return typeof e=="string"?dq(n,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}function hq(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new J(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ru=class{},Zf=class extends Ru{};function Fx(n,e,...t){let r=[];e instanceof Ru&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof GE).length,a=o.filter(c=>c instanceof Xf).length;if(s>1||s>0&&a>0)throw new J(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Xf=class n extends Zf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ux(e._query,t),new Mo(e.firestore,e.converter,V0(e._query,t))}_parse(e){let t=sq(e.firestore);return function(o,s,a,c,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new J(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vP(p,h);let _=[];for(let T of p)_.push(yP(c,o,T));m={arrayValue:{values:_}}}else m=yP(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vP(p,h),m=aq(a,s,p,h==="in"||h==="not-in");return lt.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function Lx(n,e,t){let r=e,i=mw("where",n);return Xf._create(i,r,t)}var GE=class n extends Ru{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)Ux(s,c),s=V0(s,c)}(e._query,t),new Mo(e.firestore,e.converter,V0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var KE=class n extends Zf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Mo(e.firestore,e.converter,xf(e._query,this._limit,this._limitType))}};function Vx(n){return nq("limit",n),KE._create("limit",n,"F")}function yP(n,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new J(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KP(e)&&t.indexOf("/")!==-1)throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Qe.fromString(t));if(!ne.isDocumentKey(r))throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return OR(n,new ne(r))}if(t instanceof hn)return OR(n,t._key);throw new J(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(t)}.`)}function vP(n,e){if(!Array.isArray(n)||n.length===0)throw new J(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ux(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var QE=class{convertValue(e,t="none"){switch(bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ya(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ra].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>We(s.doubleValue));return new Mu(o)}convertGeoPoint(e){return new Au(We(e.latitude),We(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mu(e));default:return null}}convertTimestamp(e){let t=zr(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);Ye(fx(r),9688,{name:e});let i=new Rf(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(t)||Hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Co=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ep=class extends Jf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ea(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ea=class extends ep{data(e={}){return super.data(e)}},YE=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Co(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ea(this._firestore,this._userDataWriter,r.key,r,new Co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new J(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new ea(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new ea(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Co(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:fq(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function fq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}var tp=class extends QE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Su(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}};function yw(n,...e){var t,r,i;n=ln(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mP(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof hn)l=If(n.firestore,Du),h=ow(n._key.path),c={next:p=>{e[s]&&e[s](pq(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=If(n,Mo);l=If(p.firestore,Du),h=p._query;let m=new tp(l);c={next:g=>{e[s]&&e[s](new YE(l,m,p,g))},error:e[s+1],complete:e[s+2]},hq(n._query)}return function(m,g,_,T){let A=new BE(T),O=new OE(g,A,_);return m.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return Uz(yield uP(m),O)})),()=>{A.Cu(),m.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return jz(yield uP(m),O)}))}}(rq(l),h,a,c)}function pq(n,e,t){let r=t.docs.get(e._key),i=new tp(n);return new ep(n,i,e._key,r,new Co(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ga=i})($s),Ln(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Du(new v0(r.getProvider("auth-internal")),new w0(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new J(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ot(TR,CR,e),ot(TR,CR,"esm2017")})();var lp=function(){return lp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lp.apply(this,arguments)};var yq={includeMetadataChanges:!1};function vw(n,e){return e===void 0&&(e=yq),new de(function(t){var r=yw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function jx(n){return vw(n,{includeMetadataChanges:!0})}function Bx(n,e){return e===void 0&&(e={}),jx(n).pipe(ie(function(t){return _w(t,e)}))}function _w(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:lp(lp({},r),(t={},t[e.idField]=n.id,t))}function $x(n){return vw(n,{includeMetadataChanges:!0}).pipe(ie(function(e){return e.docs}))}function Hx(n,e){return e===void 0&&(e={}),$x(n).pipe(ie(function(t){return t.map(function(r){return _w(r,e)})}))}var Bn=class{constructor(e){return e}},zx="firestore",Ew=class{constructor(){return qs(zx)}};var ww=new G("angularfire2.firestore-instances");function vq(n,e){let t=Xh(zx,n,e);return t&&new Bn(t)}function _q(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Bn(r)}}var Eq={provide:Ew,deps:[[new Jn,ww]]},wq={provide:Bn,useFactory:vq,deps:[[new Jn,ww],vo]};function qx(n,...e){return ot("angularfire",mo.full,"fst"),ui([wq,Eq,{provide:ww,useFactory:_q(n),multi:!0,deps:[xe,Kt,yo,eu,[new Jn,pf],[new Jn,tf],...e]}])}var _a=dn(Hx,!0);var dp=dn(Bx,!0);var Ea=dn(Px,!0,2);var hp=dn(xx,!0,2);var Wx=dn(Nx,!0);var Iw=dn(Vx,!0,2);var Nu=dn(Fx,!0,2);var bw=dn(Lx,!0,2);var Di=class n{constructor(e){this.firestore=e}coursesCollectionPath="courses";getAllCourses(){let e=Ea(this.firestore,this.coursesCollectionPath);return _a(e,{idField:"id"})}getFeaturedCourses(e=2){let t=Ea(this.firestore,this.coursesCollectionPath),r=Nu(t,bw("isFeatured","==",!0),Iw(e));return _a(r,{idField:"id"})}getCourseById(e){let t=hp(this.firestore,`${this.coursesCollectionPath}/${e}`);return dp(t,{idField:"id"})}getCourseBySlug(e){let t=Ea(this.firestore,this.coursesCollectionPath),r=Nu(t,bw("slug","==",e),Iw(1));return _a(r,{idField:"id"}).pipe(ie(i=>i.length>0?i[0]:void 0),gt(1))}static \u0275fac=function(t){return new(t||n)(z(Bn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var fp=class n{constructor(e){this.firestore=e}certificatesCollectionPath="certificates";getCertificates(){let e=Ea(this.firestore,this.certificatesCollectionPath);return _a(Nu(e),{idField:"id"})}static \u0275fac=function(t){return new(t||n)(z(Bn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var pp=class n{constructor(e){this.firestore=e}contentDocPath="homePageContent/main";getHomePageContent(){let e=hp(this.firestore,this.contentDocPath);return dp(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)(z(Bn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function Tq(n,e){if(n&1&&(P(0,"div",24)(1,"h3"),Y(2),x(),P(3,"p"),Y(4),x()()),n&2){let t=e.$implicit;V(2),it(t.title),V(2),it(t.text)}}function Cq(n,e){if(n&1&&(P(0,"section",21)(1,"div",13)(2,"div",22),Ee(3,Tq,5,2,"div",23),x()()()),n&2){let t=Ce().ngIf;V(3),q("ngForOf",t.infoBlocks)}}function Dq(n,e){if(n&1&&_e(0,"app-course-card",27),n&2){let t=e.$implicit;q("course",t)}}function Sq(n,e){if(n&1&&(P(0,"div",25),Ee(1,Dq,1,1,"app-course-card",26),pt(2,"async"),x()),n&2){let t=Ce(2);V(),q("ngForOf",yt(2,1,t.featuredCourses$))}}function Aq(n,e){n&1&&(P(0,"p"),Y(1,"\u041D\u0430\u0440\u0430\u0437\u0456 \u043D\u0435\u043C\u0430\u0454 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0417\u0430\u0432\u0456\u0442\u0430\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),x())}function Mq(n,e){n&1&&(P(0,"div",28)(1,"a",29),Y(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0412\u0441\u0456 \u041A\u0443\u0440\u0441\u0438"),x()())}function Rq(n,e){if(n&1&&(P(0,"div",35),_e(1,"img",36),x()),n&2){let t=Ce(2).ngIf;V(),iv("alt",t.aboutUs.title),q("src",t.aboutUs.imageUrl,xn)}}function Pq(n,e){if(n&1&&(P(0,"section",30)(1,"div",13)(2,"h2",14),Y(3),x(),P(4,"div",31),Ee(5,Rq,2,2,"div",32),P(6,"div",33),_e(7,"div",34),pt(8,"replaceLineBreaks"),x()()()()),n&2){let t=Ce().ngIf;V(3),it(t.aboutUs.title),V(2),q("ngIf",t.aboutUs.imageUrl),V(2),q("innerHTML",yt(8,3,t.aboutUs.text),rn)}}function xq(n,e){if(n&1&&(P(0,"h4"),Y(1),x()),n&2){let t=Ce().$implicit;V(),it(t.specialization)}}function Nq(n,e){if(n&1&&(P(0,"div",40)(1,"div",41),_e(2,"img",42),x(),P(3,"div",43)(4,"h3"),Y(5),x(),Ee(6,xq,2,1,"h4",44),_e(7,"div",45),pt(8,"replaceLineBreaks"),x()()),n&2){let t=e.$implicit;V(2),q("src",t.imageUrl,xn)("alt",t.fullName),V(3),it(t.fullName),V(),q("ngIf",t.specialization),V(),q("innerHTML",yt(8,5,t.bio),rn)}}function Oq(n,e){if(n&1&&(P(0,"section",37)(1,"div",13)(2,"div",38),Ee(3,Nq,9,7,"div",39),x()()()),n&2){let t=Ce().ngIf;V(3),q("ngForOf",t.aboutUs.authors)}}function kq(n,e){if(n&1&&(P(0,"div",50),_e(1,"img",51),x()),n&2){let t=Ce().$implicit;V(),q("src",t.imageUrl,xn)("alt",t.caption)}}function Fq(n,e){if(n&1&&Ee(0,kq,2,2,"ng-template",49),n&2){let t=e.$implicit;q("id",t.imageUrl)}}function Lq(n,e){if(n&1&&(P(0,"div",46)(1,"owl-carousel-o",47),Ee(2,Fq,1,1,null,48),pt(3,"async"),x()()),n&2){let t=Ce(2);V(),q("options",t.certificateOptions),V(),q("ngForOf",yt(3,2,t.certificates$))}}function Vq(n,e){n&1&&(P(0,"div",28)(1,"p"),Y(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043B\u0430\u0439\u0434\u0435\u0440\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0456\u0432..."),x()())}function Uq(n,e){if(n&1){let t=Nn();P(0,"div",3)(1,"section",4),_e(2,"div",5),P(3,"div",6)(4,"h1"),Y(5),x(),P(6,"p",7),Y(7),x(),P(8,"div",8)(9,"a",9),Y(10),x(),P(11,"button",10),qe("click",function(){let i=jt(t).ngIf,o=Ce();return Bt(o.navigateTo(i.heroSection.telegramLink))}),Y(12),x()()()(),Ee(13,Cq,4,1,"section",11),P(14,"section",12)(15,"div",13)(16,"h2",14),Y(17,"\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0456 \u041A\u0443\u0440\u0441\u0438"),x(),Ee(18,Sq,3,3,"div",15),pt(19,"async"),Ee(20,Aq,2,0,"ng-template",null,1,Xi)(22,Mq,3,0,"div",16),pt(23,"async"),x()(),Ee(24,Pq,9,5,"section",17)(25,Oq,4,1,"section",18),P(26,"section",19)(27,"div",13)(28,"h2",14),Y(29,"\u041D\u0430\u0448\u0456 \u0421\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0438 \u0442\u0430 \u0414\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"),x(),Ee(30,Lq,4,4,"div",20)(31,Vq,3,0,"div",16),x()()()}if(n&2){let t,r,i=e.ngIf,o=Ji(21),s=Ce();V(),pc("background-image","url("+i.heroSection.backgroundImageUrl+")"),V(4),it(i.heroSection.title),V(2),it(i.heroSection.subtitle),V(3),it(i.heroSection.coursesButtonText),V(2),it(i.heroSection.telegramButtonText),V(),q("ngIf",i.infoBlocks&&i.infoBlocks.length>0),V(5),q("ngIf",(t=yt(19,14,s.featuredCourses$))==null?null:t.length)("ngIfElse",o),V(4),q("ngIf",(r=yt(23,16,s.featuredCourses$))==null?null:r.length),V(2),q("ngIf",i.aboutUs),V(),q("ngIf",i.aboutUs.authors.length),V(5),q("ngIf",s.isBrowser),V(),q("ngIf",!s.isBrowser)}}function jq(n,e){n&1&&(P(0,"div",52)(1,"p"),Y(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0433\u043E\u043B\u043E\u0432\u043D\u043E\u0457 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438..."),x()())}var gp=class n{constructor(e,t,r,i){this.courseService=e;this.certificateService=t;this.homePageService=r;this.platformId=i;this.isBrowser=kr(this.platformId),this.homePageContent$=this.homePageService.getHomePageContent(),this.certificates$=this.certificateService.getCertificates(),this.featuredCourses$=this.courseService.getFeaturedCourses(3),this.homePageContent$.subscribe(o=>{console.log(o)})}homePageContent$;isBrowser;certificateOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,margin:20,responsive:{0:{items:1},768:{items:2},1024:{items:3}}};featuredCourses$;certificates$;navigateTo(e){this.isBrowser&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(Q(Di),Q(fp),Q(pp),Q($t))};static \u0275cmp=ft({type:n,selectors:[["app-home"]],decls:4,vars:4,consts:[["loadingHome",""],["noCourses",""],["class","home-page",4,"ngIf","ngIfElse"],[1,"home-page"],[1,"hero-section-v2"],[1,"hero-overlay"],[1,"container","hero-content-v2"],[1,"subtitle"],[1,"hero-buttons"],["routerLink","/courses",1,"btn","btn-primary","btn-lg"],[1,"btn","btn-outline-light","btn-lg",3,"click"],["class","info-blocks-section section-padding",4,"ngIf"],[1,"featured-courses-section","section-padding"],[1,"container"],[1,"section-title"],["class","courses-grid",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["class","about-us-section-v2 section-padding",4,"ngIf"],["class","authors-section section-padding",4,"ngIf"],[1,"certificates-section","section-padding"],["class","certificates-carousel-wrapper",4,"ngIf"],[1,"info-blocks-section","section-padding"],[1,"info-blocks-grid"],["class","info-block-item",4,"ngFor","ngForOf"],[1,"info-block-item"],[1,"courses-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"],["routerLink","/courses",1,"btn","btn-secondary"],[1,"about-us-section-v2","section-padding"],[1,"about-us-content-layout"],["class","about-us-image-container",4,"ngIf"],[1,"about-us-text-container"],[1,"section-intro",3,"innerHTML"],[1,"about-us-image-container"],[1,"about-us-image",3,"src","alt"],[1,"authors-section","section-padding"],[1,"authors-grid-v2"],["class","author-card-v2",4,"ngFor","ngForOf"],[1,"author-card-v2"],[1,"author-image-container"],[1,"author-image",3,"src","alt"],[1,"author-info-container"],[4,"ngIf"],[3,"innerHTML"],[1,"certificates-carousel-wrapper"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"certificate-slide-item-owl"],[1,"certificate-image-owl",3,"src","alt"],[1,"container","text-center",2,"padding","100px 0"]],template:function(t,r){if(t&1&&(Ee(0,Uq,32,18,"div",2),pt(1,"async"),Ee(2,jq,3,0,"ng-template",null,0,Xi)),t&2){let i=Ji(3);q("ngIf",yt(1,2,r.homePageContent$))("ngIfElse",i)}},dependencies:[Nt,fi,Or,to,yn,Vs,gM,pM,f_,js],styles:[".home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:40px 0}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:60px 0}}.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;font-size:2em;margin-bottom:30px;color:var(--accent-color-1)}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:40px}}.home-page[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:800px;margin-left:auto;margin-right:auto;line-height:1.7}.home-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.hero-section-v2[_ngcontent-%COMP%]{position:relative;min-height:70vh;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color);padding:40px var(--container-padding)}.hero-section-v2[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00285099}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:700px}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:15px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:30px;line-height:1.6}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}@media (min-width: 576px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:12px 25px;font-size:1em}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:var(--light-text-color);color:var(--light-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--primary-color)}.info-blocks-section[_ngcontent-%COMP%]{background-color:#f9f9f9}.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px}@media (min-width: 768px){.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]{text-align:center;padding:20px}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.4em;color:var(--accent-color-1);margin-bottom:10px}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95em;color:var(--text-color);line-height:1.6}.about-us-section-v2[_ngcontent-%COMP%]{background-color:var(--background-color)}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:25px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:30px}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:400px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{width:40%}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]   .about-us-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;display:block}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]{flex-grow:1}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:left;margin-left:0;margin-right:0;max-width:none}}.authors-section[_ngcontent-%COMP%]{background-color:#f0f8ff}.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 992px){.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center;background-color:var(--background-color);padding:25px;border-radius:var(--border-radius);box-shadow:0 4px 12px #00000014}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{flex-direction:row;text-align:left;align-items:flex-start}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]{flex-shrink:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid var(--primary-color)}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:30px}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7em;color:var(--accent-color-1);margin-bottom:5px;margin-top:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1em;color:var(--secondary-color);margin-bottom:15px;font-weight:600}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.7;color:var(--text-color)}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:15px;margin-bottom:30px}@media (min-width: 768px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]{padding:15px;background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 2px 8px #00000014;margin:5px;text-align:center}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-image-owl[_ngcontent-%COMP%]{width:100%;max-width:280px;height:auto;max-height:180px;object-fit:contain;border-radius:calc(var(--border-radius) - 5px);margin-bottom:10px;display:inline-block}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-caption-owl[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-color);min-height:2.5em;line-height:1.3}"]})};function Bq(n,e){if(n&1&&_e(0,"app-course-card",7),n&2){let t=e.$implicit;q("course",t)}}function $q(n,e){if(n&1&&(P(0,"div",5),Ee(1,Bq,1,1,"app-course-card",6),pt(2,"async"),x()),n&2){let t=Ce();V(),q("ngForOf",yt(2,1,t.allCourses$))}}function Hq(n,e){n&1&&(P(0,"p",8),Y(1,"\u041D\u0430 \u0434\u0430\u043D\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043D\u0435\u043C\u0430\u0454 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),x())}var mp=class n{constructor(e){this.courseService=e;this.allCourses$=this.courseService.getAllCourses()}allCourses$;ngOnInit(){}static \u0275fac=function(t){return new(t||n)(Q(Di))};static \u0275cmp=ft({type:n,selectors:[["app-courses"]],decls:9,vars:4,consts:[["noCourses",""],[1,"courses-page","container"],[1,"page-title"],[1,"page-intro"],["class","courses-list-grid",4,"ngIf","ngIfElse"],[1,"courses-list-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"]],template:function(t,r){if(t&1&&(P(0,"div",1)(1,"h1",2),Y(2,"\u041D\u0430\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),x(),P(3,"p",3),Y(4,"\u041E\u0437\u043D\u0430\u0439\u043E\u043C\u0442\u0435\u0441\u044F \u0437 \u043D\u0430\u0448\u0438\u043C \u0448\u0438\u0440\u043E\u043A\u0438\u043C \u0441\u043F\u0435\u043A\u0442\u0440\u043E\u043C \u043A\u0443\u0440\u0441\u0456\u0432, \u0440\u043E\u0437\u0440\u043E\u0431\u043B\u0435\u043D\u0438\u0445 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0440\u0438\u043C\u043A\u0438 \u0442\u0430 \u0440\u043E\u0437\u0448\u0438\u0440\u0435\u043D\u043D\u044F \u043C\u043E\u0436\u043B\u0438\u0432\u043E\u0441\u0442\u0435\u0439 \u043C\u0430\u0442\u0435\u0440\u0456\u0432 \u043D\u0430 \u043A\u043E\u0436\u043D\u043E\u043C\u0443 \u0435\u0442\u0430\u043F\u0456."),x(),Ee(5,$q,3,3,"div",4),pt(6,"async"),Ee(7,Hq,2,0,"ng-template",null,0,Xi),x()),t&2){let i,o=Ji(8);V(5),q("ngIf",(i=yt(6,2,r.allCourses$))==null?null:i.length)("ngIfElse",o)}},dependencies:[Nt,fi,Or,to,Vs],styles:[".courses-page[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px}.courses-page[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:15px;color:var(--accent-color-1)}.courses-page[_ngcontent-%COMP%]   .page-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:700px;margin-left:auto;margin-right:auto}.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:25px}@media (min-width: 768px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.courses-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})};var zq=["priceActionBar"];function qq(n,e){if(n&1&&(P(0,"p",25),Y(1),x()),n&2){let t=Ce().ngIf;V(),it(t.tagline)}}function Wq(n,e){if(n&1&&(P(0,"p",26),Y(1),x()),n&2){let t=Ce().ngIf;V(),nr("",t.countOfVideos," \u0432\u0456\u0434\u0435\u043E")}}function Gq(n,e){if(n&1&&(_e(0,"div",27),pt(1,"replaceLineBreaks")),n&2){let t=Ce().ngIf;q("innerHTML",yt(1,1,t.longDescription),rn)}}function Kq(n,e){if(n&1&&(P(0,"p",33),Y(1),x()),n&2){let t=Ce(2).ngIf;V(),it(t.additionalImage.caption)}}function Qq(n,e){if(n&1&&(P(0,"section",28)(1,"div",29),_e(2,"img",30),Ee(3,Kq,2,1,"p",31),x(),_e(4,"div",32),pt(5,"replaceLineBreaks"),x()),n&2){let t=Ce().ngIf;V(2),q("src",t.additionalImage.imageUrl,xn)("alt",t.additionalImage.caption||t.title),V(),q("ngIf",t.additionalImage.caption),V(),q("innerHTML",yt(5,4,t.additionalImage.descriptionText),rn)}}function Yq(n,e){if(n&1&&(P(0,"h3"),Y(1),x()),n&2){let t=Ce().$implicit;V(),it(t.title)}}function Jq(n,e){if(n&1&&(P(0,"div",36)(1,"div",37),_e(2,"img",38),x(),P(3,"div",39),Ee(4,Yq,2,1,"h3",40),_e(5,"p",17),pt(6,"replaceLineBreaks"),x()()),n&2){let t=e.$implicit;V(2),q("src",t.imageUrl,xn)("alt",t.title||"\u0414\u0435\u0442\u0430\u043B\u044C \u043A\u0443\u0440\u0441\u0443"),V(2),q("ngIf",t.title),V(),q("innerHTML",yt(6,4,t.text),rn)}}function Zq(n,e){if(n&1&&(P(0,"section",34)(1,"h2"),Y(2,"\u041A\u043E\u043C\u0443 \u043F\u0456\u0434\u0445\u043E\u0434\u0438\u0442\u044C \u0446\u0435\u0439 \u043A\u0443\u0440\u0441?"),x(),Ee(3,Jq,7,6,"div",35),x()),n&2){let t=Ce().ngIf;V(3),q("ngForOf",t.detailBlocks)}}function Xq(n,e){if(n&1&&(P(0,"div",41),_e(1,"div",17),pt(2,"replaceLineBreaks"),x()),n&2){let t=Ce().ngIf;V(),q("innerHTML",yt(2,1,t.targetAudience),rn)}}function e6(n,e){if(n&1&&(P(0,"li"),Y(1),x()),n&2){let t=e.$implicit;V(),it(t)}}function t6(n,e){if(n&1&&(P(0,"div",41)(1,"h3"),Y(2,"\u0417\u0430\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F \u0442\u0430 \u043F\u0440\u043E\u0442\u0438\u043F\u043E\u043A\u0430\u0437\u0430\u043D\u043D\u044F \u0434\u043E \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F \u0432\u043F\u0440\u0430\u0432:"),x(),P(3,"ul"),Ee(4,e6,2,1,"li",42),x()()),n&2){let t=Ce().ngIf;V(4),q("ngForOf",t.learningOutcomes)}}function n6(n,e){if(n&1){let t=Nn();P(0,"div",3)(1,"section",4),_e(2,"div",5),P(3,"div",6)(4,"h1"),Y(5),x(),Ee(6,qq,2,1,"p",7),x()(),P(7,"div",8)(8,"aside",9)(9,"div",10,1)(11,"div",11)(12,"span",12),Y(13),pt(14,"currency"),x()(),P(15,"button",13),qe("click",function(){let i=jt(t).ngIf,o=Ce();return Bt(o.buyCourse(i.id))}),Y(16,"\u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441"),x(),Ee(17,Wq,2,1,"p",14),x()(),P(18,"div",15)(19,"section",16)(20,"h2"),Y(21,"\u041F\u0440\u043E \u043A\u0443\u0440\u0441"),x(),_e(22,"div",17),pt(23,"replaceLineBreaks"),Ee(24,Gq,2,3,"div",18),x(),P(25,"section",19)(26,"p")(27,"strong"),Y(28,"\u0421\u0442\u0430\u0440\u0442 \u043E\u0434\u0440\u0430\u0437\u0443 \u043F\u0456\u0441\u043B\u044F \u043E\u043F\u043B\u0430\u0442\u0438"),x()()(),Ee(29,Qq,6,6,"section",20)(30,Zq,4,1,"section",21),P(31,"section",22),Ee(32,Xq,3,3,"div",23)(33,t6,5,1,"div",23),x()()(),_e(34,"div",24),x()}if(n&2){let t=e.ngIf;V(),pc("background-image","url("+t.imageUrl+")"),V(4),it(t.title),V(),q("ngIf",t.tagline),V(7),it(wS(14,12,t.price,"USD","symbol","1.2-2")),V(4),q("ngIf",t.countOfVideos),V(5),q("innerHTML",yt(23,17,t.description),rn),V(2),q("ngIf",t.longDescription),V(5),q("ngIf",t.additionalImage),V(),q("ngIf",t.detailBlocks&&t.detailBlocks.length>0),V(2),q("ngIf",t.targetAudience),V(),q("ngIf",t.learningOutcomes&&t.learningOutcomes.length>0)}}function r6(n,e){n&1&&(P(0,"div",43)(1,"p"),Y(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0434\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0443 \u0430\u0431\u043E \u043A\u0443\u0440\u0441 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E..."),x(),P(3,"a",44),Y(4,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u0434\u043E \u043A\u0443\u0440\u0441\u0456\u0432"),x()())}var yp=class n{constructor(e,t,r,i,o){this.route=e;this.router=t;this.courseService=r;this.platformId=i;this.renderer=o;this.isBrowser=kr(this.platformId),this.course$=this.route.paramMap.pipe(nt(s=>{let a=s.get("courseSlug");return a?this.courseService.getCourseBySlug(a):(this.isBrowser&&this.router.navigate(["/courses"]),ee(void 0))}),oe(s=>{!s&&this.isBrowser&&console.warn("Course not found by slug from observable, consider redirecting...")}))}course$;isBrowser;priceActionBarRef;ngAfterViewInit(){this.isBrowser&&(this.adjustBodyPadding(),window.addEventListener("resize",this.adjustBodyPadding))}ngOnDestroy(){this.isBrowser&&(this.renderer.setStyle(document.body,"paddingBottom","0px"),window.removeEventListener("resize",this.adjustBodyPadding))}adjustBodyPadding=()=>{if(this.priceActionBarRef&&this.priceActionBarRef.nativeElement){let e=this.priceActionBarRef.nativeElement.offsetHeight;window.innerWidth<992?this.renderer.setStyle(document.body,"paddingBottom",`${e}px`):this.renderer.setStyle(document.body,"paddingBottom","0px")}};buyCourse(e){this.course$.subscribe(t=>{t&&e&&(console.log("\u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441:",e,t.title),alert(`\u0412\u0438 \u043E\u0431\u0440\u0430\u043B\u0438 \u043A\u0443\u0440\u0441 "${t.title}". \u0424\u0443\u043D\u043A\u0446\u0456\u044F \u043A\u0443\u043F\u0456\u0432\u043B\u0456 \u0432 \u0440\u043E\u0437\u0440\u043E\u0431\u0446\u0456!`))}).unsubscribe()}static \u0275fac=function(t){return new(t||n)(Q(cn),Q(mn),Q(Di),Q($t),Q(tr))};static \u0275cmp=ft({type:n,selectors:[["app-course-detail"]],viewQuery:function(t,r){if(t&1&&gS(zq,5),t&2){let i;_s(i=Es())&&(r.priceActionBarRef=i.first)}},decls:4,vars:4,consts:[["loadingOrError",""],["priceActionBar",""],["class","course-detail-page",4,"ngIf","ngIfElse"],[1,"course-detail-page"],[1,"course-hero-section"],[1,"hero-overlay"],[1,"container","hero-content"],["class","tagline",4,"ngIf"],[1,"course-content-wrapper","container"],[1,"sidebar-content"],[1,"price-action-bar"],[1,"price"],[1,"current-price"],[1,"btn","btn-primary","btn-buy",3,"click"],["class","duration-info",4,"ngIf"],[1,"main-content"],[1,"course-section","description-section"],[3,"innerHTML"],["class","long-description",3,"innerHTML",4,"ngIf"],[1,"course-section","start-info-section"],["class","course-section additional-image-section",4,"ngIf"],["class","course-section detail-blocks-section",4,"ngIf"],[1,"course-section","text-blocks-section"],["class","text-block",4,"ngIf"],[1,"sticky-price-bar-placeholder","visible-mobile"],[1,"tagline"],[1,"duration-info"],[1,"long-description",3,"innerHTML"],[1,"course-section","additional-image-section"],[1,"additional-image-container"],[1,"additional-image",3,"src","alt"],["class","caption",4,"ngIf"],[1,"additional-image-description",3,"innerHTML"],[1,"caption"],[1,"course-section","detail-blocks-section"],["class","detail-block-item",4,"ngFor","ngForOf"],[1,"detail-block-item"],[1,"detail-block-image-container"],[1,"detail-block-image",3,"src","alt"],[1,"detail-block-text-container"],[4,"ngIf"],[1,"text-block"],[4,"ngFor","ngForOf"],[1,"container","text-center",2,"padding","50px 0"],["routerLink","/courses",1,"btn","btn-secondary"]],template:function(t,r){if(t&1&&(Ee(0,n6,35,19,"div",2),pt(1,"async"),Ee(2,r6,5,0,"ng-template",null,0,Xi)),t&2){let i=Ji(3);q("ngIf",yt(1,2,r.course$))("ngIfElse",i)}},dependencies:[Nt,fi,Or,to,Ev,yn,js],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #58bbe5;--primary-color-lighter-15: #bde0f1;--secondary-color: #ffaa00;--secondary-color-darker: #e69500;--secondary-text-color: #ffffff;--accent-color-1: #003366;--accent-color-1-lighter: #004080;--accent-text-color-1: #ffffff;--background-color: #ffffff;--text-color: #333333;--light-text-color: #ffffff;--container-padding: 15px;--border-radius: 8px}body[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:var(--background-color);color:var(--text-color);line-height:1.6}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0}a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 var(--container-padding)}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;cursor:pointer;transition:background-color .3s ease,color .3s ease;border:none;text-align:center}.btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker);color:var(--secondary-text-color);text-decoration:none}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter);color:var(--accent-text-color-1);text-decoration:none}.btn-outline-light[_ngcontent-%COMP%]{background-color:transparent;color:var(--light-text-color);border:2px solid var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--accent-color-1);text-decoration:none}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--light-text-color);text-decoration:none}@media (max-width: 767px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.visible-mobile[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block!important}}.card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-bottom:20px}@media (min-width: 992px){.course-detail-page[_ngcontent-%COMP%]{margin:0 auto;width:70%}}.course-hero-section[_ngcontent-%COMP%]{position:relative;height:50vh;min-height:280px;max-height:400px;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color)}.course-hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#001e3ca6}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:10px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.1em;font-weight:300;max-width:600px;margin:0 auto;text-shadow:1px 1px 2px rgba(0,0,0,.4)}.course-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding-bottom:10px;position:relative}@media (min-width: 992px){.course-content-wrapper[_ngcontent-%COMP%]{flex-direction:row;padding-top:30px;gap:30px}.course-content-wrapper[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2;min-width:0;order:1}.course-content-wrapper[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{flex:1;max-width:360px;min-width:0;order:2}}.sticky-price-bar-placeholder[_ngcontent-%COMP%]{height:120px;display:none}.price-action-bar[_ngcontent-%COMP%]{background-color:var(--background-color);padding:15px;text-align:center;width:100%;box-sizing:border-box;transition:box-shadow .3s ease-in-out,background-color .3s ease-in-out;z-index:990}@media (max-width: 991px){.price-action-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;border-radius:0;border-top:1px solid #eee;box-shadow:0 -2px 8px #0000001a;background-color:rgba(var(--rgb-background-color, 255, 255, 255),.97);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:999}}@media (min-width: 992px){.price-action-bar[_ngcontent-%COMP%]{position:sticky;top:calc(var(--header-height, 65px) + 20px);bottom:auto;border-radius:var(--border-radius);box-shadow:0 2px 10px #0000001a;padding:20px;background-color:var(--background-color);-webkit-backdrop-filter:none;backdrop-filter:none;border-top:none}}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--accent-color-1)}.price-action-bar[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1em;margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .duration-info[_ngcontent-%COMP%]{font-size:.85em;color:#555}.course-section[_ngcontent-%COMP%]{margin-bottom:30px}.course-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6em;color:var(--accent-color-1);margin-bottom:15px;padding-bottom:8px;border-bottom:2px solid var(--primary-color);display:inline-block}.course-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:1.7;color:var(--text-color);font-size:.95em}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;padding-left:20px}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:7px}.start-info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05em;color:var(--accent-color-1);background-color:var(--primary-color-lighter-15);padding:12px;border-radius:var(--border-radius);text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .additional-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 10px #00000014}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.85em;color:#777;margin-top:8px;font-style:italic}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:25px;padding:15px;background-color:#f9f9f9;border-radius:var(--border-radius)}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{flex-shrink:0}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]   img.detail-block-image[_ngcontent-%COMP%]{width:100%;max-width:180px;height:auto;border-radius:var(--border-radius);display:block;margin:0 auto}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{width:180px;margin:0 15px 0 0}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]{color:var(--text-color);flex-grow:1}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:var(--accent-color-1);margin-top:0;margin-bottom:8px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{margin-bottom:25px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;color:var(--accent-color-1);margin-bottom:12px}.loadingOrError[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.loadingOrError[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-top:20px}@media (min-width: 768px){.course-hero-section[_ngcontent-%COMP%]{height:50vh}.course-hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8em}.course-hero-section[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.3em}.additional-image-section[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:flex-start}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{flex-basis:40%;flex-shrink:0;margin-bottom:0;text-align:left}.additional-image-section[_ngcontent-%COMP%]   .additional-image-description[_ngcontent-%COMP%]{flex-basis:60%}}@media (min-width: 992px){.course-hero-section[_ngcontent-%COMP%]{height:45vh;min-height:380px;max-height:500px}}']})};var Gx=[{path:"",component:gp,pathMatch:"full"},{path:"courses",component:mp},{path:"course/:courseSlug",component:yp},{path:"**",redirectTo:""}];function Kx(n){return new N(3e3,!1)}function i6(){return new N(3100,!1)}function o6(){return new N(3101,!1)}function s6(n){return new N(3001,!1)}function a6(n){return new N(3003,!1)}function c6(n){return new N(3004,!1)}function Yx(n,e){return new N(3005,!1)}function Jx(){return new N(3006,!1)}function Zx(){return new N(3007,!1)}function Xx(n,e){return new N(3008,!1)}function eN(n){return new N(3002,!1)}function tN(n,e,t,r,i){return new N(3010,!1)}function nN(){return new N(3011,!1)}function rN(){return new N(3012,!1)}function iN(){return new N(3200,!1)}function oN(){return new N(3202,!1)}function sN(){return new N(3013,!1)}function aN(n){return new N(3014,!1)}function cN(n){return new N(3015,!1)}function uN(n){return new N(3016,!1)}function lN(n,e){return new N(3404,!1)}function u6(n){return new N(3502,!1)}function dN(n){return new N(3503,!1)}function hN(){return new N(3300,!1)}function fN(n){return new N(3504,!1)}function pN(n){return new N(3301,!1)}function gN(n,e){return new N(3302,!1)}function mN(n){return new N(3303,!1)}function yN(n,e){return new N(3400,!1)}function vN(n){return new N(3401,!1)}function _N(n){return new N(3402,!1)}function EN(n,e){return new N(3505,!1)}function Gr(n){switch(n.length){case 0:return new ar;case 1:return n[0];default:return new uo(n)}}function Mw(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==s,p=h&&a||new Map;c.forEach((m,g)=>{let _=g,T=m;if(g!=="offset")switch(_=n.normalizePropertyName(_,i),T){case Us:T=t.get(g);break;case vn:T=r.get(g);break;default:T=n.normalizeStyleValue(g,_,T,i);break}p.set(_,T)}),h||o.push(p),a=p,s=l}),i.length)throw u6(i);return o}function vp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Dw(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Dw(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Dw(t,"destroy",n)));break}}function Dw(n,e,t){let r=t.totalTime,i=!!t.disabled,o=_p(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function _p(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Yt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Rw(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var l6=typeof document>"u"?null:document.documentElement;function Ep(n){let e=n.parentNode||n.host||null;return e===l6?null:e}function d6(n){return n.substring(1,6)=="ebkit"}var Ro=null,Qx=!1;function wN(n){Ro||(Ro=h6()||{},Qx=Ro.style?"WebkitAppearance"in Ro.style:!1);let e=!0;return Ro.style&&!d6(n)&&(e=n in Ro.style,!e&&Qx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ro.style)),e}function h6(){return typeof document<"u"?document.body:null}function Pw(n,e){for(;e;){if(e===n)return!0;e=Ep(e)}return!1}function xw(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var f6=1e3,Nw="{{",p6="}}",Ow="ng-enter",wp="ng-leave",Ou="ng-trigger",ku=".ng-trigger",kw="ng-animating",Ip=".ng-animating";function fr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Sw(parseFloat(e[1]),e[2])}function Sw(n,e){switch(e){case"s":return n*f6;default:return n}}function Fu(n,e,t){return n.hasOwnProperty("duration")?n:g6(n,e,t)}function g6(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(Kx(n)),{duration:0,delay:0,easing:""};i=Sw(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=Sw(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(i6()),a=!0),o<0&&(e.push(o6()),a=!0),a&&e.splice(c,0,Kx(n))}return{duration:i,delay:o,easing:s}}function IN(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function $n(n,e,t){e.forEach((r,i)=>{let o=bp(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Si(n,e){e.forEach((t,r)=>{let i=bp(r);n.style[i]=""})}function wa(n){return Array.isArray(n)?n.length==1?n[0]:oM(n):n}function bN(n,e,t){let r=e.params||{},i=Fw(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(s6(o))})}var Aw=new RegExp(`${Nw}\\s*(.+?)\\s*${p6}`,"g");function Fw(n){let e=[];if(typeof n=="string"){let t;for(;t=Aw.exec(n);)e.push(t[1]);Aw.lastIndex=0}return e}function Ia(n,e,t){let r=`${n}`,i=r.replace(Aw,(o,s)=>{let a=e[s];return a==null&&(t.push(a6(s)),a=""),a.toString()});return i==r?n:i}var m6=/-+([a-z0-9])/g;function bp(n){return n.replace(m6,(...e)=>e[1].toUpperCase())}function TN(n,e){return n===0||e===0}function CN(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Tp(n,a)))}}return e}function Jt(n,e,t){switch(e.type){case ae.Trigger:return n.visitTrigger(e,t);case ae.State:return n.visitState(e,t);case ae.Transition:return n.visitTransition(e,t);case ae.Sequence:return n.visitSequence(e,t);case ae.Group:return n.visitGroup(e,t);case ae.Animate:return n.visitAnimate(e,t);case ae.Keyframes:return n.visitKeyframes(e,t);case ae.Style:return n.visitStyle(e,t);case ae.Reference:return n.visitReference(e,t);case ae.AnimateChild:return n.visitAnimateChild(e,t);case ae.AnimateRef:return n.visitAnimateRef(e,t);case ae.Query:return n.visitQuery(e,t);case ae.Stagger:return n.visitStagger(e,t);default:throw c6(e.type)}}function Tp(n,e){return window.getComputedStyle(n)[e]}var Xw=(()=>{class n{validateStyleProperty(t){return wN(t)}containsElement(t,r){return Pw(t,r)}getParentElement(t){return Ep(t)}query(t,r,i){return xw(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new ar(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),xo=class{static NOOP=new Xw},No=class{};var y6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Mp=class extends No{normalizePropertyName(e,t){return bp(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(y6.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Yx(e,r))}return s+o}};var Rp="*";function v6(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>_6(r,t,e)):t.push(n),t}function _6(n,e,t){if(n[0]==":"){let c=E6(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push(cN(n)),e;let i=r[1],o=r[2],s=r[3];e.push(DN(i,s));let a=i==Rp&&s==Rp;o[0]=="<"&&!a&&e.push(DN(s,i))}function E6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(uN(n)),"* => *"}}var Cp=new Set(["true","1"]),Dp=new Set(["false","0"]);function DN(n,e){let t=Cp.has(n)||Dp.has(n),r=Cp.has(e)||Dp.has(e);return(i,o)=>{let s=n==Rp||n==i,a=e==Rp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Cp.has(n):Dp.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Cp.has(e):Dp.has(e)),s&&a}}var FN=":self",w6=new RegExp(`s*${FN}s*,?`,"g");function LN(n,e,t,r){return new $w(n).build(e,t,r)}var SN="",$w=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new Hw(t);return this._resetContextStyleTimingState(i),Jt(this,wa(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=SN,e.collectedStyles=new Map,e.collectedStyles.set(SN,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Jx()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ae.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ae.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(Zx())}),{type:ae.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Fw(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(Xx(e.name,[...o.values()]))}return{type:ae.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Jt(this,wa(e.animation),t),i=v6(e.expr,t.errors);return{type:ae.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Po(e.options)}}visitSequence(e,t){return{type:ae.Sequence,steps:e.steps.map(r=>Jt(this,r,t)),options:Po(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Jt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ae.Group,steps:o,options:Po(e.options)}}visitAnimate(e,t){let r=C6(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:lo({});if(o.type==ae.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=lo(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ae.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===vn?r.push(a):t.errors.push(eN(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(Nw)>=0){o=!0;break}}}),{type:ae.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(tN(c,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&l.set(c,{startTime:o,endTime:i}),t.options&&bN(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ae.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(nN()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,h=e.steps.map(O=>{let $=this._makeStyleAst(O,t),H=$.offset!=null?$.offset:T6($.styles),te=0;return H!=null&&(o++,te=$.offset=H),c=c||te<0||te>1,a=a||te<l,l=te,s.push(te),$});c&&t.errors.push(rN()),a&&t.errors.push(iN());let p=e.steps.length,m=0;o>0&&o<p?t.errors.push(oN()):o==0&&(m=i/(p-1));let g=p-1,_=t.currentTime,T=t.currentAnimateTimings,A=T.duration;return h.forEach((O,$)=>{let H=m>0?$==g?1:m*$:s[$],te=H*A;t.currentTime=_+T.delay+te,T.duration=te,this._validateStyleAst(O,t),O.offset=H,r.styles.push(O)}),r}visitReference(e,t){return{type:ae.Reference,animation:Jt(this,wa(e.animation),t),options:Po(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ae.AnimateChild,options:Po(e.options)}}visitAnimateRef(e,t){return{type:ae.AnimateRef,animation:this.visitReference(e.animation,t),options:Po(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=I6(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Yt(t.collectedStyles,t.currentQuerySelector,new Map);let a=Jt(this,wa(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ae.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Po(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(sN());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Fu(e.timings,t.errors,!0);return{type:ae.Stagger,animation:Jt(this,wa(e.animation),t),timings:r,options:null}}};function I6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==FN);return e&&(n=n.replace(w6,"")),n=n.replace(/@\*/g,ku).replace(/@\w+/g,t=>ku+"-"+t.slice(1)).replace(/:animating/g,Ip),[n,e]}function b6(n){return n?U({},n):null}var Hw=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function T6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function C6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Fu(n,e).duration;return Lw(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Lw(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Fu(t,e);return Lw(i.duration,i.delay,i.easing)}function Po(n){return n?(n=U({},n),n.params&&(n.params=b6(n.params))):n={},n}function Lw(n,e,t){return{duration:n,delay:e,easing:t}}function eI(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Vu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},D6=1,S6=":enter",A6=new RegExp(S6,"g"),M6=":leave",R6=new RegExp(M6,"g");function VN(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new zw().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var zw=class{buildKeyframes(e,t,r,i,o,s,a,c,l,h=[]){l=l||new Vu;let p=new qw(e,t,l,i,o,h,[]);p.options=c;let m=c.delay?fr(c.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([s],null,p.errors,c),Jt(this,r,p);let g=p.timelines.filter(_=>_.containsAnimation());if(g.length&&a.size){let _;for(let T=g.length-1;T>=0;T--){let A=g[T];if(A.element===t){_=A;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,c)}return g.length?g.map(_=>_.buildKeyframes()):[eI(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:fr(Ia(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?fr(r.duration):null,a=r.delay!=null?fr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Jt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ae.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Pp);let s=fr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Jt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?fr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Jt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?Ia(r,t.params,t.errors):r;return Fu(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ae.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?fr(i.delay):0;o&&(t.previousNode.type===ae.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Pp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,l);o&&p.delayNextStep(o),l===t.element&&(c=p.currentTimeline),Jt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;s=Math.max(s,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let p=h.currentTime;Jt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Pp={},qw=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Pp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new xp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=fr(r.duration)),r.delay!=null&&(i.delay=fr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Ia(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Pp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new Ww(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(A6,"."+this._enterClassName),e=e.replace(R6,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(aN(t)),a}},xp=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=D6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||vn),this._currentKeyframe.set(t,vn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=P6(e,this._globalTimelineStyles);for(let[a,c]of s){let l=Ia(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,p)=>{h===Us?e.add(p):h===vn&&t.add(p)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return eI(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Ww=class extends xp{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",AN(a)),o.push(l);let h=e.length-1;for(let p=1;p<=h;p++){let m=new Map(e[p]),g=m.get("offset"),_=t+g*r;m.set("offset",AN(_/s)),o.push(m)}r=s,t=0,i="",e=o}return eI(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function AN(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function P6(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,vn)}else for(let[o,s]of i)t.set(o,s)}),t}function MN(n,e,t,r,i,o,s,a,c,l,h,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:p,errors:m}}var Vw={},Np=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return x6(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,h){let p=[],m=this.ast.options&&this.ast.options.params||Vw,g=a&&a.params||Vw,_=this.buildStyles(r,g,p),T=c&&c.params||Vw,A=this.buildStyles(i,T,p),O=new Set,$=new Map,H=new Map,te=i==="void",Fe={params:UN(T,m),delay:this.ast.options?.delay},le=h?[]:VN(e,t,this.ast.animation,o,s,_,A,Fe,l,p),I=0;return le.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),p.length?MN(t,this._triggerName,r,i,te,_,A,[],[],$,H,I,p):(le.forEach(v=>{let E=v.element,b=Yt($,E,new Set);v.preStyleProps.forEach(S=>b.add(S));let C=Yt(H,E,new Set);v.postStyleProps.forEach(S=>C.add(S)),E!==t&&O.add(E)}),MN(t,this._triggerName,r,i,te,_,A,le,[...O.values()],$,H,I))}};function x6(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function UN(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var Gw=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=UN(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Ia(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function N6(n,e,t){return new Kw(n,e,t)}var Kw=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Gw(i.style,o,r))}),RN(this.states,"true","1"),RN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Np(e,i,this.states))}),this.fallbackTransition=O6(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function O6(n,e,t){let r=[(s,a)=>!0],i={type:ae.Sequence,steps:[],options:null},o={type:ae.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Np(n,o,e)}function RN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var k6=new Vu,Qw=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=LN(this._driver,t,r,i);if(r.length)throw dN(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=Mw(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=VN(this._driver,t,o,Ow,wp,new Map,new Map,r,k6,i),s.forEach(h=>{let p=Yt(a,h.element,new Map);h.postStyleProps.forEach(m=>p.set(m,null))})):(i.push(hN()),s=[]),i.length)throw fN(i);a.forEach((h,p)=>{h.forEach((m,g)=>{h.set(g,this._driver.computeStyle(p,g,vn))})});let c=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),l=Gr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw pN(e);return t}listen(e,t,r,i){let o=_p(t,"","","");return vp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},PN="ng-animate-queued",F6=".ng-animate-queued",Uw="ng-animate-disabled",L6=".ng-animate-disabled",V6="ng-star-inserted",U6=".ng-star-inserted",j6=[],jN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn="__ng_removed",Uu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=H6(i),r){let o=e,{value:s}=o,a=ug(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},Lu="void",jw=new Uu(Lu),Yw=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,In(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw gN(r,t);if(r==null||r.length==0)throw mN(t);if(!z6(r))throw yN(r,t);let o=Yt(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Yt(this._engine.statesByElement,e,new Map);return a.has(t)||(In(e,Ou),In(e,Ou+"-"+t),a.set(t,jw)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw vN(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new ju(this.id,t,e),a=this._engine.statesByElement.get(e);a||(In(e,Ou),In(e,Ou+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Uu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=jw),!(l.value===Lu)&&c.value===l.value){if(!G6(c.params,l.params)){let T=[],A=o.matchStyles(c.value,c.params,T),O=o.matchStyles(l.value,l.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Si(e,A),$n(e,O)})}return}let m=Yt(this._engine.playersByElement,e,[]);m.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let g=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!g){if(!i)return;g=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(In(e,PN),s.onStart(()=>{ba(e,PN)})),s.onDone(()=>{let T=this.players.indexOf(s);T>=0&&this.players.splice(T,1);let A=this._engine.playersByElement.get(e);if(A){let O=A.indexOf(s);O>=0&&A.splice(O,1)}}),this.players.push(s),m.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,ku,!0);r.forEach(i=>{if(i[Hn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,Lu,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&Gr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||jw,h=new Uu(Lu),p=new ju(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Hn];(!o||o===jN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){In(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=_p(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,vp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Jw=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new Yw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(Sp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Sp(t))return;let o=t[Hn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),In(e,Uw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ba(e,Uw))}removeNode(e,t,r){if(Sp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Hn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return Sp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,ku,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Ip,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Hn];if(t&&t.setForRemoval){if(e[Hn]=jN,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Uw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,L6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];In(i,V6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw _N(e)}_flushAnimations(e,t){let r=new Vu,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(K=>{h.add(K);let Z=this.driver.query(K,F6,!0);for(let X=0;X<Z.length;X++)h.add(Z[X])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=ON(m,this.collectedEnterElements),_=new Map,T=0;g.forEach((K,Z)=>{let X=Ow+T++;_.set(Z,X),K.forEach(Ie=>In(Ie,X))});let A=[],O=new Set,$=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){let Z=this.collectedLeaveElements[K],X=Z[Hn];X&&X.setForRemoval&&(A.push(Z),O.add(Z),X.hasAnimation?this.driver.query(Z,U6,!0).forEach(Ie=>O.add(Ie)):$.add(Z))}let H=new Map,te=ON(m,Array.from(O));te.forEach((K,Z)=>{let X=wp+T++;H.set(Z,X),K.forEach(Ie=>In(Ie,X))}),e.push(()=>{g.forEach((K,Z)=>{let X=_.get(Z);K.forEach(Ie=>ba(Ie,X))}),te.forEach((K,Z)=>{let X=H.get(Z);K.forEach(Ie=>ba(Ie,X))}),A.forEach(K=>{this.processLeaveNode(K)})});let Fe=[],le=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(X=>{let Ie=X.player,tt=X.element;if(Fe.push(Ie),this.collectedEnterElements.length){let Ze=tt[Hn];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(X.triggerName)){let pr=Ze.previousTriggersValues.get(X.triggerName),zt=this.statesByElement.get(X.element);if(zt&&zt.has(X.triggerName)){let gr=zt.get(X.triggerName);gr.value=pr,zt.set(X.triggerName,gr)}}Ie.destroy();return}}let pn=!p||!this.driver.containsElement(p,tt),Je=H.get(tt),je=_.get(tt),Be=this._buildInstruction(X,r,je,Je,pn);if(Be.errors&&Be.errors.length){le.push(Be);return}if(pn){Ie.onStart(()=>Si(tt,Be.fromStyles)),Ie.onDestroy(()=>$n(tt,Be.toStyles)),i.push(Ie);return}if(X.isFallbackTransition){Ie.onStart(()=>Si(tt,Be.fromStyles)),Ie.onDestroy(()=>$n(tt,Be.toStyles)),i.push(Ie);return}let Qr=[];Be.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=!0,this.disabledNodes.has(Ze.element)||Qr.push(Ze)}),Be.timelines=Qr,r.append(tt,Be.timelines);let Vp={instruction:Be,player:Ie,element:tt};s.push(Vp),Be.queriedElements.forEach(Ze=>Yt(a,Ze,[]).push(Ie)),Be.preStyleProps.forEach((Ze,pr)=>{if(Ze.size){let zt=c.get(pr);zt||c.set(pr,zt=new Set),Ze.forEach((gr,Yr)=>zt.add(Yr))}}),Be.postStyleProps.forEach((Ze,pr)=>{let zt=l.get(pr);zt||l.set(pr,zt=new Set),Ze.forEach((gr,Yr)=>zt.add(Yr))})});if(le.length){let K=[];le.forEach(Z=>{K.push(EN(Z.triggerName,Z.errors))}),Fe.forEach(Z=>Z.destroy()),this.reportError(K)}let I=new Map,v=new Map;s.forEach(K=>{let Z=K.element;r.has(Z)&&(v.set(Z,Z),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,I))}),i.forEach(K=>{let Z=K.element;this._getPreviousPlayers(Z,!1,K.namespaceId,K.triggerName,null).forEach(Ie=>{Yt(I,Z,[]).push(Ie),Ie.destroy()})});let E=A.filter(K=>kN(K,c,l)),b=new Map;NN(b,this.driver,$,l,vn).forEach(K=>{kN(K,c,l)&&E.push(K)});let S=new Map;g.forEach((K,Z)=>{NN(S,this.driver,new Set(K),c,Us)}),E.forEach(K=>{let Z=b.get(K),X=S.get(K);b.set(K,new Map([...Z?.entries()??[],...X?.entries()??[]]))});let w=[],fn=[],Kr={};s.forEach(K=>{let{element:Z,player:X,instruction:Ie}=K;if(r.has(Z)){if(h.has(Z)){X.onDestroy(()=>$n(Z,Ie.toStyles)),X.disabled=!0,X.overrideTotalTime(Ie.totalTime),i.push(X);return}let tt=Kr;if(v.size>1){let Je=Z,je=[];for(;Je=Je.parentNode;){let Be=v.get(Je);if(Be){tt=Be;break}je.push(Je)}je.forEach(Be=>v.set(Be,tt))}let pn=this._buildAnimation(X.namespaceId,Ie,I,o,S,b);if(X.setRealPlayer(pn),tt===Kr)w.push(X);else{let Je=this.playersByElement.get(tt);Je&&Je.length&&(X.parentPlayer=Gr(Je)),i.push(X)}}else Si(Z,Ie.fromStyles),X.onDestroy(()=>$n(Z,Ie.toStyles)),fn.push(X),h.has(Z)&&i.push(X)}),fn.forEach(K=>{let Z=o.get(K.element);if(Z&&Z.length){let X=Gr(Z);K.setRealPlayer(X)}}),i.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<A.length;K++){let Z=A[K],X=Z[Hn];if(ba(Z,wp),X&&X.hasAnimation)continue;let Ie=[];if(a.size){let pn=a.get(Z);pn&&pn.length&&Ie.push(...pn);let Je=this.driver.query(Z,Ip,!0);for(let je=0;je<Je.length;je++){let Be=a.get(Je[je]);Be&&Be.length&&Ie.push(...Be)}}let tt=Ie.filter(pn=>!pn.destroyed);tt.length?q6(this,Z,tt):this.processLeaveNode(Z)}return A.length=0,w.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();let Z=this.players.indexOf(K);this.players.splice(Z,1)}),K.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==Lu;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,h=l!==o,p=Yt(r,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(g=>{let _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),p.push(g)})}Si(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],h=new Set,p=new Set,m=t.timelines.map(_=>{let T=_.element;h.add(T);let A=T[Hn];if(A&&A.removedBeforeQueried)return new ar(_.duration,_.delay);let O=T!==c,$=W6((r.get(T)||j6).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===T:!1}),H=o.get(T),te=s.get(T),Fe=Mw(this._normalizer,_.keyframes,H,te),le=this._buildPlayer(_,Fe,$);if(_.subTimeline&&i&&p.add(T),O){let I=new ju(e,a,T);I.setRealPlayer(le),l.push(I)}return le});l.forEach(_=>{Yt(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>$6(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>In(_,kw));let g=Gr(m);return g.onDestroy(()=>{h.forEach(_=>ba(_,kw)),$n(c,t.toStyles)}),p.forEach(_=>{Yt(i,_,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ar(e.duration,e.delay)}},ju=class{namespaceId;triggerName;element;_player=new ar;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>vp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function $6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function H6(n){return n??null}function Sp(n){return n&&n.nodeType===1}function z6(n){return n=="start"||n=="done"}function xN(n,e){let t=n.style.display;return n.style.display=e??"none",t}function NN(n,e,t,r,i){let o=[];t.forEach(c=>o.push(xN(c)));let s=[];r.forEach((c,l)=>{let h=new Map;c.forEach(p=>{let m=e.computeStyle(l,p,i);h.set(p,m),(!m||m.length==0)&&(l[Hn]=B6,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>xN(c,o[a++])),s}function ON(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function In(n,e){n.classList?.add(e)}function ba(n,e){n.classList?.remove(e)}function q6(n,e,t){Gr(t).onDone(()=>n.processLeaveNode(e))}function W6(n){let e=[];return BN(n,e),e}function BN(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof uo?BN(r.players,e):e.push(r)}}function G6(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function kN(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ta=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new Jw(e.body,t,r),this._timelineEngine=new Qw(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],h=LN(this._driver,o,c,l);if(c.length)throw lN(i,c);a=N6(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=Rw(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=Rw(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function K6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Bw(e[0]),e.length>1&&(r=Bw(e[e.length-1]))):e instanceof Map&&(t=Bw(e)),t||r?new Q6(n,t,r):null}var Q6=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($n(this._element,this._initialStyles),this._endStyles&&($n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Si(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Si(this._element,this._endStyles),this._endStyles=null),$n(this._element,this._initialStyles),this._state=3)}}return n})();function Bw(n){let e=null;return n.forEach((t,r)=>{Y6(r)&&(e=e||new Map,e.set(r,t))}),e}function Y6(n){return n==="display"||n==="position"}var Op=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Tp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},kp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Pw(e,t)}getParentElement(e){return Ep(e)}query(e,t,r){return xw(e,t,r)}computeStyle(e,t,r){return Tp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,h=s.filter(g=>g instanceof Op);TN(r,i)&&h.forEach(g=>{g.currentSnapshot.forEach((_,T)=>l.set(T,_))});let p=IN(t).map(g=>new Map(g));p=CN(e,p,l);let m=K6(e,p);return new Op(e,p,c,m)}};var Ap="@",$N="@.disabled",Fp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Ap&&t==$N?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Zw=class extends Fp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Ap?t.charAt(1)=="."&&t==$N?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Ap){let o=J6(e),s=t.slice(1),a="";return s.charAt(0)!=Ap&&([s,a]=Z6(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function J6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Z6(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Lp=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let p=()=>l.delete(i);h=new Fp(r,i,this.engine,p),l.set(i,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new Zw(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var e5=(()=>{class n extends Ta{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)(z(at),z(xo),z(No))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function t5(){return new Mp}function n5(n,e,t){return new Lp(n,e,t)}var HN=[{provide:No,useFactory:t5},{provide:Ta,useClass:e5},{provide:ci,useFactory:n5,deps:[Ic,Ta,xe]}],Roe=[{provide:xo,useClass:Xw},{provide:Ny,useValue:"NoopAnimations"},...HN],r5=[{provide:xo,useFactory:()=>new kp},{provide:Ny,useFactory:()=>"BrowserAnimations"},...HN];function zN(){return ys("NgEagerAnimations"),[...r5]}var qN={production:!0,firebase:{apiKey:"AIzaSyBwZ0wRhfkqG_4RFQ8Jik_3Xhg2kkU9Plc",authDomain:"mothers-courses-app-firebase.firebaseapp.com",projectId:"mothers-courses-app-firebase",storageBucket:"mothers-courses-app-firebase.firebasestorage.app",messagingSenderId:"661609967753",appId:"1:661609967753:web:2dfd8ee23bdd3f52841658",measurementId:"G-VBHGVQMGB4"}};Sv(Vh,{providers:[o_(Gx),Nv(Ov()),zN(),GM(()=>KM(qN.firebase)),qx(()=>Wx())]}).catch(n=>console.error(n));
