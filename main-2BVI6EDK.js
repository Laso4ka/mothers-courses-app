var eO=Object.defineProperty,tO=Object.defineProperties;var nO=Object.getOwnPropertyDescriptors;var el=Object.getOwnPropertySymbols;var GI=Object.prototype.hasOwnProperty,KI=Object.prototype.propertyIsEnumerable;var WI=(n,e,t)=>e in n?eO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})GI.call(e,t)&&WI(n,t,e[t]);if(el)for(var t of el(e))KI.call(e,t)&&WI(n,t,e[t]);return n},Pe=(n,e)=>tO(n,nO(e));var og=(n,e)=>{var t={};for(var r in n)GI.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&el)for(var r of el(n))e.indexOf(r)<0&&KI.call(n,r)&&(t[r]=n[r]);return t};var M=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(l){i(l)}},s=c=>{try{a(t.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});function QI(n,e){return Object.is(n,e)}var dt=null,tl=!1,ag=1,Oo=Symbol("SIGNAL");function ve(n){let e=dt;return dt=n,e}function cg(){return dt}var nl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ug(n){if(tl)throw new Error("");if(dt===null)return;dt.consumerOnSignalRead(n);let e=dt.nextProducerIndex++;if(il(dt),e<dt.producerNode.length&&dt.producerNode[e]!==n&&Fa(dt)){let t=dt.producerNode[e];rl(t,dt.producerIndexOfThis[e])}dt.producerNode[e]!==n&&(dt.producerNode[e]=n,dt.producerIndexOfThis[e]=Fa(dt)?eb(n,dt,e):0),dt.producerLastReadVersion[e]=n.version}function YI(){ag++}function JI(n){if(!(Fa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ag)){if(!n.producerMustRecompute(n)&&!hg(n)){sg(n);return}n.producerRecomputeValue(n),sg(n)}}function lg(n){if(n.liveConsumerNode===void 0)return;let e=tl;tl=!0;try{for(let t of n.liveConsumerNode)t.dirty||rO(t)}finally{tl=e}}function ZI(){return dt?.consumerAllowSignalWrites!==!1}function rO(n){n.dirty=!0,lg(n),n.consumerMarkedDirty?.(n)}function sg(n){n.dirty=!1,n.lastCleanEpoch=ag}function dg(n){return n&&(n.nextProducerIndex=0),ve(n)}function XI(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Fa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function hg(n){il(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(JI(t),r!==t.version))return!0}return!1}function fg(n){if(il(n),Fa(n))for(let e=0;e<n.producerNode.length;e++)rl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function eb(n,e,t){if(tb(n),n.liveConsumerNode.length===0&&nb(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=eb(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function rl(n,e){if(tb(n),n.liveConsumerNode.length===1&&nb(n))for(let r=0;r<n.producerNode.length;r++)rl(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];il(i),i.producerIndexOfThis[r]=e}}function Fa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function il(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function tb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function nb(n){return n.producerNode!==void 0}function iO(){throw new Error}var rb=iO;function oO(n){rb(n)}function pg(n){rb=n}var sO=null;function gg(n,e){ZI()||oO(n),n.equal(n.value,e)||(n.value=e,aO(n))}var mg=Pe(U({},nl),{equal:QI,value:void 0,kind:"signal"});function aO(n){n.version++,YI(),lg(n),sO?.()}function yg(n){let e=ve(null);try{return n()}finally{ve(e)}}var vg;function La(){return vg}function mr(n){let e=vg;return vg=n,e}var ol=Symbol("NotFound");function re(n){return typeof n=="function"}function ko(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var sl=ko(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Pi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var et=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof sl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ib(o)}catch(s){e=e??[],s instanceof sl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new sl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ib(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Pi(t,e)}remove(e){let{_finalizers:t}=this;t&&Pi(t,e),e instanceof n&&e._removeParent(this)}};et.EMPTY=(()=>{let n=new et;return n.closed=!0,n})();var _g=et.EMPTY;function al(n){return n instanceof et||n&&"closed"in n&&re(n.remove)&&re(n.add)&&re(n.unsubscribe)}function ib(n){re(n)?n():n.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function cl(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(n);else throw n})}function xi(){}var ob=wg("C",void 0,void 0);function sb(n){return wg("E",void 0,n)}function ab(n){return wg("N",n,void 0)}function wg(n,e,t){return{kind:n,value:e,error:t}}var Ni=null;function Lo(n){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ni;if(Ni=null,t)throw r}}else n()}function cb(n){Sn.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=n)}var Oi=class extends et{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,al(e)&&e.add(this)):this.destination=mO}static create(e,t,r){return new yr(e,t,r)}next(e){this.isStopped?Ig(ab(e),this):this._next(e)}error(e){this.isStopped?Ig(sb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ig(ob,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pO=Function.prototype.bind;function Eg(n,e){return pO.call(n,e)}var bg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ul(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ul(r)}else ul(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ul(t)}}},yr=class extends Oi{constructor(e,t,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Eg(e.next,o),error:e.error&&Eg(e.error,o),complete:e.complete&&Eg(e.complete,o)}):i=e}this.destination=new bg(i)}};function ul(n){Sn.useDeprecatedSynchronousErrorHandling?cb(n):cl(n)}function gO(n){throw n}function Ig(n,e){let{onStoppedNotification:t}=Sn;t&&Fo.setTimeout(()=>t(n,e))}var mO={closed:!0,next:xi,error:gO,complete:xi};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xt(n){return n}function ll(...n){return Tg(n)}function Tg(n){return n.length===0?Xt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=vO(t)?t:new yr(t,r,i);return Lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ub(r),new r((i,o)=>{let s=new yr({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Vo](){return this}pipe(...t){return Tg(t)(this)}toPromise(t){return t=ub(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ub(n){var e;return(e=n??Sn.Promise)!==null&&e!==void 0?e:Promise}function yO(n){return n&&re(n.next)&&re(n.error)&&re(n.complete)}function vO(n){return n&&n instanceof Oi||yO(n)&&al(n)}function Cg(n){return re(n?.lift)}function he(n){return e=>{if(Cg(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,e,t,r,i){return new Dg(n,e,t,r,i)}var Dg=class extends Oi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return he((n,e)=>{let t=null;n._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var jo=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Cg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new et;let t=this.getSubject();e.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=et.EMPTY)}return e}refCount(){return Uo()(this)}};var lb=ko(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new dl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new lb}next(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?_g:(this.currentObservers=null,o.push(t),new et(()=>{this.currentObservers=null,Pi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new dl(e,t),n})(),dl=class extends _e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_g}};var It=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Va={now(){return(Va.delegate||Date).now()},delegate:void 0};var Ua=class extends _e{constructor(e=1/0,t=1/0,r=Va){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var hl=class extends et{constructor(e,t){super()}schedule(e,t=0){return this}};var ja={setInterval(n,e,...t){let{delegate:r}=ja;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ja;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Bo=class extends hl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ja.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ja.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};$o.now=Va.now;var Ho=class extends $o{constructor(e,t=$o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var zo=new Ho(Bo),Sg=zo;var fl=class extends Bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var pl=class extends Ho{};var Ag=new pl(fl);var Mt=new de(n=>n.complete());function gl(n){return n&&re(n.schedule)}function Mg(n){return n[n.length-1]}function db(n){return re(Mg(n))?n.pop():void 0}function zn(n){return gl(Mg(n))?n.pop():void 0}function hb(n,e){return typeof Mg(n)=="number"?n.pop():e}function Rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function pb(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function c(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,c)}l((r=r.apply(n,e||[])).next())})}function fb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(n){return this instanceof ki?(this.v=n,this):new ki(n)}function gb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(_){return Promise.resolve(_).then(m,p)}}function a(m,_){r[m]&&(i[m]=function(T){return new Promise(function(A,O){o.push([m,T,A,O])>1||c(m,T)})},_&&(i[m]=_(i[m])))}function c(m,_){try{l(r[m](_))}catch(T){g(o[0][3],T)}}function l(m){m.value instanceof ki?Promise.resolve(m.value.v).then(h,p):g(o[0][2],m)}function h(m){c("next",m)}function p(m){c("throw",m)}function g(m,_){m(_),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fb=="function"?fb(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var qo=n=>n&&typeof n.length=="number"&&typeof n!="function";function ml(n){return re(n?.then)}function yl(n){return re(n[Vo])}function vl(n){return Symbol.asyncIterator&&re(n?.[Symbol.asyncIterator])}function _l(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _O(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wl=_O();function El(n){return re(n?.[wl])}function Il(n){return gb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ki(t.read());if(i)return yield ki(void 0);yield yield ki(r)}}finally{t.releaseLock()}})}function bl(n){return re(n?.getReader)}function Le(n){if(n instanceof de)return n;if(n!=null){if(yl(n))return wO(n);if(qo(n))return EO(n);if(ml(n))return IO(n);if(vl(n))return yb(n);if(El(n))return bO(n);if(bl(n))return TO(n)}throw _l(n)}function wO(n){return new de(e=>{let t=n[Vo]();if(re(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EO(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function IO(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,cl)})}function bO(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function yb(n){return new de(e=>{CO(n,e).catch(t=>e.error(t))})}function TO(n){return yb(Il(n))}function CO(n,e){var t,r,i,o;return pb(this,void 0,void 0,function*(){try{for(t=mb(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function qt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Zr(n,e=0){return he((t,r)=>{t.subscribe(De(r,i=>qt(r,n,()=>r.next(i),e),()=>qt(r,n,()=>r.complete(),e),i=>qt(r,n,()=>r.error(i),e)))})}function Xr(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function vb(n,e){return Le(n).pipe(Xr(e),Zr(e))}function _b(n,e){return Le(n).pipe(Xr(e),Zr(e))}function wb(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function Eb(n,e){return new de(t=>{let r;return qt(t,e,()=>{r=n[wl](),qt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function Tl(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{qt(t,e,()=>{let r=n[Symbol.asyncIterator]();qt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ib(n,e){return Tl(Il(n),e)}function bb(n,e){if(n!=null){if(yl(n))return vb(n,e);if(qo(n))return wb(n,e);if(ml(n))return _b(n,e);if(vl(n))return Tl(n,e);if(El(n))return Eb(n,e);if(bl(n))return Ib(n,e)}throw _l(n)}function ke(n,e){return e?bb(n,e):Le(n)}function ee(...n){let e=zn(n);return ke(n,e)}function Wo(n,e){let t=re(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function Pg(n){return!!n&&(n instanceof de||re(n.lift)&&re(n.subscribe))}var vr=ko(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Tb(n){return n instanceof Date&&!isNaN(n)}function te(n,e){return he((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:DO}=Array;function SO(n,e){return DO(e)?n(...e):n(e)}function Cl(n){return te(e=>SO(n,e))}var{isArray:AO}=Array,{getPrototypeOf:MO,prototype:RO,keys:PO}=Object;function Cb(n){if(n.length===1){let e=n[0];if(AO(e))return{args:e,keys:null};if(xO(e)){let t=PO(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function xO(n){return n&&typeof n=="object"&&MO(n)===RO}function Db(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Dl(...n){let e=zn(n),t=db(n),{args:r,keys:i}=Cb(n);if(r.length===0)return ke([],e);let o=new de(NO(r,e,i?s=>Db(i,s):Xt));return t?o.pipe(Cl(t)):o}function NO(n,e,t=Xt){return r=>{Sb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Sb(e,()=>{let l=ke(n[c],e),h=!1;l.subscribe(De(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sb(n,e,t){n?qt(t,n,e):e()}function Ab(n,e,t,r,i,o,s,a){let c=[],l=0,h=0,p=!1,g=()=>{p&&!c.length&&!l&&e.complete()},m=T=>l<r?_(T):c.push(T),_=T=>{o&&e.next(T),l++;let A=!1;Le(t(T,h++)).subscribe(De(e,O=>{i?.(O),o?m(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;c.length&&l<r;){let O=c.shift();s?qt(e,s,()=>_(O)):_(O)}g()}catch(O){e.error(O)}}))};return n.subscribe(De(e,m,()=>{p=!0,g()})),()=>{a?.()}}function qe(n,e,t=1/0){return re(e)?qe((r,i)=>te((o,s)=>e(r,o,i,s))(Le(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>Ab(r,i,n,t)))}function ei(n=1/0){return qe(Xt,n)}function Mb(){return ei(1)}function ti(...n){return Mb()(ke(n,zn(n)))}function Sl(n){return new de(e=>{Le(n()).subscribe(e)})}var OO=["addListener","removeListener"],kO=["addEventListener","removeEventListener"],FO=["on","off"];function Ba(n,e,t,r){if(re(t)&&(r=t,t=void 0),r)return Ba(n,e,t).pipe(Cl(r));let[i,o]=UO(n)?kO.map(s=>a=>n[s](e,a,t)):LO(n)?OO.map(Rb(n,e)):VO(n)?FO.map(Rb(n,e)):[];if(!i&&qo(n))return qe(s=>Ba(s,e,t))(Le(n));if(!i)throw new TypeError("Invalid event target");return new de(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Rb(n,e){return t=>r=>n[t](e,r)}function LO(n){return re(n.addListener)&&re(n.removeListener)}function VO(n){return re(n.on)&&re(n.off)}function UO(n){return re(n.addEventListener)&&re(n.removeEventListener)}function Pb(n=0,e,t=Sg){let r=-1;return e!=null&&(gl(e)?t=e:r=e),new de(i=>{let o=Tb(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function An(...n){let e=zn(n),t=hb(n,1/0),r=n;return r.length?r.length===1?Le(r[0]):ei(t)(ke(r,e)):Mt}function Ke(n,e){return he((t,r)=>{let i=0;t.subscribe(De(r,o=>n.call(e,o,i++)&&r.next(o)))})}function _r(n){return he((e,t)=>{let r=null,i=!1,o;r=e.subscribe(De(t,void 0,void 0,s=>{o=Le(n(s,_r(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Al(n,e,t,r,i){return(o,s)=>{let a=t,c=e,l=0;o.subscribe(De(s,h=>{let p=l++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function xb(n,e){return he(Al(n,e,arguments.length>=2,!1,!0))}var jO=(n,e)=>(n.push(e),n);function xg(){return he((n,e)=>{xb(jO,[])(n).subscribe(e)})}function wr(n,e){return re(e)?qe(n,e,1):qe(n,1)}function ni(n){return he((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pt(n){return n<=0?()=>Mt:he((e,t)=>{let r=0;e.subscribe(De(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Nb(){return he((n,e)=>{n.subscribe(De(e,xi))})}function Ob(n){return te(()=>n)}function Ng(n,e){return e?t=>ti(e.pipe(pt(1),Nb()),t.pipe(Ng(n))):qe((t,r)=>Le(n(t,r)).pipe(pt(1),Ob(t)))}function Og(n,e=zo){let t=Pb(n,e);return Ng(()=>t)}function Ml(n=BO){return he((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function BO(){return new vr}function ri(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function en(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ke((i,o)=>n(i,o,r)):Xt,pt(1),t?ni(e):Ml(()=>new vr))}function Go(n){return n<=0?()=>Mt:he((e,t)=>{let r=[];e.subscribe(De(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ke((i,o)=>n(i,o,r)):Xt,Go(1),t?ni(e):Ml(()=>new vr))}function Rl(n,e){return he(Al(n,e,arguments.length>=2,!0))}function kb(n={}){let{connector:e=()=>new _e,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,l=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=c=void 0,h=p=!1},_=()=>{let T=s;m(),T?.unsubscribe()};return he((T,A)=>{l++,!p&&!h&&g();let O=c=c??e();A.add(()=>{l--,l===0&&!p&&!h&&(a=Fg(_,i))}),O.subscribe(A),!s&&l>0&&(s=new yr({next:H=>O.next(H),error:H=>{p=!0,g(),a=Fg(m,t,H),O.error(H)},complete:()=>{h=!0,g(),a=Fg(m,r),O.complete()}}),Le(T).subscribe(s))})(o)}}function Fg(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new yr({next:()=>{r.unsubscribe(),n()}});return Le(e(...t)).subscribe(r)}function Lg(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,kb({connector:()=>new Ua(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Pl(n){return Ke((e,t)=>n<=t)}function xl(...n){let e=zn(n);return he((t,r)=>{(e?ti(n,t,e):ti(n,t)).subscribe(r)})}function nt(n,e){return he((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,c=>{i?.unsubscribe();let l=0,h=o++;Le(n(c,h)).subscribe(i=De(r,p=>r.next(e?e(c,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vg(n){return he((e,t)=>{Le(n).subscribe(De(t,()=>t.complete(),xi)),!t.closed&&e.subscribe(t)})}function oe(n,e,t){let r=re(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xt}var RT="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(e,t){super(HO(e,t)),this.code=e}};function $O(n){return`NG0${Math.abs(n)}`}function HO(n,e){return`${$O(n)}${e?": "+e:""}`}var PT=Symbol("InputSignalNode#UNSET"),zO=Pe(U({},mg),{transformFn:void 0,applyValueToInputSignal(n,e){gg(n,e)}});function xT(n,e){let t=Object.create(zO);t.value=n,t.transformFn=e?.transform;function r(){if(ug(t),t.value===PT){let i=null;throw new x(-950,i)}return t.value}return r[Oo]=t,r}function oc(n){return{toString:n}.toString()}var Nl="__parameters__";function qO(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function NT(n,e,t){return oc(()=>{let r=qO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,h){let p=c.hasOwnProperty(Nl)?c[Nl]:Object.defineProperty(c,Nl,{value:[]})[Nl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Wa=globalThis;function Ve(n){for(let e in n)if(n[e]===Ve)return e;throw Error("Could not find renamed property on target object.")}function Gt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Gt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Fb(n,e){return n?e?`${n} ${e}`:n:e||""}var WO=Ve({__forward_ref__:Ve});function OT(n){return n.__forward_ref__=OT,n.toString=function(){return Gt(this())},n}function jt(n){return kT(n)?n():n}function kT(n){return typeof n=="function"&&n.hasOwnProperty(WO)&&n.__forward_ref__===OT}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function md(n){return Lb(n,LT)||Lb(n,VT)}function FT(n){return md(n)!==null}function Lb(n,e){return n.hasOwnProperty(e)?n[e]:null}function GO(n){let e=n&&(n[LT]||n[VT]);return e||null}function Vb(n){return n&&(n.hasOwnProperty(Ub)||n.hasOwnProperty(KO))?n[Ub]:null}var LT=Ve({\u0275prov:Ve}),Ub=Ve({\u0275inj:Ve}),VT=Ve({ngInjectableDef:Ve}),KO=Ve({ngInjectorDef:Ve}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function UT(n){return n&&!!n.\u0275providers}var QO=Ve({\u0275cmp:Ve}),YO=Ve({\u0275dir:Ve}),JO=Ve({\u0275pipe:Ve}),ZO=Ve({\u0275mod:Ve}),zl=Ve({\u0275fac:Ve}),qa=Ve({__NG_ELEMENT_ID__:Ve}),jb=Ve({__NG_ENV_ID__:Ve});function sc(n){return typeof n=="string"?n:n==null?"":String(n)}function XO(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():sc(n)}function jT(n,e){throw new x(-200,n)}function iy(n,e){throw new x(-201,!1)}var me=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(me||{}),Xg;function BT(){return Xg}function Wt(n){let e=Xg;return Xg=n,e}function $T(n,e,t){let r=md(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&me.Optional)return null;if(e!==void 0)return e;iy(n,"Injector")}var e1={},Fi=e1,em="__NG_DI_FLAG__",ql=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=t;return this.injector.get(e,r.optional?ol:Fi,r)}},Wl="ngTempTokenPath",t1="ngTokenPath",n1=/\n/gm,r1="\u0275",Bb="__source";function i1(n,e=me.Default){if(La()===void 0)throw new x(-203,!1);if(La()===null)return $T(n,void 0,e);{let t=La(),r;return t instanceof ql?r=t.injector:r=t,r.get(n,e&me.Optional?null:void 0,e)}}function $(n,e=me.Default){return(BT()||i1)(jt(n),e)}function F(n,e=me.Default){return $(n,yd(e))}function yd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function tm(n){let e=[];for(let t=0;t<n.length;t++){let r=jt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=me.Default;for(let s=0;s<r.length;s++){let a=r[s],c=o1(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push($(i,o))}else e.push($(r))}return e}function HT(n,e){return n[em]=e,n.prototype[em]=e,n}function o1(n){return n[em]}function s1(n,e,t,r){let i=n[Wl];throw e[Bb]&&i.unshift(e[Bb]),n.message=a1(`
`+n.message,i,t,r),n[t1]=i,n[Wl]=null,n}function a1(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==r1?n.slice(2):n;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Gt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(n1,`
  `)}`}var Jn=HT(NT("Optional"),8);var zT=HT(NT("SkipSelf"),4);function Vi(n,e){let t=n.hasOwnProperty(zl);return t?n[zl]:null}function c1(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function u1(n){return n.flat(Number.POSITIVE_INFINITY)}function oy(n,e){n.forEach(t=>Array.isArray(t)?oy(t,e):e(t))}function qT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Gl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function l1(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function d1(n,e,t){let r=ac(n,e);return r>=0?n[r|1]=t:(r=~r,l1(n,r,e,t)),r}function Ug(n,e){let t=ac(n,e);if(t>=0)return n[t|1]}function ac(n,e){return h1(n,e,1)}function h1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Zo={},Rn=[],Ga=new K(""),WT=new K("",-1),GT=new K(""),Kl=class{get(e,t=Fi){if(t===Fi){let r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return t}};function KT(n,e){let t=n[ZO]||null;if(!t&&e===!0)throw new Error(`Type ${Gt(n)} does not have '\u0275mod' property.`);return t}function Xo(n){return n[QO]||null}function f1(n){return n[YO]||null}function p1(n){return n[JO]||null}function ai(n){return{\u0275providers:n}}function g1(...n){return{\u0275providers:QT(!0,n),\u0275fromNgModule:!0}}function QT(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return oy(e,s=>{let a=s;nm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&YT(i,o),t}function YT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];sy(i,o=>{e(o,r)})}}function nm(n,e,t,r){if(n=jt(n),!n)return!1;let i=null,o=Vb(n),s=!o&&Xo(n);if(!o&&!s){let c=n.ngModule;if(o=Vb(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)nm(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{oy(o.imports,h=>{nm(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&YT(l,e)}if(!a){let l=Vi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Rn},i),e({provide:GT,useValue:i,multi:!0},i),e({provide:Ga,useValue:()=>$(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=n;sy(c,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function sy(n,e){for(let t of n)UT(t)&&(t=t.\u0275providers),Array.isArray(t)?sy(t,e):e(t)}var m1=Ve({provide:String,useValue:Ve});function JT(n){return n!==null&&typeof n=="object"&&m1 in n}function y1(n){return!!(n&&n.useExisting)}function v1(n){return!!(n&&n.useFactory)}function es(n){return typeof n=="function"}function _1(n){return!!n.useClass}var vd=new K(""),Vl={},$b={},jg;function ay(){return jg===void 0&&(jg=new Kl),jg}var bt=class{},Ka=class extends bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,im(e,s=>this.processProvider(s)),this.records.set(WT,Ko(void 0,this)),i.has("environment")&&this.records.set(bt,Ko(void 0,this));let o=this.records.get(vd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(GT,Rn,me.Self))}retrieve(e,t){let r=t;return this.get(e,r.optional?ol:Fi,r)}destroy(){Ha(this),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return Ha(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ha(this);let t=mr(this),r=Wt(void 0),i;try{return e()}finally{mr(t),Wt(r)}}get(e,t=Fi,r=me.Default){if(Ha(this),e.hasOwnProperty(jb))return e[jb](this);r=yd(r);let i,o=mr(this),s=Wt(void 0);try{if(!(r&me.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=T1(e)&&md(e);l&&this.injectableDefInScope(l)?c=Ko(rm(e),Vl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c,r)}let a=r&me.Self?ay():this.parent;return t=r&me.Optional&&t===Fi?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Wl]=a[Wl]||[]).unshift(Gt(e)),o)throw a;return s1(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),mr(o)}}resolveInjectorInitializers(){let e=ve(null),t=mr(this),r=Wt(void 0),i;try{let o=this.get(Ga,Rn,me.Self);for(let s of o)s()}finally{mr(t),Wt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jt(e);let t=es(e)?e:jt(e&&e.provide),r=E1(e);if(!es(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ko(void 0,Vl,!0),i.factory=()=>tm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ve(null);try{return t.value===$b?jT(Gt(e)):t.value===Vl&&(t.value=$b,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&b1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=jt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rm(n){let e=md(n),t=e!==null?e.factory:Vi(n);if(t!==null)return t;if(n instanceof K)throw new x(204,!1);if(n instanceof Function)return w1(n);throw new x(204,!1)}function w1(n){if(n.length>0)throw new x(204,!1);let t=GO(n);return t!==null?()=>t.factory(n):()=>new n}function E1(n){if(JT(n))return Ko(void 0,n.useValue);{let e=ZT(n);return Ko(e,Vl)}}function ZT(n,e,t){let r;if(es(n)){let i=jt(n);return Vi(i)||rm(i)}else if(JT(n))r=()=>jt(n.useValue);else if(v1(n))r=()=>n.useFactory(...tm(n.deps||[]));else if(y1(n))r=(i,o)=>$(jt(n.useExisting),o!==void 0&&o&me.Optional?me.Optional:void 0);else{let i=jt(n&&(n.useClass||n.provide));if(I1(n))r=()=>new i(...tm(n.deps));else return Vi(i)||rm(i)}return r}function Ha(n){if(n.destroyed)throw new x(205,!1)}function Ko(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function I1(n){return!!n.deps}function b1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function T1(n){return typeof n=="function"||typeof n=="object"&&n instanceof K}function im(n,e){for(let t of n)Array.isArray(t)?im(t,e):t&&UT(t)?im(t.\u0275providers,e):e(t)}function Tt(n,e){let t;n instanceof Ka?(Ha(n),t=n):t=new ql(n);let r,i=mr(t),o=Wt(void 0);try{return e()}finally{mr(i),Wt(o)}}function XT(){return BT()!==void 0||La()!=null}function eC(n){if(!XT())throw new x(-203,!1)}function C1(n){return typeof n=="function"}var Cr=0,ce=1,ue=2,Pt=3,Pn=4,On=5,Qa=6,Ql=7,ht=8,ts=9,Er=10,gt=11,Ya=12,Hb=13,as=14,xn=15,Ui=16,Qo=17,Ir=18,_d=19,tC=20,ii=21,Bg=22,Yl=23,mn=24,$g=25,Bt=26,nC=1;var ji=7,Jl=8,ns=9,Rt=10;function oi(n){return Array.isArray(n)&&typeof n[nC]=="object"}function Dr(n){return Array.isArray(n)&&n[nC]===!0}function rC(n){return(n.flags&4)!==0}function cs(n){return n.componentOffset>-1}function cy(n){return(n.flags&1)===1}function ci(n){return!!n.template}function Zl(n){return(n[ue]&512)!==0}function us(n){return(n[ue]&256)===256}var om=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Sr=(()=>{let n=()=>oC;return n.ngInherit=!0,n})();function oC(n){return n.type.prototype.ngOnChanges&&(n.setInput=S1),D1}function D1(){let n=aC(this),e=n?.current;if(e){let t=n.previous;if(t===Zo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function S1(n,e,t,r,i){let o=this.declaredInputs[r],s=aC(n)||A1(n,{previous:Zo,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new om(l&&l.currentValue,t,c===Zo),iC(n,e,i,t)}var sC="__ngSimpleChanges__";function aC(n){return n[sC]||null}function A1(n,e){return n[sC]=e}var zb=null;var Ue=function(n,e=null,t){zb?.(n,e,t)},cC="svg",M1="math";function Wn(n){for(;Array.isArray(n);)n=n[Cr];return n}function uC(n,e){return Wn(e[n])}function Zn(n,e){return Wn(e[n.index])}function uy(n,e){return n.data[e]}function lC(n,e){return n[e]}function R1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Gn(n,e){let t=e[n];return oi(t)?t:t[Cr]}function P1(n){return(n[ue]&4)===4}function ly(n){return(n[ue]&128)===128}function x1(n){return Dr(n[Pt])}function rs(n,e){return e==null?null:n[e]}function dC(n){n[Qo]=0}function hC(n){n[ue]&1024||(n[ue]|=1024,ly(n)&&Ed(n))}function N1(n,e){for(;n>0;)e=e[as],n--;return e}function wd(n){return!!(n[ue]&9216||n[mn]?.dirty)}function sm(n){n[Er].changeDetectionScheduler?.notify(8),n[ue]&64&&(n[ue]|=1024),wd(n)&&Ed(n)}function Ed(n){n[Er].changeDetectionScheduler?.notify(0);let e=Bi(n);for(;e!==null&&!(e[ue]&8192||(e[ue]|=8192,!ly(e)));)e=Bi(e)}function fC(n,e){if(us(n))throw new x(911,!1);n[ii]===null&&(n[ii]=[]),n[ii].push(e)}function O1(n,e){if(n[ii]===null)return;let t=n[ii].indexOf(e);t!==-1&&n[ii].splice(t,1)}function Bi(n){let e=n[Pt];return Dr(e)?e[Pt]:e}function dy(n){return n[Ql]??=[]}function hy(n){return n.cleanup??=[]}function k1(n,e,t,r){let i=dy(e);i.push(t),n.firstCreatePass&&hy(n).push(r,i.length-1)}var ye={lFrame:EC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var am=!1;function F1(){return ye.lFrame.elementDepthCount}function L1(){ye.lFrame.elementDepthCount++}function V1(){ye.lFrame.elementDepthCount--}function pC(){return ye.bindingsEnabled}function U1(){return ye.skipHydrationRootTNode!==null}function j1(n){return ye.skipHydrationRootTNode===n}function B1(){ye.skipHydrationRootTNode=null}function we(){return ye.lFrame.lView}function Ct(){return ye.lFrame.tView}function xt(n){return ye.lFrame.contextLView=n,n[ht]}function Nt(n){return ye.lFrame.contextLView=null,n}function tn(){let n=gC();for(;n!==null&&n.type===64;)n=n.parent;return n}function gC(){return ye.lFrame.currentTNode}function $1(){let n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function cc(n,e){let t=ye.lFrame;t.currentTNode=n,t.isParent=e}function mC(){return ye.lFrame.isParent}function H1(){ye.lFrame.isParent=!1}function z1(){return ye.lFrame.contextLView}function yC(){return am}function qb(n){let e=am;return am=n,e}function ls(){let n=ye.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function q1(n){return ye.lFrame.bindingIndex=n}function uc(){return ye.lFrame.bindingIndex++}function W1(n){let e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function G1(){return ye.lFrame.inI18n}function K1(n,e){let t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,cm(e)}function Q1(){return ye.lFrame.currentDirectiveIndex}function cm(n){ye.lFrame.currentDirectiveIndex=n}function Y1(n){let e=ye.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function vC(){return ye.lFrame.currentQueryIndex}function fy(n){ye.lFrame.currentQueryIndex=n}function J1(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[On]:null}function _C(n,e,t){if(t&me.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&me.Host);)if(i=J1(o),i===null||(o=o[as],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ye.lFrame=wC();return r.currentTNode=e,r.lView=n,!0}function py(n){let e=wC(),t=n[ce];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function wC(){let n=ye.lFrame,e=n===null?null:n.child;return e===null?EC(n):e}function EC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function IC(){let n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var bC=IC;function gy(){let n=IC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Z1(n){return(ye.lFrame.contextLView=N1(n,ye.lFrame.contextLView))[ht]}function Wi(){return ye.lFrame.selectedIndex}function $i(n){ye.lFrame.selectedIndex=n}function my(){let n=ye.lFrame;return uy(n.tView,n.selectedIndex)}function yy(){ye.lFrame.currentNamespace=cC}function vy(){X1()}function X1(){ye.lFrame.currentNamespace=null}function ek(){return ye.lFrame.currentNamespace}var TC=!0;function _y(){return TC}function wy(n){TC=n}function tk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=oC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function CC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Ul(n,e,t){DC(n,e,3,t)}function jl(n,e,t,r){(n[ue]&3)===t&&DC(n,e,t,r)}function Hg(n,e){let t=n[ue];(t&3)===e&&(t&=16383,t+=1,n[ue]=t)}function DC(n,e,t,r){let i=r!==void 0?n[Qo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Qo]+=65536),(a<o||o==-1)&&(nk(n,t,e,c),n[Qo]=(n[Qo]&4294901760)+c+2),c++}function Wb(n,e){Ue(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),Ue(5,n,e)}}function nk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ue]>>14<n[Qo]>>16&&(n[ue]&3)===e&&(n[ue]+=16384,Wb(a,o)):Wb(a,o)}var Jo=-1,Hi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function rk(n){return(n.flags&8)!==0}function ik(n){return(n.flags&16)!==0}function ok(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];sk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function SC(n){return n===3||n===4||n===6}function sk(n){return n.charCodeAt(0)===64}function Ey(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Gb(n,t,i,null,e[++r]):Gb(n,t,i,null,null))}}return n}function Gb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function AC(n){return n!==Jo}function Xl(n){return n&32767}function ak(n){return n>>16}function ed(n,e){let t=ak(n),r=e;for(;t>0;)r=r[as],t--;return r}var um=!0;function td(n){let e=um;return um=n,e}var ck=256,MC=ck-1,RC=5,uk=0,qn={};function lk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qa)&&(r=t[qa]),r==null&&(r=t[qa]=uk++);let i=r&MC,o=1<<i;e.data[n+(i>>RC)]|=o}function nd(n,e){let t=PC(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,zg(r.data,n),zg(e,null),zg(r.blueprint,null));let i=Iy(n,e),o=n.injectorIndex;if(AC(i)){let s=Xl(i),a=ed(i,e),c=a[ce].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function zg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function PC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Iy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=FC(i),r===null)return Jo;if(t++,i=i[as],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Jo}function lm(n,e,t){lk(n,e,t)}function dk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(SC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function xC(n,e,t){if(t&me.Optional||n!==void 0)return n;iy(e,"NodeInjector")}function NC(n,e,t,r){if(t&me.Optional&&r===void 0&&(r=null),(t&(me.Self|me.Host))===0){let i=n[ts],o=Wt(void 0);try{return i?i.get(e,r,t&me.Optional):$T(e,r,t&me.Optional)}finally{Wt(o)}}return xC(r,e,t)}function OC(n,e,t,r=me.Default,i){if(n!==null){if(e[ue]&2048&&!(r&me.Self)){let s=gk(n,e,t,r,qn);if(s!==qn)return s}let o=kC(n,e,t,r,qn);if(o!==qn)return o}return NC(e,t,r,i)}function kC(n,e,t,r,i){let o=fk(t);if(typeof o=="function"){if(!_C(e,n,r))return r&me.Host?xC(i,t,r):NC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&me.Optional))iy(t);else return s}finally{bC()}}else if(typeof o=="number"){let s=null,a=PC(n,e),c=Jo,l=r&me.Host?e[xn][On]:null;for((a===-1||r&me.SkipSelf)&&(c=a===-1?Iy(n,e):e[a+8],c===Jo||!Qb(r,!1)?a=-1:(s=e[ce],a=Xl(c),e=ed(c,e)));a!==-1;){let h=e[ce];if(Kb(o,a,h.data)){let p=hk(a,e,t,s,r,l);if(p!==qn)return p}c=e[a+8],c!==Jo&&Qb(r,e[ce].data[a+8]===l)&&Kb(o,a,e)?(s=h,a=Xl(c),e=ed(c,e)):a=-1}}return i}function hk(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],c=r==null?cs(a)&&um:r!=s&&(a.type&3)!==0,l=i&me.Host&&o===a,h=Bl(a,s,t,c,l);return h!==null?Ja(e,s,h,a,i):qn}function Bl(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let m=p;m<g;m++){let _=s[m];if(m<c&&t===_||m>=c&&_.type===t)return m}if(i){let m=s[c];if(m&&ci(m)&&m.type===t)return c}return null}function Ja(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Hi){let a=o;a.resolving&&jT(XO(s[t]));let c=td(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?Wt(a.injectImpl):null,p=_C(n,r,me.Default);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&tk(t,s[t],e)}finally{h!==null&&Wt(h),td(c),a.resolving=!1,bC()}}return o}function fk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qa)?n[qa]:void 0;return typeof e=="number"?e>=0?e&MC:pk:e}function Kb(n,e,t){let r=1<<n;return!!(t[e+(n>>RC)]&r)}function Qb(n,e){return!(n&me.Self)&&!(n&me.Host&&e)}var Li=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return OC(this._tNode,this._lView,e,yd(r),t)}};function pk(){return new Li(tn(),we())}function by(n){return oc(()=>{let e=n.prototype.constructor,t=e[zl]||dm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[zl]||dm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dm(n){return kT(n)?()=>{let e=dm(jt(n));return e&&e()}:Vi(n)}function gk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ue]&2048&&!Zl(s);){let a=kC(o,s,t,r|me.Self,qn);if(a!==qn)return a;let c=o.parent;if(!c){let l=s[tC];if(l){let h=l.get(t,qn,r);if(h!==qn)return h}c=FC(s),s=s[as]}o=c}return i}function FC(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[On]:null}function Id(n){return dk(tn(),n)}function Yb(n,e=null,t=null,r){let i=LC(n,e,t,r);return i.resolveInjectorInitializers(),i}function LC(n,e=null,t=null,r,i=new Set){let o=[t||Rn,g1(n)];return r=r||(typeof n=="object"?void 0:Gt(n)),new Ka(o,e||ay(),r||null,i)}var Kt=class n{static THROW_IF_NOT_FOUND=Fi;static NULL=new Kl;static create(e,t){if(Array.isArray(e))return Yb({name:""},t,e,"");{let r=e.name??"";return Yb({name:r},e.parent,e.providers,r)}}static \u0275prov=B({token:n,providedIn:"any",factory:()=>$(WT)});static __NG_ELEMENT_ID__=-1};var mk=new K("");mk.__NG_ELEMENT_ID__=n=>{let e=tn();if(e===null)throw new x(204,!1);if(e.type&2)return e.value;if(n&me.Optional)return null;throw new x(204,!1)};var VC=!1,ds=(()=>{class n{static __NG_ELEMENT_ID__=yk;static __NG_ENV_ID__=t=>t}return n})(),hm=class extends ds{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let t=this._lView;return us(t)?(e(),()=>{}):(fC(t,e),()=>O1(t,e))}};function yk(){return new hm(we())}var is=class{},UC=new K("",{providedIn:"root",factory:()=>!1});var jC=new K(""),BC=new K(""),Xn=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new It(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),bd=(()=>{class n{internalPendingTasks=F(Xn);scheduler=F(is);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){return M(this,null,function*(){let r=this.add();try{return yield t()}finally{r()}})}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})(),fm=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,XT()&&(this.destroyRef=F(ds,{optional:!0})??void 0,this.pendingTasks=F(Xn,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof et&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},rt=fm;function rd(...n){}function $C(n){let e,t;function r(){n=rd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Jb(n){return queueMicrotask(()=>n()),()=>{n=rd}}var Ty="isAngularZone",id=Ty+"_ID",vk=0,xe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new rt(!1);onMicrotaskEmpty=new rt(!1);onStable=new rt(!1);onError=new rt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=VC}=e;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ek(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ty)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new x(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,_k,rd,rd);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_k={};function Cy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){$C(()=>{n.callbackScheduled=!1,pm(n),n.isCheckStableRunning=!0,Cy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),pm(n)}function Ek(n){let e=()=>{wk(n)},t=vk++;n._inner=n._inner.fork({name:"angular",properties:{[Ty]:!0,[id]:t,[id+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(Ik(c))return r.invokeTask(o,s,a,c);try{return Zb(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Xb(n)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return Zb(n),r.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!bk(c)&&e(),Xb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,pm(n),Cy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function pm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Zb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xb(n){n._nesting--,Cy(n)}var gm=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new rt;onMicrotaskEmpty=new rt;onStable=new rt;onError=new rt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function Ik(n){return HC(n,"__ignore_ng_zone__")}function bk(n){return HC(n,"__scheduler_tick__")}function HC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Nn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Tk=new K("",{providedIn:"root",factory:()=>{let n=F(xe),e=F(Nn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function eT(n,e){return xT(n,e)}function Ck(n){return xT(PT,n)}var zC=(eT.required=Ck,eT);function Dk(){return hs(tn(),we())}function hs(n,e){return new nn(Zn(n,e))}var nn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Dk}return n})();function Sk(n){return n instanceof nn?n.nativeElement:n}function Ak(){return this._results[Symbol.iterator]()}var mm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _e}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=u1(e);(this._changesDetected=!c1(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Ak};function qC(n){return(n.flags&128)===128}var WC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(WC||{}),GC=new Map,Mk=0;function Rk(){return Mk++}function Pk(n){GC.set(n[_d],n)}function ym(n){GC.delete(n[_d])}var tT="__ngContext__";function lc(n,e){oi(e)?(n[tT]=e[_d],Pk(e)):n[tT]=e}function KC(n){return YC(n[Ya])}function QC(n){return YC(n[Pn])}function YC(n){for(;n!==null&&!Dr(n);)n=n[Pn];return n}var vm;function JC(n){vm=n}function ZC(){if(vm!==void 0)return vm;if(typeof document<"u")return document;throw new x(210,!1)}var Dy=new K("",{providedIn:"root",factory:()=>xk}),xk="ng",Sy=new K(""),$t=new K("",{providedIn:"platform",factory:()=>"unknown"});var Ay=new K(""),My=new K("",{providedIn:"root",factory:()=>ZC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Nk="h",Ok="b";var XC=!1,kk=new K("",{providedIn:"root",factory:()=>XC});var eD=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(eD||{}),Td=new K(""),nT=new Set;function fs(n){nT.has(n)||(nT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Fk=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}return n})();var Lk=(n,e,t,r)=>{};function Vk(n,e,t,r){Lk(n,e,t,r)}var Uk=()=>null;function tD(n,e,t=!1){return Uk(n,e,t)}function nD(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];fy(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function _m(n,e,t){fy(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function rD(n,e,t){if(rC(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{ve(r)}}}var Kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kn||{}),Ol;function jk(){if(Ol===void 0&&(Ol=null,Wa.trustedTypes))try{Ol=Wa.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ol}function Cd(n){return jk()?.createHTML(n)||n}var kl;function iD(){if(kl===void 0&&(kl=null,Wa.trustedTypes))try{kl=Wa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kl}function rT(n){return iD()?.createHTML(n)||n}function iT(n){return iD()?.createScriptURL(n)||n}var od=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${RT})`}};function Dd(n){return n instanceof od?n.changingThisBreaksApplicationSecurity:n}function Ry(n,e){let t=Bk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${RT})`)}return t===e}function Bk(n){return n instanceof od&&n.getTypeName()||null}function $k(n){let e=new Em(n);return Hk()?new wm(e):e}var wm=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Cd(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Em=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Cd(e),t}};function Hk(){try{return!!new window.DOMParser().parseFromString(Cd(""),"text/html")}catch{return!1}}var zk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function oD(n){return n=String(n),n.match(zk)?n:"unsafe:"+n}function Ar(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function dc(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var sD=Ar("area,br,col,hr,img,wbr"),aD=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cD=Ar("rp,rt"),qk=dc(cD,aD),Wk=dc(aD,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gk=dc(cD,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),oT=dc(sD,Wk,Gk,qk),uD=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kk=Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qk=Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Yk=dc(uD,Kk,Qk),Jk=Ar("script,style,template"),Im=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=eF(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Xk(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=sT(e).toLowerCase();if(!oT.hasOwnProperty(t))return this.sanitizedSomething=!0,!Jk.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!Yk.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;uD[a]&&(c=oD(c)),this.buf.push(" ",s,'="',aT(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=sT(e).toLowerCase();oT.hasOwnProperty(t)&&!sD.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(aT(e))}};function Zk(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Xk(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw lD(e);return e}function eF(n){let e=n.firstChild;if(e&&Zk(n,e))throw lD(e);return e}function sT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function lD(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var tF=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nF=/([^\#-~ |!])/g;function aT(n){return n.replace(/&/g,"&amp;").replace(tF,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(nF,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fl;function rF(n,e){let t=null;try{Fl=Fl||$k(n);let r=e?String(e):"";t=Fl.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Fl.getInertBodyElement(r)}while(r!==o);let a=new Im().sanitizeChildren(cT(t)||t);return Cd(a)}finally{if(t){let r=cT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function cT(n){return"content"in n&&iF(n)?n.content:null}function iF(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Sd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Sd||{});function rn(n){let e=Py();return e?rT(e.sanitize(Sd.HTML,n)||""):Ry(n,"HTML")?rT(Dd(n)):rF(ZC(),sc(n))}function yn(n){let e=Py();return e?e.sanitize(Sd.URL,n)||"":Ry(n,"URL")?Dd(n):oD(sc(n))}function oF(n){let e=Py();if(e)return iT(e.sanitize(Sd.RESOURCE_URL,n)||"");if(Ry(n,"ResourceURL"))return iT(Dd(n));throw new x(904,!1)}function sF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?oF:yn}function dD(n,e,t){return sF(e,t)(n)}function Py(){let n=we();return n&&n[Er].sanitizer}function hD(n){return n.ownerDocument}function fD(n){return n instanceof Function?n():n}function aF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pD="ng-template";function cF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(xy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function xy(n){return n.type===4&&n.value!==pD}function uF(n,e,t){let r=n.type===4&&!t?pD:n.value;return e===r}function lF(n,e,t){let r=4,i=n.attrs,o=i!==null?fF(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Mn(r)&&!Mn(c))return!1;if(s&&Mn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!uF(n,c,t)||c===""&&e.length===1){if(Mn(r))return!1;s=!0}}else if(r&8){if(i===null||!cF(n,i,c,t)){if(Mn(r))return!1;s=!0}}else{let l=e[++a],h=dF(c,i,xy(n),t);if(h===-1){if(Mn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Mn(r))return!1;s=!0}}}}return Mn(r)||s}function Mn(n){return(n&1)===0}function dF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pF(e,n)}function hF(n,e,t=!1){for(let r=0;r<e.length;r++)if(lF(n,e[r],t))return!0;return!1}function fF(n){for(let e=0;e<n.length;e++){let t=n[e];if(SC(t))return e}return n.length}function pF(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function uT(n,e){return n?":not("+e.trim()+")":e}function gF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Mn(s)&&(e+=uT(o,i),i=""),r=s,o=o||!Mn(r);t++}return i!==""&&(e+=uT(o,i)),e}function mF(n){return n.map(gF).join(",")}function yF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Mn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var er={};function vF(n,e){return n.createText(e)}function _F(n,e,t){n.setValue(e,t)}function gD(n,e,t){return n.createElement(e,t)}function sd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function mD(n,e,t){n.appendChild(e,t)}function lT(n,e,t,r,i){r!==null?sd(n,e,t,r,i):mD(n,e,t)}function wF(n,e,t){n.removeChild(null,e,t)}function EF(n,e,t){n.setAttribute(e,"style",t)}function IF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function yD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&ok(n,e,r),i!==null&&IF(n,e,i),o!==null&&EF(n,e,o)}function Ny(n,e,t,r,i,o,s,a,c,l,h){let p=Bt+r,g=p+i,m=bF(p,g),_=typeof l=="function"?l():l;return m[ce]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:h}}function bF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:er);return t}function TF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ny(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Oy(n,e,t,r,i,o,s,a,c,l,h){let p=e.blueprint.slice();return p[Cr]=i,p[ue]=r|4|128|8|64|1024,(l!==null||n&&n[ue]&2048)&&(p[ue]|=2048),dC(p),p[Pt]=p[as]=n,p[ht]=t,p[Er]=s||n&&n[Er],p[gt]=a||n&&n[gt],p[ts]=c||n&&n[ts]||null,p[On]=o,p[_d]=Rk(),p[Qa]=h,p[tC]=l,p[xn]=e.type==2?n[xn]:p,p}function CF(n,e,t){let r=Zn(e,n),i=TF(t),o=n[Er].rendererFactory,s=ky(n,Oy(n,i,null,vD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function vD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function _D(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ky(n,e){return n[Ya]?n[Hb][Pn]=e:n[Ya]=e,n[Hb]=e,e}function V(n=1){wD(Ct(),we(),Wi()+n,!1)}function wD(n,e,t,r){if(!r)if((e[ue]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Ul(e,o,t)}else{let o=n.preOrderHooks;o!==null&&jl(e,o,0,t)}$i(t)}var Ad=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ad||{});function bm(n,e,t,r){let i=ve(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Ad.SignalBased)!==0&&(c=e[o][Oo]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):iC(e,c,o,r)}finally{ve(i)}}function ED(n,e,t,r,i){let o=Wi(),s=r&2;try{$i(-1),s&&e.length>Bt&&wD(n,e,Bt,!1),Ue(s?2:0,i),t(r,i)}finally{$i(o),Ue(s?3:1,i)}}function Fy(n,e,t){PF(n,e,t),(t.flags&64)===64&&xF(n,e,t)}function ID(n,e,t=Zn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DF(n,e,t,r){let o=r.get(kk,XC)||t===Kn.ShadowDom,s=n.selectRootElement(e,o);return SF(s),s}function SF(n){AF(n)}var AF=()=>null;function MF(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bD(n,e,t,r,i,o,s,a){if(!a&&Ly(e,n,t,r,i)){cs(e)&&RF(t,e.index);return}if(e.type&3){let c=Zn(e,t);r=MF(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)}else e.type&12}function RF(n,e){let t=Gn(e,n);t[ue]&16||(t[ue]|=64)}function PF(n,e,t){let r=t.directiveStart,i=t.directiveEnd;cs(t)&&CF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||nd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Ja(e,n,s,t);if(lc(c,e),o!==null&&FF(e,s-r,c,a,t,o),ci(a)){let l=Gn(t.index,e);l[ht]=Ja(e,n,s,t)}}}function xF(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Q1();try{$i(o);for(let a=r;a<i;a++){let c=n.data[a],l=e[a];cm(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&NF(c,l)}}finally{$i(-1),cm(s)}}function NF(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function TD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];hF(e,o.selectors,!1)&&(r??=[],ci(o)?r.unshift(o):r.push(o))}return r}function OF(n,e,t,r,i,o){let s=Zn(n,e);kF(e[gt],s,o,n.value,t,r,i)}function kF(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?sc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function FF(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];bm(r,t,c,l)}}function LF(n,e){let t=n[ts],r=t?t.get(Nn,null):null;r&&r.handleError(e)}function Ly(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],h=s[c+1],p=e.data[l];bm(p,t[l],h,i),a=!0}if(o)for(let c of o){let l=t[c],h=e.data[c];bm(h,l,r,i),a=!0}return a}function VF(n,e){let t=Gn(e,n),r=t[ce];UF(r,t);let i=t[Cr];i!==null&&t[Qa]===null&&(t[Qa]=tD(i,t[ts])),Ue(18),Vy(r,t,t[ht]),Ue(19,t[ht])}function UF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vy(n,e,t){py(e);try{let r=n.viewQuery;r!==null&&_m(1,r,t);let i=n.template;i!==null&&ED(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ir]?.finishViewCreation(n),n.staticContentQueries&&nD(n,e),n.staticViewQueries&&_m(2,n.viewQuery,t);let o=n.components;o!==null&&jF(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ue]&=-5,gy()}}function jF(n,e){for(let t=0;t<e.length;t++)VF(n,e[t])}function Md(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[ue]&4096?4096:16,c=Oy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];c[Ui]=l;let h=n[Ir];return h!==null&&(c[Ir]=h.createEmbeddedView(o)),Vy(o,c,t),c}finally{ve(i)}}function Za(n,e){return!e||e.firstChild===null||qC(n)}var BF;function Uy(n,e){return BF(n,e)}var Qn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Qn||{});function CD(n){return(n.flags&32)===32}function Yo(n,e,t,r,i){if(r!=null){let o,s=!1;Dr(r)?o=r:oi(r)&&(s=!0,r=r[Cr]);let a=Wn(r);n===0&&t!==null?i==null?mD(e,t,a):sd(e,t,a,i||null,!0):n===1&&t!==null?sd(e,t,a,i||null,!0):n===2?wF(e,a,s):n===3&&e.destroyNode(a),o!=null&&XF(e,n,o,t,i)}}function $F(n,e){DD(n,e),e[Cr]=null,e[On]=null}function HF(n,e,t,r,i,o){r[Cr]=i,r[On]=e,Pd(n,r,t,1,i,o)}function DD(n,e){e[Er].changeDetectionScheduler?.notify(9),Pd(n,e,e[gt],2,null,null)}function zF(n){let e=n[Ya];if(!e)return qg(n[ce],n);for(;e;){let t=null;if(oi(e))t=e[Ya];else{let r=e[Rt];r&&(t=r)}if(!t){for(;e&&!e[Pn]&&e!==n;)oi(e)&&qg(e[ce],e),e=e[Pt];e===null&&(e=n),oi(e)&&qg(e[ce],e),t=e&&e[Pn]}e=t}}function jy(n,e){let t=n[ns],r=t.indexOf(e);t.splice(r,1)}function Rd(n,e){if(us(e))return;let t=e[gt];t.destroyNode&&Pd(n,e,t,3,null,null),zF(e)}function qg(n,e){if(us(e))return;let t=ve(null);try{e[ue]&=-129,e[ue]|=256,e[mn]&&fg(e[mn]),WF(n,e),qF(n,e),e[ce].type===1&&e[gt].destroy();let r=e[Ui];if(r!==null&&Dr(e[Pt])){r!==e[Pt]&&jy(r,e);let i=e[Ir];i!==null&&i.detachView(n)}ym(e)}finally{ve(t)}}function qF(n,e){let t=n.cleanup,r=e[Ql];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ql]=null);let i=e[ii];if(i!==null){e[ii]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Yl];if(o!==null){e[Yl]=null;for(let s of o)s.destroy()}}function WF(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Hi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ue(4,a,c);try{c.call(a)}finally{Ue(5,a,c)}}else{Ue(4,i,o);try{o.call(i)}finally{Ue(5,i,o)}}}}}function GF(n,e,t){return KF(n,e.parent,t)}function KF(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Cr];if(cs(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Kn.None||i===Kn.Emulated)return null}return Zn(r,t)}function QF(n,e,t){return JF(n,e,t)}function YF(n,e,t){return n.type&40?Zn(n,t):null}var JF=YF,dT;function By(n,e,t,r){let i=GF(n,r,e),o=e[gt],s=r.parent||e[On],a=QF(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)lT(o,i,t[c],a,!1);else lT(o,i,t,a,!1);dT!==void 0&&dT(o,r,e,t,i)}function za(n,e){if(e!==null){let t=e.type;if(t&3)return Zn(e,n);if(t&4)return Tm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return za(n,r);{let i=n[e.index];return Dr(i)?Tm(-1,i):Wn(i)}}else{if(t&128)return za(n,e.next);if(t&32)return Uy(e,n)()||Wn(n[e.index]);{let r=SD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Bi(n[xn]);return za(i,r)}else return za(n,e.next)}}}return null}function SD(n,e){if(e!==null){let r=n[xn][On],i=e.projection;return r.projection[i]}return null}function Tm(n,e){let t=Rt+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return za(r,i)}return e[ji]}function $y(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&lc(Wn(a),r),t.flags|=2),!CD(t))if(c&8)$y(n,e,t.child,r,i,o,!1),Yo(e,n,i,a,o);else if(c&32){let l=Uy(t,r),h;for(;h=l();)Yo(e,n,i,h,o);Yo(e,n,i,a,o)}else c&16?ZF(n,e,r,t,i,o):Yo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Pd(n,e,t,r,i,o){$y(t,r,n.firstChild,e,i,o,!1)}function ZF(n,e,t,r,i,o){let s=t[xn],c=s[On].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let h=c[l];Yo(e,n,i,h,o)}else{let l=c,h=s[Pt];qC(r)&&(l.flags|=128),$y(n,e,l,h,i,o,!0)}}function XF(n,e,t,r,i){let o=t[ji],s=Wn(t);o!==s&&Yo(e,n,r,o,i);for(let a=Rt;a<t.length;a++){let c=t[a];Pd(c[ce],c,n,e,r,o)}}function eL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qn.Important),n.setStyle(t,r,i,o))}}function ad(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Wn(o)),Dr(o)&&tL(o,r);let s=t.type;if(s&8)ad(n,e,t.child,r);else if(s&32){let a=Uy(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=SD(e,t);if(Array.isArray(a))r.push(...a);else{let c=Bi(e[xn]);ad(c[ce],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function tL(n,e){for(let t=Rt;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&ad(r[ce],r,i,e)}n[ji]!==n[Cr]&&e.push(n[ji])}function AD(n){if(n[$g]!==null){for(let e of n[$g])e.impl.addSequence(e);n[$g].length=0}}var MD=[];function nL(n){return n[mn]??rL(n)}function rL(n){let e=MD.pop()??Object.create(oL);return e.lView=n,e}function iL(n){n.lView[mn]!==n&&(n.lView=null,MD.push(n))}var oL=Pe(U({},nl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ed(n.lView)},consumerOnSignalRead(){this.lView[mn]=this}});function sL(n){let e=n[mn]??Object.create(aL);return e.lView=n,e}var aL=Pe(U({},nl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Bi(n.lView);for(;e&&!RD(e[ce]);)e=Bi(e);e&&hC(e)},consumerOnSignalRead(){this.lView[mn]=this}});function RD(n){return n.type!==2}function PD(n){if(n[Yl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Yl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[ue]&8192)}}var cL=100;function xD(n,e=!0,t=0){let i=n[Er].rendererFactory,o=!1;o||i.begin?.();try{uL(n,t)}catch(s){throw e&&LF(n,s),s}finally{o||i.end?.()}}function uL(n,e){let t=yC();try{qb(!0),Cm(n,e);let r=0;for(;wd(n);){if(r===cL)throw new x(103,!1);r++,Cm(n,1)}}finally{qb(t)}}function lL(n,e,t,r){if(us(e))return;let i=e[ue],o=!1,s=!1;py(e);let a=!0,c=null,l=null;o||(RD(n)?(l=nL(e),c=dg(l)):cg()===null?(a=!1,l=sL(e),c=dg(l)):e[mn]&&(fg(e[mn]),e[mn]=null));try{dC(e),q1(n.bindingStartIndex),t!==null&&ED(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let m=n.preOrderCheckHooks;m!==null&&Ul(e,m,null)}else{let m=n.preOrderHooks;m!==null&&jl(e,m,0,null),Hg(e,0)}if(s||dL(e),PD(e),ND(e,0),n.contentQueries!==null&&nD(n,e),!o)if(h){let m=n.contentCheckHooks;m!==null&&Ul(e,m)}else{let m=n.contentHooks;m!==null&&jl(e,m,1),Hg(e,1)}fL(n,e);let p=n.components;p!==null&&kD(e,p,0);let g=n.viewQuery;if(g!==null&&_m(2,g,r),!o)if(h){let m=n.viewCheckHooks;m!==null&&Ul(e,m)}else{let m=n.viewHooks;m!==null&&jl(e,m,2),Hg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bg]){for(let m of e[Bg])m();e[Bg]=null}o||(AD(e),e[ue]&=-73)}catch(h){throw o||Ed(e),h}finally{l!==null&&(XI(l,c),a&&iL(l)),gy()}}function ND(n,e){for(let t=KC(n);t!==null;t=QC(t))for(let r=Rt;r<t.length;r++){let i=t[r];OD(i,e)}}function dL(n){for(let e=KC(n);e!==null;e=QC(e)){if(!(e[ue]&2))continue;let t=e[ns];for(let r=0;r<t.length;r++){let i=t[r];hC(i)}}}function hL(n,e,t){Ue(18);let r=Gn(e,n);OD(r,t),Ue(19,r[ht])}function OD(n,e){ly(n)&&Cm(n,e)}function Cm(n,e){let r=n[ce],i=n[ue],o=n[mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&hg(o)),s||=!1,o&&(o.dirty=!1),n[ue]&=-9217,s)lL(r,n,r.template,n[ht]);else if(i&8192){PD(n),ND(n,1);let a=r.components;a!==null&&kD(n,a,1),AD(n)}}function kD(n,e,t){for(let r=0;r<e.length;r++)hL(n,e[r],t)}function fL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$i(~i);else{let o=i,s=t[++r],a=t[++r];K1(s,o);let c=e[o];Ue(24,c),a(2,c),Ue(25,c)}}}finally{$i(-1)}}function Hy(n,e){let t=yC()?64:1088;for(n[Er].changeDetectionScheduler?.notify(e);n;){n[ue]|=t;let r=Bi(n);if(Zl(n)&&!r)return n;n=r}return null}function FD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function LD(n,e){let t=Rt+e;if(t<n.length)return n[t]}function xd(n,e,t,r=!0){let i=e[ce];if(pL(i,e,n,t),r){let s=Tm(t,n),a=e[gt],c=a.parentNode(n[ji]);c!==null&&HF(i,n[On],a,e,c,s)}let o=e[Qa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function VD(n,e){let t=Xa(n,e);return t!==void 0&&Rd(t[ce],t),t}function Xa(n,e){if(n.length<=Rt)return;let t=Rt+e,r=n[t];if(r){let i=r[Ui];i!==null&&i!==n&&jy(i,r),e>0&&(n[t-1][Pn]=r[Pn]);let o=Gl(n,Rt+e);$F(r[ce],r);let s=o[Ir];s!==null&&s.detachView(o[ce]),r[Pt]=null,r[Pn]=null,r[ue]&=-129}return r}function pL(n,e,t,r){let i=Rt+r,o=t.length;r>0&&(t[i-1][Pn]=e),r<o-Rt?(e[Pn]=t[i],qT(t,Rt+r,e)):(t.push(e),e[Pn]=null),e[Pt]=t;let s=e[Ui];s!==null&&t!==s&&UD(s,e);let a=e[Ir];a!==null&&a.insertView(n),sm(e),e[ue]|=128}function UD(n,e){let t=n[ns],r=e[Pt];if(oi(r))n[ue]|=2;else{let i=r[Pt][xn];e[xn]!==i&&(n[ue]|=2)}t===null?n[ns]=[e]:t.push(e)}var ec=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[ce];return ad(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[ht]}set context(e){this._lView[ht]=e}get destroyed(){return us(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Dr(e)){let t=e[Jl],r=t?t.indexOf(this):-1;r>-1&&(Xa(e,r),Gl(t,r))}this._attachedToViewContainer=!1}Rd(this._lView[ce],this._lView)}onDestroy(e){fC(this._lView,e)}markForCheck(){Hy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){sm(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,xD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Zl(this._lView),t=this._lView[Ui];t!==null&&!e&&jy(t,this._lView),DD(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e;let t=Zl(this._lView),r=this._lView[Ui];r!==null&&!t&&UD(r,this._lView),sm(this._lView)}};var br=(()=>{class n{static __NG_ELEMENT_ID__=yL}return n})(),gL=br,mL=class extends gL{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=Md(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new ec(i)}};function yL(){return Nd(tn(),we())}function Nd(n,e){return n.type&4?new mL(e,n,hs(n,e)):null}function zy(n,e,t,r,i){let o=n.data[e];if(o===null)o=vL(n,e,t,r,i),G1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=$1();o.injectorIndex=s===null?-1:s.injectorIndex}return cc(o,!0),o}function vL(n,e,t,r,i){let o=gC(),s=mC(),a=s?o:o&&o.parent,c=n.data[e]=wL(n,a,t,e,r,i);return _L(n,c,o,s),c}function _L(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function wL(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return U1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var tQ=new RegExp(`^(\\d+)*(${Ok}|${Nk})*(.*)`);var EL=()=>null;function tc(n,e){return EL(n,e)}var IL=class{},jD=class{},Dm=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Gt(e)}.`)}},Od=class{static NULL=new Dm},si=class{},tr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>bL()}return n})();function bL(){let n=we(),e=tn(),t=Gn(e.index,n);return(oi(t)?t:n)[gt]}var TL=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>null})}return n})();var Wg={},Sm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=yd(r);let i=this.injector.get(e,Wg,r);return i!==Wg||t===Wg?i:this.parentInjector.get(e,t,r)}};function hT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Fb(i,a);else if(o==2){let c=a,l=e[++s];r=Fb(r,c+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Y(n,e=me.Default){let t=we();if(t===null)return $(n,e);let r=tn();return OC(r,t,jt(n),e)}function BD(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a,c=null,l=null,h=DL(s);h===null?a=s:[a,c,l]=h,ML(n,e,t,a,o,c,l)}o!==null&&r!==null&&CL(t,r,o)}function CL(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new x(-301,!1);r.push(e[i],o)}}function DL(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let a=n[s];if(s===0&&ci(a)&&(e=a),a.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,SL(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?n:n.slice(1)),[r,i,o]):null}function SL(n,e,t,r){let i=e.length;n.findHostDirectiveDefs(n,e,r),t.set(n,[i,e.length-1])}function AL(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ML(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let g=0;g<a;g++){let m=r[g];!c&&ci(m)&&(c=!0,AL(n,t,g)),lm(nd(t,e),n,m.type)}kL(t,n.data.length,a);for(let g=0;g<a;g++){let m=r[g];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=_D(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let m=r[g];if(t.mergedAttrs=Ey(t.mergedAttrs,m.hostAttrs),PL(n,t,e,p,m),OL(p,m,i),s!==null&&s.has(m)){let[T,A]=s.get(m);t.directiveToIndex.set(m.type,[p,T+t.directiveStart,A+t.directiveStart])}else(o===null||!o.has(m))&&t.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(t.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(t.flags|=64);let _=m.type.prototype;!l&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}RL(n,t,o)}function RL(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))fT(0,e,i,r),fT(1,e,i,r),gT(e,r,!1);else{let o=t.get(i);pT(0,e,o,r),pT(1,e,o,r),gT(e,r,!0)}}}function fT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),$D(e,o)}}function pT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$D(e,s)}}function $D(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function gT(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||xy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let h of l)if(h===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function PL(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Vi(i.type,!0)),s=new Hi(o,ci(i),Y);n.blueprint[r]=s,t[r]=s,xL(n,e,r,_D(n,t,i.hostVars,er),i)}function xL(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;NL(s)!=a&&s.push(a),s.push(t,r,o)}}function NL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function OL(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ci(e)&&(t[""]=n)}}function kL(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HD(n,e,t,r,i,o,s,a){let c=e.consts,l=rs(c,s),h=zy(e,n,2,r,l);return o&&BD(e,t,h,rs(c,a),i),h.mergedAttrs=Ey(h.mergedAttrs,h.attrs),h.attrs!==null&&hT(h,h.attrs,!1),h.mergedAttrs!==null&&hT(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function zD(n,e){CC(n,e),rC(e)&&n.queries.elementEnd(e)}var cd=class extends Od{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Xo(e);return new nc(t,this.ngModule)}};function FL(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ad.SignalBased)!==0};return i&&(o.transform=i),o})}function LL(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function VL(n,e,t){let r=e instanceof bt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Sm(t,r):t}function UL(n){let e=n.get(si,null);if(e===null)throw new x(407,!1);let t=n.get(TL,null),r=n.get(is,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r}}function jL(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return gD(e,t,t==="svg"?cC:t==="math"?M1:null)}var nc=class extends jD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=FL(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=LL(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=mF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i){Ue(22);let o=ve(null);try{let s=this.componentDef,a=r?["ng-version","19.2.13"]:yF(this.componentDef.selectors[0]),c=Ny(0,null,null,1,0,null,null,null,null,[a],null),l=VL(s,i||this.ngModule,e),h=UL(l),p=h.rendererFactory.createRenderer(null,s),g=r?DF(p,r,s.encapsulation,l):jL(s,p),m=Oy(null,c,null,512|vD(s),null,null,h,p,l,null,tD(g,l,!0));m[Bt]=g,py(m);let _=null;try{let T=HD(Bt,c,m,"#host",()=>[this.componentDef],!0,0);g&&(yD(p,g,T),lc(g,m)),Fy(c,m,T),rD(c,T,m),zD(c,T),t!==void 0&&BL(T,this.ngContentSelectors,t),_=Gn(T.index,m),m[ht]=_[ht],Vy(c,m,null)}catch(T){throw _!==null&&ym(_),ym(m),T}finally{Ue(23),gy()}return new Am(this.componentType,m)}finally{ve(o)}}},Am=class extends IL{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=uy(t[ce],Bt),this.location=hs(this._tNode,t),this.instance=Gn(this._tNode.index,t)[ht],this.hostView=this.changeDetectorRef=new ec(t,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Ly(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let s=Gn(r.index,i);Hy(s,1)}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function BL(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Mr=(()=>{class n{static __NG_ELEMENT_ID__=$L}return n})();function $L(){let n=tn();return WD(n,we())}var HL=Mr,qD=class extends HL{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return hs(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Iy(this._hostTNode,this._hostLView);if(AC(e)){let t=ed(e,this._hostLView),r=Xl(e),i=t[ce].data[r+8];return new Li(i,t)}else return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=tc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Za(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!C1(e),a;if(s)a=t;else{let _=t||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}let c=s?e:new nc(Xo(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let T=(s?l:this.parentInjector).get(bt,null);T&&(o=T)}let h=Xo(c.componentType??{}),p=tc(this._lContainer,h?.id??null),g=p?.firstChild??null,m=c.create(l,i,g,o);return this.insertImpl(m.hostView,a,Za(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(x1(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Pt],l=new qD(c,c[On],c[Pt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return xd(s,i,o,r),e.attachToViewContainerRef(),qT(Gg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Xa(this._lContainer,t);r&&(Gl(Gg(this._lContainer),t),Rd(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Xa(this._lContainer,t);return r&&Gl(Gg(this._lContainer),t)!=null?new ec(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mT(n){return n[Jl]}function Gg(n){return n[Jl]||(n[Jl]=[])}function WD(n,e){let t,r=e[n.index];return Dr(r)?t=r:(t=FD(r,e,null,n),e[n.index]=t,ky(e,t)),qL(t,e,n,r),new qD(t,n,e)}function zL(n,e){let t=n[gt],r=t.createComment(""),i=Zn(e,n),o=t.parentNode(i);return sd(t,o,r,t.nextSibling(i),!1),r}var qL=KL,WL=()=>!1;function GL(n,e,t){return WL(n,e,t)}function KL(n,e,t,r){if(n[ji])return;let i;t.type&8?i=Wn(r):i=zL(e,t),n[ji]=i}var Mm=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Rm=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)qy(e,t).matches!==null&&this.queries[t].setDirty()}},ud=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=n2(e):this.predicate=e}},Pm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,QL(t,o)),this.matchTNodeWithReadOption(e,t,Bl(t,e,o,!1,!1))}else r===br?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Bl(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===nn||i===Mr||i===br&&t.type&4)this.addMatch(t.index,-2);else{let o=Bl(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function QL(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function YL(n,e){return n.type&11?hs(n,e):n.type&4?Nd(n,e):null}function JL(n,e,t,r){return t===-1?YL(e,n):t===-2?ZL(n,e,r):Ja(n,n[ce],t,e)}function ZL(n,e,t){if(t===nn)return hs(e,n);if(t===br)return Nd(e,n);if(t===Mr)return WD(e,n)}function GD(n,e,t,r){let i=e[Ir].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let h=o[l];a.push(JL(e,h,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function Nm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=GD(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-c];for(let p=Rt;p<h.length;p++){let g=h[p];g[Ui]===g[Pt]&&Nm(g[ce],g,l,r)}if(h[ns]!==null){let p=h[ns];for(let g=0;g<p.length;g++){let m=p[g];Nm(m[ce],m,l,r)}}}}}return r}function XL(n,e){return n[Ir].queries[e].queryList}function KD(n,e,t){let r=new mm((t&4)===4);return k1(n,e,r,r.destroy),(e[Ir]??=new Rm).queries.push(new Mm(r))-1}function e2(n,e,t){let r=Ct();return r.firstCreatePass&&(QD(r,new ud(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),KD(r,we(),e)}function t2(n,e,t,r){let i=Ct();if(i.firstCreatePass){let o=tn();QD(i,new ud(e,t,r),o.index),r2(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return KD(i,we(),t)}function n2(n){return n.split(",").map(e=>e.trim())}function QD(n,e,t){n.queries===null&&(n.queries=new Pm),n.queries.track(new xm(e,t))}function r2(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function qy(n,e){return n.queries.getByIndex(e)}function i2(n,e){let t=n[ce],r=qy(t,e);return r.crossesNgTemplate?Nm(t,n,e,[]):GD(t,n,r,e)}var os=class{},Wy=class{};var Om=class extends os{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new cd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=KT(e);this._bootstrapComponents=fD(o.bootstrap),this._r3Injector=LC(e,t,[{provide:os,useValue:this},{provide:Od,useValue:this.componentFactoryResolver},...r],Gt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},km=class extends Wy{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Om(this.moduleType,e,[])}};var ld=class extends os{injector;componentFactoryResolver=new cd(this);instance=null;constructor(e){super();let t=new Ka([...e.providers,{provide:os,useValue:this},{provide:Od,useValue:this.componentFactoryResolver}],e.parent||ay(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kd(n,e,t=null){return new ld({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var o2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=QT(!1,t.type),i=r.length>0?kd([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=B({token:n,providedIn:"environment",factory:()=>new n($(bt))})}return n})();function ft(n){return oc(()=>{let e=YD(n),t=Pe(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===WC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(o2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kn.Emulated,styles:n.styles||Rn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&fs("NgStandalone"),JD(t);let r=n.dependencies;return t.directiveDefs=yT(r,!1),t.pipeDefs=yT(r,!0),t.id=l2(t),t})}function s2(n){return Xo(n)||f1(n)}function a2(n){return n!==null}function Rr(n){return oc(()=>({type:n.type,bootstrap:n.bootstrap||Rn,declarations:n.declarations||Rn,imports:n.imports||Rn,exports:n.exports||Rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function c2(n,e){if(n==null)return Zo;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Ad.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function u2(n){if(n==null)return Zo;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function on(n){return oc(()=>{let e=YD(n);return JD(e),e})}function Fd(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function YD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Zo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Rn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:c2(n.inputs,e),outputs:u2(n.outputs),debugInfo:null}}function JD(n){n.features?.forEach(e=>e(n))}function yT(n,e){if(!n)return null;let t=e?p1:s2;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(a2)}function l2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZD(n){return Gy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function d2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Gy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function hc(n,e,t){return n[e]=t}function XD(n,e){return n[e]}function Yn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Fm(n,e,t,r){let i=Yn(n,e,t);return Yn(n,e+1,r)||i}function eS(n,e,t,r,i,o){let s=Fm(n,e,t,r);return Fm(n,e+2,i,o)||s}function h2(n,e,t,r,i,o,s,a,c){let l=e.consts,h=zy(e,n,4,s||null,a||null);pC()&&BD(e,t,h,rs(l,c),TD),h.mergedAttrs=Ey(h.mergedAttrs,h.attrs),CC(e,h);let p=h.tView=Ny(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Lm(n,e,t,r,i,o,s,a,c,l){let h=t+Bt,p=e.firstCreatePass?h2(h,e,n,r,i,o,s,a,c):e.data[h];cc(p,!1);let g=f2(e,n,p,t);_y()&&By(e,n,g,p),lc(g,n);let m=FD(g,n,g,p);return n[h]=m,ky(n,m),GL(m,p,n),cy(p)&&Fy(e,n,p),c!=null&&ID(n,p,l),p}function Ee(n,e,t,r,i,o,s,a){let c=we(),l=Ct(),h=rs(l.consts,o);return Lm(c,l,n,e,t,r,i,h,s,a),Ee}var f2=p2;function p2(n,e,t,r){return wy(!0),e[gt].createComment("")}var tS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var nS=new K("");var g2=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:()=>new Vm})}return n})(),Vm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function ps(n){return!!n&&typeof n.then=="function"}function Ky(n){return!!n&&typeof n.subscribe=="function"}var m2=new K("");var rS=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=F(m2,{optional:!0})??[];injector=F(Kt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Tt(this.injector,i);if(ps(o))t.push(o);else if(Ky(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qy=new K("");function y2(){pg(()=>{throw new x(600,!1)})}function v2(n){return n.isBoundToModule}var _2=10;var zi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(Tk);afterRenderManager=F(Fk);zonelessEnabled=F(UC);rootEffectScheduler=F(g2);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _e;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=F(Xn).hasPendingTasks.pipe(te(t=>!t));constructor(){F(Td,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=F(bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Kt.NULL){Ue(10);let o=t instanceof jD;if(!this._injector.get(rS).done){let m="";throw new x(405,m)}let a;o?a=t:a=this._injector.get(Od).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let c=v2(a)?void 0:this._injector.get(os),l=r||a.selector,h=a.create(i,[],l,c),p=h.location.nativeElement,g=h.injector.get(nS,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),$l(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),Ue(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ue(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eD.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let t=ve(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ve(t),this.afterTick.next(),Ue(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(si,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<_2;)Ue(14),this.synchronizeOnce(),Ue(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)w2(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>wd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$l(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qy,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$l(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $l(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function w2(n,e,t,r){if(!t&&!wd(n))return;xD(n,e,t&&!r?0:1)}function Ld(n,e,t,r){let i=we(),o=uc();if(Yn(i,o,e)){let s=Ct(),a=my();OF(a,i,n,e,t,r)}return Ld}function iS(n,e,t,r){return Yn(n,uc(),t)?e+sc(t)+r:er}function Ll(n,e){return n<<17|e<<2}function qi(n){return n>>17&32767}function E2(n){return(n&2)==2}function I2(n,e){return n&131071|e<<17}function Um(n){return n|2}function ss(n){return(n&131068)>>2}function Kg(n,e){return n&-131069|e<<2}function b2(n){return(n&1)===1}function jm(n){return n|1}function T2(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=qi(s),c=ss(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ac(p,h)>0)&&(l=!0)}else h=t;if(i)if(c!==0){let g=qi(n[a+1]);n[r+1]=Ll(g,a),g!==0&&(n[g+1]=Kg(n[g+1],r)),n[a+1]=I2(n[a+1],r)}else n[r+1]=Ll(a,0),a!==0&&(n[a+1]=Kg(n[a+1],r)),a=r;else n[r+1]=Ll(c,0),a===0?a=r:n[c+1]=Kg(n[c+1],r),c=r;l&&(n[r+1]=Um(n[r+1])),vT(n,h,r,!0),vT(n,h,r,!1),C2(e,h,n,r,o),s=Ll(a,c),o?e.classBindings=s:e.styleBindings=s}function C2(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ac(o,e)>=0&&(t[r+1]=jm(t[r+1]))}function vT(n,e,t,r){let i=n[t+1],o=e===null,s=r?qi(i):ss(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],l=n[s+1];D2(c,e)&&(a=!0,n[s+1]=r?jm(l):Um(l)),s=r?qi(l):ss(l)}a&&(n[t+1]=r?Um(i):jm(i))}function D2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ac(n,e)>=0:!1}function q(n,e,t){let r=we(),i=uc();if(Yn(r,i,e)){let o=Ct(),s=my();bD(o,s,r,n,e,r[gt],t,!1)}return q}function _T(n,e,t,r,i){Ly(e,n,t,i?"class":"style",r)}function fc(n,e,t){return oS(n,e,t,!1),fc}function Yy(n,e){return oS(n,e,null,!0),Yy}function oS(n,e,t,r){let i=we(),o=Ct(),s=W1(2);if(o.firstUpdatePass&&A2(o,n,s,r),e!==er&&Yn(i,s,e)){let a=o.data[Wi()];N2(o,a,i,i[gt],n,i[s+1]=O2(e,t),r,s)}}function S2(n,e){return e>=n.expandoStartIndex}function A2(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Wi()],s=S2(n,t);k2(o,r)&&e===null&&!s&&(e=!1),e=M2(i,o,e,r),T2(i,o,e,t,s,r)}}function M2(n,e,t,r){let i=Y1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Qg(null,n,e,t,r),t=rc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Qg(i,n,e,t,r),o===null){let c=R2(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Qg(null,n,e,c[1],r),c=rc(c,e.attrs,r),P2(n,e,r,c))}else o=x2(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function R2(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ss(r)!==0)return n[qi(r)]}function P2(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[qi(i)]=r}function x2(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=rc(r,s,t)}return rc(r,e.attrs,t)}function Qg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=rc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function rc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),d1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function N2(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,l=c[a+1],h=b2(l)?wT(c,e,t,i,ss(l),s):void 0;if(!dd(h)){dd(o)||E2(l)&&(o=wT(c,null,t,i,a,s));let p=uC(Wi(),t);eL(r,s,p,i,o)}}function wT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],l=Array.isArray(c),h=l?c[1]:c,p=h===null,g=t[i+1];g===er&&(g=p?Rn:void 0);let m=p?Ug(g,r):h===r?g:void 0;if(l&&!dd(m)&&(m=Ug(c,r)),dd(m)&&(a=m,s))return a;let _=n[i+1];i=s?qi(_):ss(_)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ug(c,r))}return a}function dd(n){return n!==void 0}function O2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Gt(Dd(n)))),n}function k2(n,e){return(n.flags&(e?8:16))!==0}var Bm=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Yg(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function F2(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let l=n.at(o),h=e[o],p=Yg(o,l,o,h,t);if(p!==0){p<0&&n.updateValue(o,h),o++;continue}let g=n.at(s),m=e[c],_=Yg(s,g,c,m,t);if(_!==0){_<0&&n.updateValue(s,m),s--,c--;continue}let T=t(o,l),A=t(s,g),O=t(o,h);if(Object.is(O,A)){let H=t(c,m);Object.is(H,T)?(n.swap(o,s),n.updateValue(s,m),c--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new hd,i??=IT(n,o,s,t),$m(n,r,o,O))n.updateValue(o,h),o++,s++;else if(i.has(O))r.set(T,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)ET(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&o<=s;){let h=n.at(o),p=l.value,g=Yg(o,h,o,p,t);if(g!==0)g<0&&n.updateValue(o,p),o++,l=c.next();else{r??=new hd,i??=IT(n,o,s,t);let m=t(o,p);if($m(n,r,o,m))n.updateValue(o,p),o++,s++,l=c.next();else if(!i.has(m))n.attach(o,n.create(o,p)),o++,s++,l=c.next();else{let _=t(o,h);r.set(_,n.detach(o)),s--}}}for(;!l.done;)ET(n,r,t,n.length,l.value),l=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function $m(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function ET(n,e,t,r,i){if($m(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function IT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var hd=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Vd(n,e){fs("NgControlFlow");let t=we(),r=uc(),i=t[r]!==er?t[r]:-1,o=i!==-1?fd(t,Bt+i):void 0,s=0;if(Yn(t,r,n)){let a=ve(null);try{if(o!==void 0&&VD(o,s),n!==-1){let c=Bt+n,l=fd(t,c),h=Wm(t[ce],c),p=tc(l,h.tView.ssrId),g=Md(t,h,e,{dehydratedView:p});xd(l,g,s,Za(h,p))}}finally{ve(a)}}else if(o!==void 0){let a=LD(o,s);a!==void 0&&(a[ht]=e)}}var Hm=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Rt}};var zm=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Jy(n,e,t,r,i,o,s,a,c,l,h,p,g){fs("NgControlFlow");let m=we(),_=Ct(),T=c!==void 0,A=we(),O=a?s.bind(A[xn][ht]):s,H=new zm(T,O);A[Bt+n]=H,Lm(m,_,n+1,e,t,r,i,rs(_.consts,o)),T&&Lm(m,_,n+2,c,l,h,p,rs(_.consts,g))}var qm=class extends Bm{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Rt}at(e){return this.getLView(e)[ht].$implicit}attach(e,t){let r=t[Qa];this.needsIndexUpdate||=e!==this.length,xd(this.lContainer,t,e,Za(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,L2(this.lContainer,e)}create(e,t){let r=tc(this.lContainer,this.templateTNode.tView.ssrId),i=Md(this.hostLView,this.templateTNode,new Hm(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Rd(e[ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ht].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ht].$index=e}getLView(e){return V2(this.lContainer,e)}};function Zy(n){let e=ve(null),t=Wi();try{let r=we(),i=r[ce],o=r[t],s=t+1,a=fd(r,s);if(o.liveCollection===void 0){let l=Wm(i,s);o.liveCollection=new qm(a,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(F2(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=uc(),h=c.length===0;if(Yn(r,l,h)){let p=t+2,g=fd(r,p);if(h){let m=Wm(i,p),_=tc(g,m.tView.ssrId),T=Md(r,m,void 0,{dehydratedView:_});xd(g,T,0,Za(m,_))}else VD(g,0)}}}finally{ve(e)}}function fd(n,e){return n[e]}function L2(n,e){return Xa(n,e)}function V2(n,e){return LD(n,e)}function Wm(n,e){return uy(n,e)}function P(n,e,t,r){let i=we(),o=Ct(),s=Bt+n,a=i[gt],c=o.firstCreatePass?HD(s,o,i,e,TD,pC(),t,r):o.data[s],l=U2(o,i,c,a,e,n);i[s]=l;let h=cy(c);return cc(c,!0),yD(a,l,c),!CD(c)&&_y()&&By(o,i,l,c),(F1()===0||h)&&lc(l,i),L1(),h&&(Fy(o,i,c),rD(o,c,i)),r!==null&&ID(i,c),P}function N(){let n=tn();mC()?H1():(n=n.parent,cc(n,!1));let e=n;j1(e)&&B1(),V1();let t=Ct();return t.firstCreatePass&&zD(t,e),e.classesWithoutHost!=null&&rk(e)&&_T(t,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ik(e)&&_T(t,e,we(),e.stylesWithoutHost,!1),N}function fe(n,e,t,r){return P(n,e,t,r),N(),fe}var U2=(n,e,t,r,i,o)=>(wy(!0),gD(r,i,ek()));function vn(){return we()}var pd="en-US";var j2=pd;function B2(n){typeof n=="string"&&(j2=n.toLowerCase().replace(/_/g,"-"))}function bT(n,e,t){return function r(i){if(i===Function)return t;let o=cs(n)?Gn(n.index,e):e;Hy(o,5);let s=e[ht],a=TT(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=TT(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function TT(n,e,t,r){let i=ve(null);try{return Ue(6,e,t),t(r)!==!1}catch(o){return $2(n,o),!1}finally{Ue(7,e,t),ve(i)}}function $2(n,e){let t=n[ts],r=t?t.get(Nn,null):null;r&&r.handleError(e)}function CT(n,e,t,r,i,o){let s=e[t],a=e[ce],l=a.data[t].outputs[r],h=s[l],p=a.firstCreatePass?hy(a):null,g=dy(e),m=h.subscribe(o),_=g.length;g.push(o,m),p&&p.push(i,n.index,_,-(_+1))}function He(n,e,t,r){let i=we(),o=Ct(),s=tn();return z2(o,i,i[gt],s,n,e,r),He}function H2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ql],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function z2(n,e,t,r,i,o,s){let a=cy(r),l=n.firstCreatePass?hy(n):null,h=dy(e),p=!0;if(r.type&3||s){let g=Zn(r,e),m=s?s(g):g,_=h.length,T=s?O=>s(Wn(O[r.index])):r.index,A=null;if(!s&&a&&(A=H2(n,e,i,r.index)),A!==null){let O=A.__ngLastListenerFn__||A;O.__ngNextListenerFn__=o,A.__ngLastListenerFn__=o,p=!1}else{o=bT(r,e,o),Vk(e,m,i,o);let O=t.listen(m,i,o);h.push(o,O),l&&l.push(i,T,_,_+1)}}else o=bT(r,e,o);if(p){let g=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let _=0;_<m.length;_+=2){let T=m[_],A=m[_+1];CT(r,e,T,A,i,o)}if(g&&g.length)for(let _ of g)CT(r,e,_,i,i,o)}}function Ie(n=1){return Z1(n)}function Xy(n,e,t){return sS(n,"",e,"",t),Xy}function sS(n,e,t,r,i){let o=we(),s=iS(o,e,t,r);if(s!==er){let a=Ct(),c=my();bD(a,c,o,n,s,o[gt],i,!1)}return sS}function Ud(n,e,t,r){t2(n,e,t,r)}function aS(n,e,t){e2(n,e,t)}function gs(n){let e=we(),t=Ct(),r=vC();fy(r+1);let i=qy(t,r);if(n.dirty&&P1(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=i2(e,r);n.reset(o,Sk),n.notifyOnChanges()}return!0}return!1}function ms(){return XL(we(),vC())}function Gi(n){let e=z1();return lC(e,Bt+n)}function Z(n,e=""){let t=we(),r=Ct(),i=n+Bt,o=r.firstCreatePass?zy(r,i,1,e,null):r.data[i],s=q2(r,t,o,e,n);t[i]=s,_y()&&By(r,t,s,o),cc(o,!1)}var q2=(n,e,t,r,i)=>(wy(!0),vF(e[gt],r));function it(n){return ui("",n,""),it}function ui(n,e,t){let r=we(),i=iS(r,n,e,t);return i!==er&&W2(r,Wi(),i),ui}function W2(n,e,t){let r=uC(e,n);_F(n[gt],r,t)}function G2(n,e,t){let r=Ct();if(r.firstCreatePass){let i=ci(n);Gm(t,r.data,r.blueprint,i,!0),Gm(e,r.data,r.blueprint,i,!1)}}function Gm(n,e,t,r,i){if(n=jt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Gm(n[o],e,t,r,i);else{let o=Ct(),s=we(),a=tn(),c=es(n)?n:jt(n.provide),l=ZT(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(es(n)||!n.multi){let m=new Hi(l,i,Y),_=Zg(c,e,i?h:h+g,p);_===-1?(lm(nd(a,s),o,c),Jg(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[_]=m,s[_]=m)}else{let m=Zg(c,e,h+g,p),_=Zg(c,e,h,h+g),T=m>=0&&t[m],A=_>=0&&t[_];if(i&&!A||!i&&!T){lm(nd(a,s),o,c);let O=Y2(i?Q2:K2,t.length,i,r,l);!i&&A&&(t[_].providerFactory=O),Jg(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=cS(t[i?_:m],l,!i&&r);Jg(o,n,m>-1?m:_,O)}!i&&r&&A&&t[_].componentProviders++}}}function Jg(n,e,t,r){let i=es(e),o=_1(e);if(i||o){let c=(o?jt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,c]):l[h+1].push(r,c)}else l.push(t,c)}}}function cS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Zg(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function K2(n,e,t,r,i){return Km(this.multi,[])}function Q2(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Ja(r,r[ce],this.providerFactory.index,i);s=c.slice(0,a),Km(o,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],Km(o,s);return s}function Km(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function Y2(n,e,t,r,i){let o=new Hi(n,t,Y);return o.multi=[],o.index=e,o.componentProviders=0,cS(o,i,r&&!t),o}function uS(n,e=[]){return t=>{t.providersResolver=(r,i)=>G2(r,i?i(n):n,e)}}function ev(n,e,t){let r=ls()+n,i=we();return i[r]===er?hc(i,r,t?e.call(t):e()):XD(i,r)}function Ki(n,e,t,r){return dS(we(),ls(),n,e,t,r)}function jd(n,e,t,r,i){return J2(we(),ls(),n,e,t,r,i)}function lS(n,e,t,r,i,o,s){return Z2(we(),ls(),n,e,t,r,i,o,s)}function tv(n,e,t,r,i,o,s,a){let c=ls()+n,l=we(),h=eS(l,c,t,r,i,o);return Yn(l,c+4,s)||h?hc(l,c+5,a?e.call(a,t,r,i,o,s):e(t,r,i,o,s)):XD(l,c+5)}function nv(n,e){let t=n[e];return t===er?void 0:t}function dS(n,e,t,r,i,o){let s=e+t;return Yn(n,s,i)?hc(n,s+1,o?r.call(o,i):r(i)):nv(n,s+1)}function J2(n,e,t,r,i,o,s){let a=e+t;return Fm(n,a,i,o)?hc(n,a+2,s?r.call(s,i,o):r(i,o)):nv(n,a+2)}function Z2(n,e,t,r,i,o,s,a,c){let l=e+t;return eS(n,l,i,o,s,a)?hc(n,l+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):nv(n,l+4)}function mt(n,e){let t=Ct(),r,i=n+Bt;t.firstCreatePass?(r=X2(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Vi(r.type,!0)),s,a=Wt(Y);try{let c=td(!1),l=o();return td(c),R1(t,we(),i,l),l}finally{Wt(a)}}function X2(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function yt(n,e,t){let r=n+Bt,i=we(),o=lC(i,r);return eV(i,r)?dS(i,ls(),e,o.transform,t,o):o.transform(t)}function eV(n,e){return n[ce].data[e].pure}function Qi(n,e){return Nd(n,e)}var ic=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},hS=new ic("19.2.13"),Qm=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},fS=(()=>{class n{compileModuleSync(t){return new km(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=KT(t),o=fD(i.declarations).reduce((s,a)=>{let c=Xo(a);return c&&s.push(new nc(c)),s},[]);return new Qm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tV=(()=>{class n{zone=F(xe);changeDetectionScheduler=F(is);applicationRef=F(zi);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nV({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new xe(Pe(U({},rV()),{scheduleInRootZone:t})),[{provide:xe,useFactory:n},{provide:Ga,multi:!0,useFactory:()=>{let r=F(tV,{optional:!0});return()=>r.initialize()}},{provide:Ga,multi:!0,useFactory:()=>{let r=F(iV);return()=>{r.initialize()}}},e===!0?{provide:jC,useValue:!0}:[],{provide:BC,useValue:t??VC}]}function rV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var iV=(()=>{class n{subscription=new et;initialized=!1;zone=F(xe);pendingTasks=F(Xn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oV=(()=>{class n{appRef=F(zi);taskService=F(Xn);ngZone=F(xe);zonelessEnabled=F(UC);tracing=F(Td,{optional:!0});disableScheduling=F(jC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new et;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(id):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(BC,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Jb:$C;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(id+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sV(){return typeof $localize<"u"&&$localize.locale||pd}var rv=new K("",{providedIn:"root",factory:()=>F(rv,me.Optional|me.SkipSelf)||sV()});var Ym=new K(""),aV=new K("");function $a(n){return!n.moduleRef}function cV(n){let e=$a(n)?n.r3Injector:n.moduleRef.injector,t=e.get(xe);return t.run(()=>{$a(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Nn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),$a(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ym);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ym);s.add(o),n.moduleRef.onDestroy(()=>{$l(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return lV(r,t,()=>{let o=e.get(rS);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(rv,pd);if(B2(s||pd),!e.get(aV,!0))return $a(n)?e.get(zi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if($a(n)){let c=e.get(zi);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return uV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function uV(n,e){let t=n.injector.get(zi);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new x(-403,!1);e.push(n)}function lV(n,e,t){try{let r=t();return ps(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Hl=null;function dV(n=[],e){return Kt.create({name:e,providers:[{provide:vd,useValue:"platform"},{provide:Ym,useValue:new Set([()=>Hl=null])},...n]})}function hV(n=[]){if(Hl)return Hl;let e=dV(n);return Hl=e,y2(),fV(e),e}function fV(n){let e=n.get(Sy,null);Tt(n,()=>{e?.forEach(t=>t())})}function pc(){return!1}var li=(()=>{class n{static __NG_ELEMENT_ID__=pV}return n})();function pV(n){return gV(tn(),we(),(n&16)===16)}function gV(n,e,t){if(cs(n)&&!t){let r=Gn(n.index,e);return new ec(r,r)}else if(n.type&175){let r=e[xn];return new ec(r,e)}return null}var Jm=class{constructor(){}supports(e){return ZD(e)}create(e){return new Zm(e)}},mV=(n,e)=>e,Zm=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||mV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<DT(r,i,o)?t:r,a=DT(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=c-i;if(l!=h){for(let g=0;g<l;g++){let m=g<o.length?o[g]:o[g]=0,_=m+g;h<=_&&_<l&&(o[g]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!ZD(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,d2(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Xm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new gd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new gd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Xm=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ey=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},gd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ey,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function DT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var ty=class{constructor(){}supports(e){return e instanceof Map||Gy(e)}create(){return new ny}},ny=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Gy(e)))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ry(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ry=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function ST(){return new iv([new Jm])}var iv=(()=>{class n{factories;static \u0275prov=B({token:n,providedIn:"root",factory:ST});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ST()),deps:[[n,new zT,new Jn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new x(901,!1)}}return n})();function AT(){return new ov([new ty])}var ov=(()=>{class n{static \u0275prov=B({token:n,providedIn:"root",factory:AT});factories;constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||AT()),deps:[[n,new zT,new Jn]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new x(901,!1)}}return n})();function pS(n){Ue(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=hV(r),o=[nV({}),{provide:is,useExisting:oV},...t||[]],s=new ld({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return cV({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Ue(9)}}function Bd(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function $d(n){return yg(n)}var MT=class{[Oo];constructor(e){this[Oo]=e}destroy(){this[Oo].destroy()}};var at=new K("");var yS=null;function Pr(){return yS}function sv(n){yS??=n}var gc=class{},av=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(vS),providedIn:"platform"})}return n})();var vS=(()=>{class n extends av{_location;_history;_doc=F(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(t){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function _S(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function di(n){return n&&n[0]!=="?"?`?${n}`:n}var Yi=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(ES),providedIn:"root"})}return n})(),wS=new K(""),ES=(()=>{class n extends Yi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _S(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+di(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+di(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)($(av),$(wS,8))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ys=(()=>{class n{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_V(gS(mS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+di(r))}normalize(t){return n.stripTrailingSlash(vV(this._basePath,mS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+di(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=di;static joinWithSlash=_S;static stripTrailingSlash=gS;static \u0275fac=function(r){return new(r||n)($(Yi))};static \u0275prov=B({token:n,factory:()=>yV(),providedIn:"root"})}return n})();function yV(){return new ys($(Yi))}function vV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function mS(n){return n.replace(/\/index.html$/,"")}function _V(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var cv=/\s+/,IS=[],qd=(()=>{class n{_ngEl;_renderer;initialClasses=IS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(cv):IS}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(cv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(cv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Y(nn),Y(tr))};static \u0275dir=on({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Hd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hi=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Hd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),bS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);bS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(Mr),Y(br),Y(iv))};static \u0275dir=on({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function bS(n,e){n.context.$implicit=e.item}var xr=(()=>{class n{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Y(Mr),Y(br))};static \u0275dir=on({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zd=class{$implicit=null;ngIf=null};function TS(n,e){if(n&&!n.createEmbeddedView)throw new x(2020,!1)}var dv=(()=>{class n{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:Qn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||n)(Y(nn),Y(ov),Y(tr))};static \u0275dir=on({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return n})(),hv=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Y(Mr))};static \u0275dir=on({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Sr]})}return n})();function wV(n,e){return new x(2100,!1)}var uv=class{createSubscription(e,t){return $d(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){$d(()=>e.unsubscribe())}},lv=class{createSubscription(e,t){return e.then(r=>t?.(r),r=>{throw r}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},EV=new lv,IV=new uv,Ji=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(ps(t))return EV;if(Ky(t))return IV;throw wV(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||n)(Y(li,16))};static \u0275pipe=Fd({name:"async",type:n,pure:!1})}return n})();var Ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rr({type:n});static \u0275inj=Tr({})}return n})();function mc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Wd="browser",CS="server";function Nr(n){return n===Wd}function Gd(n){return n===CS}var Zi=class{};var Yd=new K(""),mv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)($(Yd),$(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),yc=class{_doc;constructor(e){this._doc=e}manager},Kd="ng-app-id";function DS(n){for(let e of n)e.remove()}function SS(n,e){let t=e.createElement("style");return t.textContent=n,t}function bV(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Kd}="${e}"],link[${Kd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Kd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function pv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var yv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Gd(o),bV(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,SS);r?.forEach(i=>this.addUsage(i,this.external,pv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(DS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])DS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,SS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,pv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Kd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)($(at),$(Dy),$(My,8),$($t))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),fv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vv=/%COMP%/g;var MS="%COMP%",TV=`_nghost-${MS}`,CV=`_ngcontent-${MS}`,DV=!0,SV=new K("",{providedIn:"root",factory:()=>DV});function AV(n){return CV.replace(vv,n)}function MV(n){return TV.replace(vv,n)}function RS(n,e){return e.map(t=>t.replace(vv,n))}var wc=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=h,this.platformIsServer=Gd(a),this.defaultRenderer=new vc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kn.ShadowDom&&(r=Pe(U({},r),{encapsulation:Kn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Qd?i.applyToHost(t):i instanceof _c&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Kn.Emulated:o=new Qd(c,l,r,this.appId,h,s,a,p,g);break;case Kn.ShadowDom:return new gv(c,l,t,r,s,a,this.nonce,p,g);default:o=new _c(c,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)($(mv),$(yv),$(Dy),$(SV),$(at),$($t),$(xe),$(My),$(Td,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),vc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(fv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(AS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(AS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(t,r,i&Qn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Qn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Pr().getGlobalEventTarget(this.doc,e),!e))throw new x(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function AS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var gv=class extends vc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=RS(i.id,h);for(let g of h){let m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}let p=i.getExternalStyles?.();if(p)for(let g of p){let m=pv(g,o);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_c=class extends vc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?RS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Qd=class extends _c{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,c,l,h),this.contentAttr=AV(h),this.hostAttr=MV(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Jd=class n extends gc{supportsDOMEvents=!0;static makeCurrent(){sv(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RV();return t==null?null:PV(t)}resetBaseElement(){Ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mc(document.cookie,e)}},Ec=null;function RV(){return Ec=Ec||document.head.querySelector("base"),Ec?Ec.getAttribute("href"):null}function PV(n){return new URL(n,document.baseURI).pathname}var xV=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),xS=(()=>{class n extends yc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)($(at))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),PS=["alt","control","meta","shift"],NV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},NS=(()=>{class n extends yc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),PS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=NV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),PS.forEach(s=>{if(s!==i){let a=OV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)($(at))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function _v(n,e){return pS(U({rootComponent:n},kV(e)))}function kV(n){return{appProviders:[...jV,...n?.providers??[]],platformProviders:UV}}function FV(){Jd.makeCurrent()}function LV(){return new Nn}function VV(){return JC(document),document}var UV=[{provide:$t,useValue:Wd},{provide:Sy,useValue:FV,multi:!0},{provide:at,useFactory:VV}];var jV=[{provide:vd,useValue:"root"},{provide:Nn,useFactory:LV},{provide:Yd,useClass:xS,multi:!0,deps:[at]},{provide:Yd,useClass:NS,multi:!0,deps:[at]},wc,yv,mv,{provide:si,useExisting:wc},{provide:Zi,useClass:xV},[]];var ws=class{},bc=class{},Xi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Xd=class{encodeKey(e){return OS(e)}encodeValue(e){return OS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function BV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var $V=/%(\d[a-f0-9])/gi,HV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OS(n){return encodeURIComponent(n).replace($V,(e,t)=>HV[t]??e)}function Zd(n){return`${n}`}var fi=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Xd,e.fromString){if(e.fromObject)throw new x(2805,!1);this.map=BV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Zd):[Zd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Zd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Zd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var eh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function zV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function FS(n){return typeof Blob<"u"&&n instanceof Blob}function LS(n){return typeof FormData<"u"&&n instanceof FormData}function qV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var VS="Content-Type",US="Accept",BS="X-Request-URL",$S="text/plain",HS="application/json",WV=`${HS}, ${$S}, */*`,Ic=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(zV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Xi,this.context??=new eh,!this.params)this.params=new fi,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kS(this.body)||FS(this.body)||LS(this.body)||qV(this.body)?this.body:this.body instanceof fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||LS(this.body)?null:FS(this.body)?this.body.type||null:kS(this.body)?null:typeof this.body=="string"?$S:this.body instanceof fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?HS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new n(t,r,s,{params:h,headers:l,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},_s=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_s||{}),Es=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Xi,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},th=class n extends Es{constructor(e={}){super(e)}type=_s.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nh=class n extends Es{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_s.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rh=class extends Es{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},GV=200,KV=204;function wv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var QV=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ic)o=t;else{let c;i.headers instanceof Xi?c=i.headers:c=new Xi(i.headers);let l;i.params&&(i.params instanceof fi?l=i.params:l=new fi({fromObject:i.params})),o=new Ic(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=ee(o).pipe(wr(c=>this.handler.handle(c)));if(t instanceof Ic||i.observe==="events")return s;let a=s.pipe(Ke(c=>c instanceof nh));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new x(2806,!1);return c.body}));case"blob":return a.pipe(te(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new x(2807,!1);return c.body}));case"text":return a.pipe(te(c=>{if(c.body!==null&&typeof c.body!="string")throw new x(2808,!1);return c.body}));case"json":default:return a.pipe(te(c=>c.body))}case"response":return a;default:throw new x(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new fi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,wv(i,r))}post(t,r,i={}){return this.request("POST",t,wv(i,r))}put(t,r,i={}){return this.request("PUT",t,wv(i,r))}static \u0275fac=function(r){return new(r||n)($(ws))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var YV=new K("");function zS(n,e){return e(n)}function JV(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function ZV(n,e,t){return(r,i)=>Tt(t,()=>e(r,o=>n(o,i)))}var qS=new K(""),Iv=new K(""),XV=new K(""),bv=new K("",{providedIn:"root",factory:()=>!0});function e4(){let n=null;return(e,t)=>{n===null&&(n=(F(qS,{optional:!0})??[]).reduceRight(JV,zS));let r=F(Xn);if(F(bv)){let o=r.add();return n(e,t).pipe(ri(()=>r.remove(o)))}else return n(e,t)}}var ih=(()=>{class n extends ws{backend;injector;chain=null;pendingTasks=F(Xn);contributeToStability=F(bv);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Iv),...this.injector.get(XV,[])]));this.chain=r.reduceRight((i,o)=>ZV(i,o,this.injector),zS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ri(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)($(bc),$(bt))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var t4=/^\)\]\}',?\n/,n4=RegExp(`^${BS}:`,"m");function r4(n){return"responseURL"in n&&n.responseURL?n.responseURL:n4.test(n.getAllResponseHeaders())?n.getResponseHeader(BS):null}var Ev=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ke(r.\u0275loadImpl()):ee(null)).pipe(nt(()=>new de(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((T,A)=>s.setRequestHeader(T,A.join(","))),t.headers.has(US)||s.setRequestHeader(US,WV),!t.headers.has(VS)){let T=t.detectContentTypeHeader();T!==null&&s.setRequestHeader(VS,T)}if(t.responseType){let T=t.responseType.toLowerCase();s.responseType=T!=="json"?T:"text"}let a=t.serializeBody(),c=null,l=()=>{if(c!==null)return c;let T=s.statusText||"OK",A=new Xi(s.getAllResponseHeaders()),O=r4(s)||t.url;return c=new th({headers:A,status:s.status,statusText:T,url:O}),c},h=()=>{let{headers:T,status:A,statusText:O,url:H}=l(),z=null;A!==KV&&(z=typeof s.response>"u"?s.responseText:s.response),A===0&&(A=z?GV:0);let ie=A>=200&&A<300;if(t.responseType==="json"&&typeof z=="string"){let ze=z;z=z.replace(t4,"");try{z=z!==""?JSON.parse(z):null}catch(le){z=ze,ie&&(ie=!1,z={error:le,text:z})}}ie?(o.next(new nh({body:z,headers:T,status:A,statusText:O,url:H||void 0})),o.complete()):o.error(new rh({error:z,headers:T,status:A,statusText:O,url:H||void 0}))},p=T=>{let{url:A}=l(),O=new rh({error:T,status:s.status||0,statusText:s.statusText||"Unknown Error",url:A||void 0});o.error(O)},g=!1,m=T=>{g||(o.next(l()),g=!0);let A={type:_s.DownloadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),t.responseType==="text"&&s.responseText&&(A.partialText=s.responseText),o.next(A)},_=T=>{let A={type:_s.UploadProgress,loaded:T.loaded};T.lengthComputable&&(A.total=T.total),o.next(A)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",m),a!==null&&s.upload&&s.upload.addEventListener("progress",_)),s.send(a),o.next({type:_s.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",m),a!==null&&s.upload&&s.upload.removeEventListener("progress",_)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)($(Zi))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),WS=new K(""),i4="XSRF-TOKEN",o4=new K("",{providedIn:"root",factory:()=>i4}),s4="X-XSRF-TOKEN",a4=new K("",{providedIn:"root",factory:()=>s4}),Tc=class{},c4=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=mc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)($(at),$(o4))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function u4(n,e){let t=n.url.toLowerCase();if(!F(WS)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=F(Tc).getToken(),i=F(a4);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Tv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Tv||{});function l4(n,e){return{\u0275kind:n,\u0275providers:e}}function Cv(...n){let e=[QV,Ev,ih,{provide:ws,useExisting:ih},{provide:bc,useFactory:()=>F(YV,{optional:!0})??F(Ev)},{provide:Iv,useValue:u4,multi:!0},{provide:WS,useValue:!0},{provide:Tc,useClass:c4}];for(let t of n)e.push(...t.\u0275providers);return ai(e)}var jS=new K("");function Dv(){return l4(Tv.LegacyInterceptors,[{provide:jS,useFactory:e4},{provide:Iv,useExisting:jS,multi:!0}])}var GS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)($(at))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",Vc=Symbol("RouteTitle"),Pv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function no(n){return new Pv(n)}function tA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function h4(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nr(n[t],e[t]))return!1;return!0}function nr(n,e){let t=n?xv(n):void 0,r=e?xv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!nA(n[i],e[i]))return!1;return!0}function xv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function nA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function rA(n){return n.length>0?n[n.length-1]:null}function mi(n){return Pg(n)?n:ps(n)?ke(Promise.resolve(n)):ee(n)}var f4={exact:oA,subset:sA},iA={exact:p4,subset:g4,ignored:()=>!0};function KS(n,e,t){return f4[t.paths](n.root,e.root,t.matrixParams)&&iA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function p4(n,e){return nr(n,e)}function oA(n,e,t){if(!eo(n.segments,e.segments)||!ah(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!oA(n.children[r],e.children[r],t))return!1;return!0}function g4(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>nA(n[t],e[t]))}function sA(n,e,t){return aA(n,e,e.segments,t)}function aA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!eo(i,t)||e.hasChildren()||!ah(i,t,r))}else if(n.segments.length===t.length){if(!eo(n.segments,t)||!ah(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!sA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!eo(n.segments,i)||!ah(n.segments,i,r)||!n.children[pe]?!1:aA(n.children[pe],e,o,r)}}function ah(n,e,t){return e.every((r,i)=>iA[t](n[i].parameters,r.parameters))}var ir=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ne([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){return v4.serialize(this)}},Ne=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}},pi=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=no(this.parameters),this._parameterMap}toString(){return uA(this)}};function m4(n,e){return eo(n,e)&&n.every((t,r)=>nr(t.parameters,e[r].parameters))}function eo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function y4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var Uc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>new ro,providedIn:"root"})}return n})(),ro=class{parse(e){let t=new Ov(e);return new ir(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Cc(e.root,!0)}`,r=E4(e.queryParams),i=typeof e.fragment=="string"?`#${_4(e.fragment)}`:"";return`${t}${r}${i}`}},v4=new ro;function ch(n){return n.segments.map(e=>uA(e)).join("/")}function Cc(n,e){if(!n.hasChildren())return ch(n);if(e){let t=n.children[pe]?Cc(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Cc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=y4(n,(r,i)=>i===pe?[Cc(n.children[pe],!1)]:[`${i}:${Cc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${ch(n)}/${t[0]}`:`${ch(n)}/(${t.join("//")})`}}function cA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oh(n){return cA(n).replace(/%3B/gi,";")}function _4(n){return encodeURI(n)}function Nv(n){return cA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(n){return decodeURIComponent(n)}function QS(n){return uh(n.replace(/\+/g,"%20"))}function uA(n){return`${Nv(n.path)}${w4(n.parameters)}`}function w4(n){return Object.entries(n).map(([e,t])=>`;${Nv(e)}=${Nv(t)}`).join("")}function E4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${oh(t)}=${oh(i)}`).join("&"):`${oh(t)}=${oh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var I4=/^[^\/()?;#]+/;function Sv(n){let e=n.match(I4);return e?e[0]:""}var b4=/^[^\/()?;=#]+/;function T4(n){let e=n.match(b4);return e?e[0]:""}var C4=/^[^=?&#]+/;function D4(n){let e=n.match(C4);return e?e[0]:""}var S4=/^[^&#]+/;function A4(n){let e=n.match(S4);return e?e[0]:""}var Ov=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Ne(e,t)),r}parseSegment(){let e=Sv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(e),new pi(uh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=T4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Sv(this.remaining);i&&(r=i,this.capture(r))}e[uh(t)]=uh(r)}parseQueryParam(e){let t=D4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=A4(this.remaining);s&&(r=s,this.capture(r))}let i=QS(t),o=QS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[pe]:new Ne([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new x(4011,!1)}};function lA(n){return n.segments.length>0?new Ne([],{[pe]:n}):n}function dA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=dA(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ne(n.segments,e);return M4(t)}function M4(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Ne(n.segments.concat(e.segments),e.children)}return n}function gi(n){return n instanceof ir}function hA(n,e,t=null,r=null){let i=fA(n);return pA(i,e,t,r)}function fA(n){let e;function t(o){let s={};for(let c of o.children){let l=t(c);s[c.outlet]=l}let a=new Ne(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=lA(r);return e??i}function pA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Av(i,i,i,t,r);let o=R4(e);if(o.toRoot())return Av(i,i,new Ne([],{}),t,r);let s=P4(o,i,n),a=s.processChildren?Sc(s.segmentGroup,s.index,o.commands):mA(s.segmentGroup,s.index,o.commands);return Av(i,s.segmentGroup,a,t,r)}function dh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mc(n){return typeof n=="object"&&n!=null&&n.outlets}function Av(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=gA(n,e,t);let a=lA(dA(s));return new ir(a,o,i)}function gA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=gA(o,e,t)}),new Ne(n.segments,r)}var hh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dh(r[0]))throw new x(4003,!1);let i=r.find(Mc);if(i&&i!==rA(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function R4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hh(t,e,r)}var Ts=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function P4(n,e,t){if(n.isAbsolute)return new Ts(e,!0,0);if(!t)return new Ts(e,!1,NaN);if(t.parent===null)return new Ts(t,!0,0);let r=dh(n.commands[0])?0:1,i=t.segments.length-1+r;return x4(t,i,n.numberOfDoubleDots)}function x4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Ts(r,!1,i-o)}function N4(n){return Mc(n[0])?n[0].outlets:{[pe]:n}}function mA(n,e,t){if(n??=new Ne([],{}),n.segments.length===0&&n.hasChildren())return Sc(n,e,t);let r=O4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ne(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Ne(n.segments.slice(r.pathIndex),n.children),Sc(o,0,i)}else return r.match&&i.length===0?new Ne(n.segments,{}):r.match&&!n.hasChildren()?kv(n,e,t):r.match?Sc(n,0,i):kv(n,e,t)}function Sc(n,e,t){if(t.length===0)return new Ne(n.segments,{});{let r=N4(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Sc(n.children[pe],e,t);return new Ne(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ne(n.segments,i)}}function O4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mc(a))break;let c=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!JS(c,l,s))return o;r+=2}else{if(!JS(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function kv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mc(o)){let c=k4(o.outlets);return new Ne(r,c)}if(i===0&&dh(t[0])){let c=n.segments[e];r.push(new pi(c.path,YS(t[0]))),i++;continue}let s=Mc(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&dh(a)?(r.push(new pi(s,YS(a))),i+=2):(r.push(new pi(s,{})),i++)}return new Ne(r,{})}function k4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=kv(new Ne([],{}),0,r))}),e}function YS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function JS(n,e,t){return n==t.path&&nr(e,t.parameters)}var lh="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),an=class{id;url;constructor(e,t){this.id=e,this.url=t}},io=class extends an{type=vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fn=class extends an{urlAfterRedirects;type=vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Qt||{}),Rc=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Rc||{}),rr=class extends an{reason;code;type=vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Or=class extends an{reason;code;type=vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ds=class extends an{error;target;type=vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends an{urlAfterRedirects;state;type=vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends an{urlAfterRedirects;state;type=vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ph=class extends an{urlAfterRedirects;state;shouldActivate;type=vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gh=class extends an{urlAfterRedirects;state;type=vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mh=class extends an{urlAfterRedirects;state;type=vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class{route;type=vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vh=class{route;type=vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_h=class{snapshot;type=vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{snapshot;type=vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{snapshot;type=vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{snapshot;type=vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xc=class{},Ss=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function F4(n,e){return n.providers&&!n._injector&&(n._injector=kd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kn(n){return n.outlet||pe}function L4(n,e){let t=n.filter(r=>kn(r)===e);return t.push(...n.filter(r=>kn(r)!==e)),t}function jc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var bh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return jc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Rs(this.rootInjector)}},Rs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new bh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)($(bt))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Th=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Fv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Fv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Lv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Lv(e,this._root).map(t=>t.value)}};function Fv(n,e){if(n===e.value)return e;for(let t of e.children){let r=Fv(n,t);if(r)return r}return null}function Lv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Lv(n,t);if(r.length)return r.unshift(e),r}return[]}var sn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function bs(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Nc=class extends Th{snapshot;constructor(e,t){super(e),this.snapshot=t,qv(this,e)}toString(){return this.snapshot.toString()}};function yA(n){let e=V4(n),t=new It([new pi("",{})]),r=new It({}),i=new It({}),o=new It({}),s=new It(""),a=new cn(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new Nc(new sn(a,[]),e)}function V4(n){let e={},t={},r={},i="",o=new to([],e,r,i,t,pe,n,null,{});return new Oc("",new sn(o,[]))}var cn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(te(l=>l[Vc]))??ee(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>no(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>no(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ch(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),i?.data),n._resolvedData)}:r={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},i&&_A(i)&&(r.resolve[Vc]=i.title),r}var to=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Vc]}constructor(e,t,r,i,o,s,a,c,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=no(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=no(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oc=class extends Th{url;constructor(e,t){super(t),this.url=e,qv(this,t)}toString(){return vA(this._root)}};function qv(n,e){e.value._routerState=n,e.children.forEach(t=>qv(n,t))}function vA(n){let e=n.children.length>0?` { ${n.children.map(vA).join(", ")} } `:"";return`${n.value}${e}`}function Mv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),nr(e.params,t.params)||n.paramsSubject.next(t.params),h4(e.url,t.url)||n.urlSubject.next(t.url),nr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vv(n,e){let t=nr(n.params,e.params)&&m4(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Vv(n.parent,e.parent))}function _A(n){return typeof n.title=="string"||n.title===null}var wA=new K(""),Bc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new rt;deactivateEvents=new rt;attachEvents=new rt;detachEvents=new rt;routerOutletData=zC(void 0);parentContexts=F(Rs);location=F(Mr);changeDetector=F(li);inputBinder=F(Mh,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Uv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=on({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Sr]})}return n})(),Uv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===cn?this.route:e===Rs?this.childContexts:e===wA?this.outletData:this.parent.get(e,t)}},Mh=new K("");var Wv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ft({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&fe(0,"router-outlet")},dependencies:[Bc],encapsulation:2})}return n})();function Gv(n){let e=n.children&&n.children.map(Gv),t=e?Pe(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=Wv),t}function U4(n,e,t){let r=kc(n,e._root,t?t._root:void 0);return new Nc(r,e)}function kc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=j4(n,e,t);return new sn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>kc(n,a)),s}}let r=B4(e.value),i=e.children.map(o=>kc(n,o));return new sn(r,i)}}function j4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return kc(n,r,i);return kc(n,r)})}function B4(n){return new cn(new It(n.url),new It(n.params),new It(n.queryParams),new It(n.fragment),new It(n.data),n.outlet,n.component,n)}var As=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},EA="ngNavigationCancelingError";function Dh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=gi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IA(!1,Qt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function IA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[EA]=!0,t.cancellationCode=e,t}function $4(n){return bA(n)&&gi(n.url)}function bA(n){return!!n&&n[EA]}var H4=(n,e,t,r)=>te(i=>(new jv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),jv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Mv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=bs(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=bs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=bs(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ih(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Mv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Mv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Cs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function z4(n,e,t){let r=n._root,i=e?e._root:null;return Dc(r,i,t,[r.value])}function q4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ps(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!FT(n)?n:e.get(n):r}function Dc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=bs(e);return n.children.forEach(s=>{W4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ac(a,t.getContext(s),i)),i}function W4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=G4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Sh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Dc(n,e,a?a.children:null,r,i):Dc(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cs(a.outlet.component,s))}else s&&Ac(e,a,i),i.canActivateChecks.push(new Sh(r)),o.component?Dc(n,null,a?a.children:null,r,i):Dc(n,null,t,r,i);return i}function G4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(n.url,e.url)||!nr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(n,e)||!nr(n.queryParams,e.queryParams);case"paramsChange":default:return!Vv(n,e)}}function Ac(n,e,t){let r=bs(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ac(s,e.children.getContext(o),t):Ac(s,null,t):Ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Cs(e.outlet.component,i)):t.canDeactivateChecks.push(new Cs(null,i)):t.canDeactivateChecks.push(new Cs(null,i))}function $c(n){return typeof n=="function"}function K4(n){return typeof n=="boolean"}function Q4(n){return n&&$c(n.canLoad)}function Y4(n){return n&&$c(n.canActivate)}function J4(n){return n&&$c(n.canActivateChild)}function Z4(n){return n&&$c(n.canDeactivate)}function X4(n){return n&&$c(n.canMatch)}function TA(n){return n instanceof vr||n?.name==="EmptyError"}var sh=Symbol("INITIAL_VALUE");function Ms(){return nt(n=>Dl(n.map(e=>e.pipe(pt(1),xl(sh)))).pipe(te(e=>{for(let t of e)if(t!==!0){if(t===sh)return sh;if(t===!1||eU(t))return t}return!0}),Ke(e=>e!==sh),pt(1)))}function eU(n){return gi(n)||n instanceof As}function tU(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ee(Pe(U({},t),{guardsResult:!0})):nU(s,r,i,n).pipe(qe(a=>a&&K4(a)?rU(r,o,n,e):ee(a)),te(a=>Pe(U({},t),{guardsResult:a})))})}function nU(n,e,t,r){return ke(n).pipe(qe(i=>cU(i.component,i.route,t,e,r)),en(i=>i!==!0,!0))}function rU(n,e,t,r){return ke(e).pipe(wr(i=>ti(oU(i.route.parent,r),iU(i.route,r),aU(n,i.path,t),sU(n,i.route,t))),en(i=>i!==!0,!0))}function iU(n,e){return n!==null&&e&&e(new Eh(n)),ee(!0)}function oU(n,e){return n!==null&&e&&e(new _h(n)),ee(!0)}function sU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ee(!0);let i=r.map(o=>Sl(()=>{let s=jc(e)??t,a=Ps(o,s),c=Y4(a)?a.canActivate(e,n):Tt(s,()=>a(e,n));return mi(c).pipe(en())}));return ee(i).pipe(Ms())}function aU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>q4(s)).filter(s=>s!==null).map(s=>Sl(()=>{let a=s.guards.map(c=>{let l=jc(s.node)??t,h=Ps(c,l),p=J4(h)?h.canActivateChild(r,n):Tt(l,()=>h(r,n));return mi(p).pipe(en())});return ee(a).pipe(Ms())}));return ee(o).pipe(Ms())}function cU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ee(!0);let s=o.map(a=>{let c=jc(e)??i,l=Ps(a,c),h=Z4(l)?l.canDeactivate(n,e,t,r):Tt(c,()=>l(n,e,t,r));return mi(h).pipe(en())});return ee(s).pipe(Ms())}function uU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ee(!0);let o=i.map(s=>{let a=Ps(s,n),c=Q4(a)?a.canLoad(e,t):Tt(n,()=>a(e,t));return mi(c)});return ee(o).pipe(Ms(),CA(r))}function CA(n){return ll(oe(e=>{if(typeof e!="boolean")throw Dh(n,e)}),te(e=>e===!0))}function lU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ee(!0);let o=i.map(s=>{let a=Ps(s,n),c=X4(a)?a.canMatch(e,t):Tt(n,()=>a(e,t));return mi(c)});return ee(o).pipe(Ms(),CA(r))}var Fc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Lc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Is(n){return Wo(new Fc(n))}function dU(n){return Wo(new x(4e3,!1))}function hU(n){return Wo(IA(!1,Qt.GuardRejected))}var Bv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ee(r);if(i.numberOfChildren>1||!i.children[pe])return dU(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,params:m,data:_,title:T}=i,A=Tt(o,()=>a({params:m,data:_,queryParams:c,fragment:l,routeConfig:h,url:p,outlet:g,title:T}));if(A instanceof ir)throw new Lc(A);t=A}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Lc(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ir(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},$v={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fU(n,e,t,r,i){let o=DA(n,e,t);return o.matched?(r=F4(e,r),lU(r,e,t,i).pipe(te(s=>s===!0?o:U({},$v)))):ee(o)}function DA(n,e,t){if(e.path==="**")return pU(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},$v):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||tA)(t,n,e);if(!i)return U({},$v);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pU(n){return{matched:!0,parameters:n.length>0?rA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ZS(n,e,t,r){return t.length>0&&yU(n,t,r)?{segmentGroup:new Ne(e,mU(r,new Ne(t,n.children))),slicedSegments:[]}:t.length===0&&vU(n,t,r)?{segmentGroup:new Ne(n.segments,gU(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ne(n.segments,n.children),slicedSegments:t}}function gU(n,e,t,r){let i={};for(let o of t)if(Rh(n,e,o)&&!r[kn(o)]){let s=new Ne([],{});i[kn(o)]=s}return U(U({},r),i)}function mU(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&kn(r)!==pe){let i=new Ne([],{});t[kn(r)]=i}return t}function yU(n,e,t){return t.some(r=>Rh(n,e,r)&&kn(r)!==pe)}function vU(n,e,t){return t.some(r=>Rh(n,e,r))}function Rh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _U(n,e,t){return e.length===0&&!n.children[t]}var Hv=class{};function wU(n,e,t,r,i,o,s="emptyOnly"){return new zv(n,e,t,r,i,s,o).recognize()}var EU=31,zv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Bv(this.urlSerializer,this.urlTree)}noMatchError(e){return new x(4002,`'${e.segmentGroup}'`)}recognize(){let e=ZS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(({children:t,rootSnapshot:r})=>{let i=new sn(r,t),o=new Oc("",i),s=hA(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new to([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(te(r=>({children:r,rootSnapshot:t})),_r(r=>{if(r instanceof Lc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(te(s=>s instanceof sn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ke(o).pipe(wr(s=>{let a=r.children[s],c=L4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),Rl((s,a)=>(s.push(...a),s)),ni(null),kg(),qe(s=>{if(s===null)return Is(r);let a=SA(s);return IU(a),ee(a)}))}processSegment(e,t,r,i,o,s,a){return ke(t).pipe(wr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(_r(l=>{if(l instanceof Fc)return ee(null);throw l}))),en(c=>!!c),_r(c=>{if(TA(c))return _U(r,i,o)?ee(new Hv):Is(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return kn(r)!==s&&(s===pe||!Rh(i,o,r))?Is(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):Is(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=DA(t,i,o);if(!c)return Is(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>EU&&(this.allowRedirects=!1));let m=new to(o,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,XS(i),kn(i),i.component??i._loadedComponent??null,i,eA(i)),_=Ch(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);let T=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,T).pipe(qe(A=>this.processSegment(e,r,t,A.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=fU(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(nt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(nt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:m}=c,_=new to(g,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,XS(r),kn(r),r.component??r._loadedComponent??null,r,eA(r)),T=Ch(_,s,this.paramsInheritanceStrategy);_.params=Object.freeze(T.params),_.data=Object.freeze(T.data);let{segmentGroup:A,slicedSegments:O}=ZS(t,g,m,l);if(O.length===0&&A.hasChildren())return this.processChildren(h,l,A,_).pipe(te(z=>new sn(_,z)));if(l.length===0&&O.length===0)return ee(new sn(_,[]));let H=kn(r)===o;return this.processSegment(h,l,A,O,H?pe:o,!0,_).pipe(te(z=>new sn(_,z instanceof sn?[z]:[])))}))):Is(t)))}getChildConfig(e,t,r){return t.children?ee({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ee({routes:t._loadedRoutes,injector:t._loadedInjector}):uU(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(oe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):hU(t))):ee({routes:[],injector:e})}};function IU(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function bU(n){let e=n.value.routeConfig;return e&&e.path===""}function SA(n){let e=[],t=new Set;for(let r of n){if(!bU(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=SA(r.children);e.push(new sn(r.value,i))}return e.filter(r=>!t.has(r))}function XS(n){return n.data||{}}function eA(n){return n.resolve||{}}function TU(n,e,t,r,i,o){return qe(s=>wU(n,e,t,r,s.extractedUrl,i,o).pipe(te(({state:a,tree:c})=>Pe(U({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function CU(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ee(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of AA(c))s.add(l);let a=0;return ke(s).pipe(wr(c=>o.has(c)?DU(c,r,n,e):(c.data=Ch(c,c.parent,n).resolve,ee(void 0))),oe(()=>a++),Go(1),qe(c=>a===s.size?ee(t):Mt))})}function AA(n){let e=n.children.map(t=>AA(t)).flat();return[n,...e]}function DU(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!_A(i)&&(o[Vc]=i.title),SU(o,n,e,r).pipe(te(s=>(n._resolvedData=s,n.data=Ch(n,n.parent,t).resolve,null)))}function SU(n,e,t,r){let i=xv(n);if(i.length===0)return ee({});let o={};return ke(i).pipe(qe(s=>AU(n[s],e,t,r).pipe(en(),oe(a=>{if(a instanceof As)throw Dh(new ro,a);o[s]=a}))),Go(1),te(()=>o),_r(s=>TA(s)?Mt:Wo(s)))}function AU(n,e,t,r){let i=jc(e)??r,o=Ps(n,i),s=o.resolve?o.resolve(e,t):Tt(i,()=>o(e,t));return mi(s)}function Rv(n){return nt(e=>{let t=n(e);return t?ke(t).pipe(te(()=>e)):ee(e)})}var Kv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Vc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(MA),providedIn:"root"})}return n})(),MA=(()=>{class n extends Kv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)($(GS))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hc=new K("",{providedIn:"root",factory:()=>({})}),zc=new K(""),RA=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(fS);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ee(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=mi(t.loadComponent()).pipe(te(xA),oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ri(()=>{this.componentLoaders.delete(t)})),i=new jo(r,()=>new _e).pipe(Uo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=PA(r,this.compiler,t,this.onLoadEndListener).pipe(ri(()=>{this.childrenLoaders.delete(r)})),s=new jo(o,()=>new _e).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PA(n,e,t,r){return mi(n.loadChildren()).pipe(te(xA),qe(i=>i instanceof Wy||Array.isArray(i)?ee(i):ke(e.compileModuleAsync(i))),te(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(zc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Gv),injector:o}}))}function MU(n){return n&&typeof n=="object"&&"default"in n}function xA(n){return MU(n)?n.default:n}var Ph=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(RU),providedIn:"root"})}return n})(),RU=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),NA=new K("");var OA=new K(""),kA=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortSubject=new _e;configLoader=F(RA);environmentInjector=F(bt);destroyRef=F(ds);urlSerializer=F(Uc);rootContexts=F(Rs);location=F(ys);inputBindingEnabled=F(Mh,{optional:!0})!==null;titleStrategy=F(Kv);options=F(Hc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(Ph);createViewTransition=F(NA,{optional:!0});navigationErrorHandler=F(OA,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ee(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yh(i)),r=i=>this.events.next(new vh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Pe(U({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new It(null),this.transitions.pipe(Ke(r=>r!==null),nt(r=>{let i=!1,o=!1;return ee(r).pipe(nt(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&c!=="reload"){let l="";return this.events.next(new Or(s.id,this.urlSerializer.serialize(s.rawUrl),l,Rc.IgnoredSameUrlNavigation)),s.resolve(!1),Mt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ee(s).pipe(nt(l=>(this.events.next(new io(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?Mt:Promise.resolve(l))),TU(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),oe(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Pe(U({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let h=new Pc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:l,extractedUrl:h,source:p,restoredState:g,extras:m}=s,_=new io(l,this.urlSerializer.serialize(h),p,g);this.events.next(_);let T=yA(this.rootComponentType).snapshot;return this.currentTransition=r=Pe(U({},s),{targetSnapshot:T,urlAfterRedirects:h,extras:Pe(U({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,ee(r)}else{let l="";return this.events.next(new Or(s.id,this.urlSerializer.serialize(s.extractedUrl),l,Rc.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Mt}}),oe(s=>{let a=new fh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),te(s=>(this.currentTransition=r=Pe(U({},s),{guards:z4(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),tU(this.environmentInjector,s=>this.events.next(s)),oe(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Dh(this.urlSerializer,s.guardsResult);let a=new ph(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ke(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Qt.GuardRejected),!1)),Rv(s=>{if(s.guards.canActivateChecks.length!==0)return ee(s).pipe(oe(a=>{let c=new gh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),nt(a=>{let c=!1;return ee(a).pipe(CU(this.paramsInheritanceStrategy,this.environmentInjector),oe({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",Qt.NoDataFromResolver)}}))}),oe(a=>{let c=new mh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Rv(s=>{let a=c=>{let l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(oe(h=>{c.component=h}),te(()=>{})));for(let h of c.children)l.push(...a(h));return l};return Dl(a(s.targetSnapshot.root)).pipe(ni(null),pt(1))}),Rv(()=>this.afterPreactivation()),nt(()=>{let{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?ke(c).pipe(te(()=>r)):ee(r)}),te(s=>{let a=U4(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Pe(U({},s),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),oe(()=>{this.events.next(new xc)}),H4(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),pt(1),oe({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Vg(this.transitionAbortSubject.pipe(oe(s=>{throw s}))),ri(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",Qt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),_r(s=>{if(this.destroyed)return r.resolve(!1),Mt;if(o=!0,bA(s))this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),$4(s)?this.events.next(new Ss(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ds(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let c=Tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof As){let{message:l,cancellationCode:h}=Dh(this.urlSerializer,c);this.events.next(new rr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,h)),this.events.next(new Ss(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),s}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Mt}))}))}cancelNavigationTransition(t,r,i){let o=new rr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PU(n){return n!==lh}var FA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(xU),providedIn:"root"})}return n})(),Ah=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},xU=(()=>{class n extends Ah{static \u0275fac=(()=>{let t;return function(i){return(t||(t=by(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LA=(()=>{class n{urlSerializer=F(Uc);options=F(Hc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(ys);urlHandlingStrategy=F(Ph);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ir;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof ir?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=yA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:()=>F(NU),providedIn:"root"})}return n})(),NU=(()=>{class n extends LA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof io?this.updateStateMemento():t instanceof Or?this.commitTransition(r):t instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof rr&&(t.code===Qt.GuardRejected||t.code===Qt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ds?this.restoreHistory(r,!0):t instanceof Fn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=U(U({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=U(U({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=by(n)))(i||n)}})();static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qv(n,e){n.events.pipe(Ke(t=>t instanceof Fn||t instanceof rr||t instanceof Ds||t instanceof Or),te(t=>t instanceof Fn||t instanceof Or?0:(t instanceof rr?t.code===Qt.Redirect||t.code===Qt.SupersededByNewNavigation:!1)?2:1),Ke(t=>t!==2),pt(1)).subscribe(()=>{e()})}var OU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_n=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(tS);stateManager=F(LA);options=F(Hc,{optional:!0})||{};pendingTasks=F(Xn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(kA);urlSerializer=F(Uc);location=F(ys);urlHandlingStrategy=F(Ph);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(FA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F(zc,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(Mh,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new et;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rr&&r.code!==Qt.Redirect&&r.code!==Qt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fn)this.navigated=!0;else if(r instanceof Ss){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||PU(i.source)},s);this.scheduleNavigation(a,lh,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}LU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lh,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=U({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Gv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=fA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return pA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=gi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,lh,null,r)}navigate(t,r={skipLocationChange:!1}){return FU(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=U({},OU):r===!1?i=U({},kU):i=r,gi(t))return KS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return KS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return Qv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FU(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new x(4008,!1)}function LU(n){return!(n instanceof xc)&&!(n instanceof Ss)}var wn=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(gi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:dD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:gi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Y(_n),Y(cn),Id("tabindex"),Y(tr),Y(nn),Y(Yi))};static \u0275dir=on({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&He("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ld("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Bd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Bd],replaceUrl:[2,"replaceUrl","replaceUrl",Bd],routerLink:"routerLink"},features:[Sr]})}return n})(),Yv=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new rt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Fn&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(ei()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ke(t).pipe(ei()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=UU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Y(_n),Y(nn),Y(tr),Y(li),Y(wn,8))};static \u0275dir=on({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ud(o,wn,5),r&2){let s;gs(s=ms())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Sr]})}return n})();function UU(n){return!!n.paths}var jU=new K("");function Jv(n,...e){return ai([{provide:zc,multi:!0,useValue:n},[],{provide:cn,useFactory:BU,deps:[_n]},{provide:Qy,multi:!0,useFactory:$U},e.map(t=>t.\u0275providers)])}function BU(n){return n.routerState.root}function $U(){let n=F(Kt);return e=>{let t=n.get(zi);if(e!==t.components[0])return;let r=n.get(_n),i=n.get(HU);n.get(zU)===1&&r.initialNavigation(),n.get(qU,null,me.Optional)?.setUpPreloading(),n.get(jU,null,me.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var HU=new K("",{factory:()=>new _e}),zU=new K("",{providedIn:"root",factory:()=>1});var qU=new K("");var VA=()=>({exact:!0}),xh=class n{constructor(e){this.router=e}isMobileNavOpen=!1;toggleMobileNav(){this.isMobileNavOpen=!this.isMobileNavOpen,this.isMobileNavOpen?document.body.style.overflow="hidden":document.body.style.overflow=""}closeMobileNav(){this.isMobileNavOpen=!1,document.body.style.overflow=""}navigateToLogin(){this.closeMobileNav(),console.log("Navigate to login page")}static \u0275fac=function(t){return new(t||n)(Y(_n))};static \u0275cmp=ft({type:n,selectors:[["app-header"]],decls:33,vars:6,consts:[[1,"app-header"],[1,"container","header-content"],["routerLink","/",1,"logo"],[1,"desktop-nav"],["routerLink","/","routerLinkActive","active-link",3,"routerLinkActiveOptions"],["routerLink","/courses","routerLinkActive","active-link"],[1,"header-actions"],["aria-label","\u041F\u0435\u0440\u0435\u043C\u043A\u043D\u0443\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-toggle","visible-mobile",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","3","y1","12","x2","21","y2","12"],["x1","3","y1","6","x2","21","y2","6"],["x1","3","y1","18","x2","21","y2","18"],[1,"mobile-nav"],[1,"mobile-nav-header"],["routerLink","/",1,"logo",3,"click"],["aria-label","\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043D\u0430\u0432\u0456\u0433\u0430\u0446\u0456\u044E",1,"mobile-nav-close",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[3,"click"]],template:function(t,r){t&1&&(P(0,"header",0)(1,"div",1)(2,"div",2),Z(3," \u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438 "),N(),P(4,"nav",3)(5,"ul")(6,"li")(7,"a",4),Z(8,"\u0413\u041E\u041B\u041E\u0412\u041D\u0410"),N()(),P(9,"li")(10,"a",5),Z(11,"\u041A\u0423\u0420\u0421\u0418"),N()()()(),P(12,"div",6)(13,"button",7),He("click",function(){return r.toggleMobileNav()}),yy(),P(14,"svg",8),fe(15,"line",9)(16,"line",10)(17,"line",11),N()()()(),vy(),P(18,"nav",12)(19,"div",13)(20,"div",14),He("click",function(){return r.closeMobileNav()}),Z(21,"\u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438"),N(),P(22,"button",15),He("click",function(){return r.closeMobileNav()}),yy(),P(23,"svg",8),fe(24,"line",16)(25,"line",17),N()()(),vy(),P(26,"ul")(27,"li",18),He("click",function(){return r.closeMobileNav()}),P(28,"a",4),Z(29,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),N()(),P(30,"li",18),He("click",function(){return r.closeMobileNav()}),P(31,"a",5),Z(32,"\u041A\u0443\u0440\u0441\u0438"),N()()()()()),t&2&&(V(7),q("routerLinkActiveOptions",ev(4,VA)),V(11),Yy("open",r.isMobileNavOpen),V(10),q("routerLinkActiveOptions",ev(5,VA)))},dependencies:[Ot,wn,Yv],styles:['.app-header[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--light-text-color);padding:15px 0;box-shadow:0 2px 4px #0000001a;position:sticky;top:0;z-index:1000;width:100%}.app-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;font-family:Comfortaa,sans-serif;color:var(--light-text-color);cursor:pointer;text-decoration:none}.app-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{flex-grow:1;text-align:right}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:inline-flex}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 15px}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-weight:700;font-family:Comfortaa,sans-serif;padding-bottom:5px;position:relative}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:var(--secondary-color)}@media (max-width: 767px){.app-header[_ngcontent-%COMP%]   .desktop-nav[_ngcontent-%COMP%]{display:none}}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{padding:8px 18px;font-size:.9em}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--primary-color);z-index:1001;overflow-y:auto;padding:20px var(--container-padding);box-sizing:border-box}.app-header[_ngcontent-%COMP%]   .mobile-nav.open[_ngcontent-%COMP%]{display:flex;flex-direction:column}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.6em}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   .mobile-nav-header[_ngcontent-%COMP%]   .mobile-nav-close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke:var(--light-text-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;text-align:center}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:20px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--light-text-color);text-decoration:none;font-size:1.3em;font-weight:600;display:block;padding:10px}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active-link[_ngcontent-%COMP%]{color:var(--secondary-color)}.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;max-width:200px;margin:10px auto 0}@media (min-width: 768px){.app-header[_ngcontent-%COMP%]   .mobile-nav[_ngcontent-%COMP%]{display:none!important}}.app-header[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}']})};var Nh=class n{currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-footer"]],decls:38,vars:1,consts:[[1,"app-footer"],[1,"container","footer-content"],[1,"footer-column","about-column"],["routerLink","/",1,"footer-logo"],[1,"social-icons"],["href","https://facebook.com","aria-label","Facebook","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-facebook-f"],["href","https://instagram.com","aria-label","Instagram","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-instagram"],["href","https://telegram.com","aria-label","Twitter","target","_blank","rel","noopener noreferrer"],[1,"fab","fa-telegram"],[1,"footer-column","links-column"],["routerLink","/"],["routerLink","/courses"],[1,"footer-column","contact-column"],["href","mailto:olgaor994@gmail.com"],[1,"footer-bottom"],[1,"container"],["href","assets/documents/privacy-policy.pdf"],["href","assets/documents/public-offer.pdf","target","_blank","rel","noopener noreferrer"]],template:function(t,r){t&1&&(P(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3",3),Z(4,"\u041C\u0430\u043C\u041A\u0443\u0440\u0441\u0438"),N(),P(5,"div",4)(6,"a",5),fe(7,"i",6),N(),P(8,"a",7),fe(9,"i",8),N(),P(10,"a",9),fe(11,"i",10),N()()(),P(12,"div",11)(13,"h4"),Z(14,"\u0428\u0432\u0438\u0434\u043A\u0456 \u043F\u043E\u0441\u0438\u043B\u0430\u043D\u043D\u044F"),N(),P(15,"ul")(16,"li")(17,"a",12),Z(18,"\u0413\u043E\u043B\u043E\u0432\u043D\u0430"),N()(),P(19,"li")(20,"a",13),Z(21,"\u041A\u0443\u0440\u0441\u0438"),N()()()(),P(22,"div",14)(23,"h4"),Z(24,"\u0417\u0432'\u044F\u0436\u0456\u0442\u044C\u0441\u044F \u0437 \u043D\u0430\u043C\u0438"),N(),P(25,"p"),Z(26,"\u0415\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430 \u043F\u043E\u0448\u0442\u0430: "),P(27,"a",15),Z(28,"olgaor994@gmail.com"),N()()()(),P(29,"div",16)(30,"div",17)(31,"p"),Z(32),P(33,"a",18),Z(34,"\u041F\u043E\u043B\u0456\u0442\u0438\u043A\u0430 \u043A\u043E\u043D\u0444\u0456\u0434\u0435\u043D\u0446\u0456\u0439\u043D\u043E\u0441\u0442\u0456"),N(),Z(35," | "),P(36,"a",19),Z(37,"\u041F\u0443\u0431\u043B\u0456\u0447\u043D\u0430 \u043E\u0444\u0435\u0440\u0442\u0430"),N()()()()()),t&2&&(V(32),ui("\xA9 ",r.currentYear," \u041C\u0430\u043C\u0430\u041A\u0443\u0440\u0441\u0438. \u0412\u0441\u0456 \u043F\u0440\u0430\u0432\u0430 \u0437\u0430\u0445\u0438\u0449\u0435\u043D\u043E. | "))},dependencies:[Ot],styles:[".app-footer[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1);padding-top:40px}.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px;padding-bottom:40px}@media (min-width: 768px){.app-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(250px,1fr))}}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--light-text-color);margin-bottom:15px;text-decoration:none;display:inline-block}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h3.footer-logo[_ngcontent-%COMP%]:hover{opacity:.9}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.2em;color:var(--light-text-color);margin-bottom:15px;position:relative}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95em;line-height:1.6;margin-bottom:10px;color:#e0e0e0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}.app-footer[_ngcontent-%COMP%]   .footer-column[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-column.contact-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{margin-top:20px}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;color:var(--light-text-color);border:1px solid var(--light-text-color);border-radius:50%;width:36px;height:36px;line-height:34px;text-align:center;margin-right:10px;text-decoration:none;font-size:.9em;transition:background-color .3s,color .3s}.app-footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color);border-color:var(--secondary-color);color:var(--accent-text-color-1)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]{background-color:var(--accent-color-1);padding:15px 0;text-align:center;font-size:.85em;color:#ccc}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-color)}.app-footer[_ngcontent-%COMP%]   .footer-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--secondary-color)}.app-footer[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-left:var(--container-padding);padding-right:var(--container-padding)}"]})};var Oh=class n{title="mothers-courses-app";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,r){t&1&&(fe(0,"app-header"),P(1,"main"),fe(2,"router-outlet"),N(),fe(3,"app-footer"))},dependencies:[Bc,xh,Nh],styles:["main[_ngcontent-%COMP%]{min-height:calc(100vh - 120px);font-family:Comfortaa,sans-serif}"]})};var WU=n=>["/course",n];function GU(n,e){if(n&1){let t=vn();P(0,"div",1),fe(1,"img",2),P(2,"div",3)(3,"h3",4),Z(4),N(),P(5,"p",5),Z(6),N(),fe(7,"div",6),P(8,"div",7)(9,"span",8),Z(10),N(),P(11,"a",9),He("click",function(){xt(t);let i=Ie();return Nt(i.console.log(i.course))}),Z(12,"\u0414\u0435\u0442\u0430\u043B\u044C\u043D\u0456\u0448\u0435"),N()()()()}if(n&2){let t=Ie();V(),q("src",t.course.imageUrl,yn)("alt",t.course.title),V(3),it(t.course.title),V(2),it(t.course.tagline),V(4),ui("",t.course.price.toFixed(2),"\u20B4"),V(),q("routerLink",Ki(6,WU,t.course.slug))}}var Ns=class n{course;print=print;console=console;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=ft({type:n,selectors:[["app-course-card"]],inputs:{course:"course"},decls:1,vars:1,consts:[["class","course-card card",4,"ngIf"],[1,"course-card","card"],[1,"course-image",3,"src","alt"],[1,"course-content"],[1,"course-title"],[1,"course-tagline"],[1,"course-meta"],[1,"course-price-action"],[1,"course-price"],[1,"btn","btn-primary",3,"click","routerLink"]],template:function(t,r){t&1&&Ee(0,GU,13,8,"div",0),t&2&&q("ngIf",r.course)},dependencies:[Ot,xr,wn],styles:[".course-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:transform .3s ease,box-shadow .3s ease}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #00000026}.course-card[_ngcontent-%COMP%]   .course-image[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover}.course-card[_ngcontent-%COMP%]   .course-content[_ngcontent-%COMP%]{padding:15px;flex-grow:1;display:flex;text-align:center;flex-direction:column;justify-content:space-between}.course-card[_ngcontent-%COMP%]   .course-title[_ngcontent-%COMP%]{font-size:1.6em;margin:0;color:var(--accent-color-1)}.course-card[_ngcontent-%COMP%]   .course-tagline[_ngcontent-%COMP%]{font-size:1.1em;margin:0;font-weight:600;color:var(--text-color);min-height:30px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]{font-size:.85em;color:#666;margin-bottom:15px}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.course-card[_ngcontent-%COMP%]   .course-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(:last-child){margin-bottom:3px}.course-card[_ngcontent-%COMP%]   .course-price-action[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto}.course-card[_ngcontent-%COMP%]   .course-price[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:var(--accent-color-1)}"]})};var ae=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ae||{}),En="*";function Xv(n,e){return{type:ae.Trigger,name:n,definitions:e,options:{}}}function kh(n,e=null){return{type:ae.Animate,styles:e,timings:n}}function UA(n,e=null){return{type:ae.Sequence,steps:n,options:e}}function so(n){return{type:ae.Style,styles:n,offset:null}}function Fh(n,e,t){return{type:ae.State,name:n,styles:e,options:t}}function Lh(n,e,t=null){return{type:ae.Transition,expr:n,animation:e,options:t}}var or=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},oo=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,r=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((t,r)=>t===null||r.totalTime>t.totalTime?r:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Os="!";var KU=(n,e,t,r,i)=>({width:n,transform:e,transition:t,"padding-left":r,"padding-right":i}),QU=(n,e,t,r)=>({width:n,"margin-left":e,"margin-right":t,left:r}),YU=(n,e)=>({$implicit:n,index:e}),qA=(n,e)=>e.id;function JU(n,e){}function ZU(n,e){if(n&1&&Ee(0,JU,0,0,"ng-template",3),n&2){let t=Ie(),r=t.$implicit,i=t.$index,o=Ie();q("ngTemplateOutlet",r.tplRef)("ngTemplateOutletContext",jd(2,YU,o.preparePublicSlide(r),i))}}function XU(n,e){if(n&1){let t=vn();P(0,"div",2),He("animationend",function(){let i=xt(t).$implicit,o=Ie();return Nt(o.clear(i.id))}),Ee(1,ZU,1,5,null,3),N()}if(n&2){let t=e.$implicit;q("ngClass",t.classes)("ngStyle",lS(4,QU,t.width+"px",t.marginL?t.marginL+"px":"",t.marginR?t.marginR+"px":"",t.left))("@autoHeight",t.heightState),V(),Vd(t.load?1:-1)}}var ej=(n,e,t,r,i)=>({"owl-rtl":n,"owl-loaded":e,"owl-responsive":t,"owl-drag":r,"owl-grab":i}),tj=(n,e)=>({isMouseDragable:n,isTouchDragable:e}),Vh=n=>({disabled:n}),nj=(n,e)=>({active:n,"owl-dot-text":e});function rj(n,e){if(n&1&&(P(0,"div",2),fe(1,"owl-stage",3),N()),n&2){let t=Ie();V(),q("owlDraggable",jd(3,tj,t.owlDOMData==null?null:t.owlDOMData.isMouseDragable,t.owlDOMData==null?null:t.owlDOMData.isTouchDragable))("stageData",t.stageData)("slidesData",t.slidesData)}}function ij(n,e){if(n&1){let t=vn();P(0,"div",9),He("click",function(){let i=xt(t).$implicit,o=Ie(2);return Nt(o.moveByDot(i.id))}),fe(1,"span",10),N()}if(n&2){let t=e.$implicit;q("ngClass",jd(2,nj,t.active,t.showInnerContent)),V(),q("innerHTML",t.innerContent,rn)}}function oj(n,e){if(n&1){let t=vn();P(0,"div",4)(1,"div",5),He("click",function(){xt(t);let i=Ie();return Nt(i.prev())}),N(),P(2,"div",6),He("click",function(){xt(t);let i=Ie();return Nt(i.next())}),N()(),P(3,"div",7),Jy(4,ij,2,5,"div",8,qA),N()}if(n&2){let t=Ie();q("ngClass",Ki(6,Vh,t.navData==null?null:t.navData.disabled)),V(),q("ngClass",Ki(8,Vh,t.navData==null||t.navData.prev==null?null:t.navData.prev.disabled))("innerHTML",t.navData==null||t.navData.prev==null?null:t.navData.prev.htmlText,rn),V(),q("ngClass",Ki(10,Vh,t.navData==null||t.navData.next==null?null:t.navData.next.disabled))("innerHTML",t.navData==null||t.navData.next==null?null:t.navData.next.htmlText,rn),V(),q("ngClass",Ki(12,Vh,t.dotsData==null?null:t.dotsData.disabled)),V(),Zy(t.dotsData==null?null:t.dotsData.dots)}}var e_=class{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}},t_=class{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}},r_=(()=>{class n{errorHandler;constructor(t){this.errorHandler=t}log(t,...r){pc()&&console.log(t,...r)}error(t){this.errorHandler.handleError(t)}warn(t,...r){console.warn(t,...r)}static \u0275fac=function(r){return new(r||n)($(Nn))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();var WA=function(n){return n.Event="event",n.State="state",n}(WA||{}),Uh=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(Uh||{});var kr=(()=>{class n{logger;_viewSettingsShipper$=new _e;_initializedCarousel$=new _e;_changeSettingsCarousel$=new _e;_changedSettingsCarousel$=new _e;_translateCarousel$=new _e;_translatedCarousel$=new _e;_resizeCarousel$=new _e;_resizedCarousel$=new _e;_refreshCarousel$=new _e;_refreshedCarousel$=new _e;_dragCarousel$=new _e;_draggedCarousel$=new _e;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:t=>{t.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:t=>{let r=this.settings.margin||"",i=!this.settings.autoWidth,o=this.settings.rtl,s={"margin-left":o?r:"","margin-right":o?"":r};i||this.slidesData.forEach(a=>{a.marginL=s["margin-left"],a.marginR=s["margin-right"]}),t.css=s}},{filter:["width","items","settings"],run:t=>{let r=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=!this.settings.autoWidth,o=[],s=null,a=this._items.length;for(t.items={merge:!1,width:r};a-- >0;)s=this._mergers[a],s=this.settings.mergeFit&&Math.min(s,this.settings.items)||s,t.items.merge=s>1||t.items.merge,o[a]=i?r*s:this._items[a].width?this._items[a].width:r;this._widths=o,this.slidesData.forEach((c,l)=>{c.width=this._widths[l],c.marginR=t.css["margin-right"],c.marginL=t.css["margin-left"]})}},{filter:["items","settings"],run:()=>{let t=[],r=this._items,i=this.settings,o=Math.max(i.items*2,4),s=Math.ceil(r.length/2)*2,a=[],c=[],l=i.loop&&r.length?i.rewind?o:Math.max(o,s):0;for(l/=2;l-- >0;)t.push(this.normalize(t.length/2,!0)),a.push(U({},this.slidesData[t[t.length-1]])),t.push(this.normalize(r.length-1-(t.length-1)/2,!0)),c.unshift(U({},this.slidesData[t[t.length-1]]));this._clones=t,a=a.map(h=>Pe(U({},h),{id:`${this.clonedIdPrefix}${h.id}-append`,isActive:!1,isCloned:!0})),c=c.map(h=>Pe(U({},h),{id:`${this.clonedIdPrefix}${h.id}`,isActive:!1,isCloned:!0})),this.slidesData=c.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this._clones.length+this._items.length,i=[],o=-1,s=0,a=0;for(;++o<r;)s=i[o-1]||0,a=this._widths[this.relative(o)]+this.settings.margin,i.push(s+a*t);this._coordinates=i}},{filter:["width","items","settings"],run:()=>{let t=this.settings.stagePadding,r=this._coordinates,i={width:Math.ceil(Math.abs(r[r.length-1]))+t*2,"padding-left":t||"","padding-right":t||""};this.stageData.width=i.width,this.stageData.paddingL=i["padding-left"],this.stageData.paddingR=i["padding-right"]}},{filter:["width","items","settings"],run:t=>{let r=t.current?this.slidesData.findIndex(i=>i.id===t.current):0;r=Math.max(this.minimum(),Math.min(this.maximum(),r)),this.reset(r)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{let t=this.settings.rtl?1:-1,r=this.settings.stagePadding*2,i=[],o,s,a,c,l,h;if(o=this.coordinates(this.current()),typeof o=="number"?o+=r:o=0,s=o+this.width()*t,t===-1&&this.settings.center){let p=this._coordinates.filter(g=>this.settings.items%2===1?g>=o:g>o);o=p.length?p[p.length-1]:o}for(l=0,h=this._coordinates.length;l<h;l++)a=Math.ceil(this._coordinates[l-1]||0),c=Math.ceil(Math.abs(this._coordinates[l])+r*t),(this._op(a,"<=",o)&&this._op(a,">",s)||this._op(c,"<",o)&&this._op(c,">",s))&&i.push(l);this.slidesData.forEach(p=>(p.isActive=!1,p)),i.forEach(p=>{this.slidesData[p].isActive=!0}),this.settings.center&&(this.slidesData.forEach(p=>(p.isCentered=!1,p)),this.slidesData[this.current()].isCentered=!0)}}];constructor(t){this.logger=t}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(t){let r=new e_,i=this._validateOptions(t,r);this._options=U(U({},r),i)}_validateOptions(t,r){let i=U({},t),o=new t_,s=(a,c)=>(this.logger.log(`options.${c} must be type of ${a}; ${c}=${t[c]} skipped to defaults: ${c}=${r[c]}`),r[c]);for(let a in i)if(i.hasOwnProperty(a)){if(o[a]==="number")this._isNumeric(i[a])?(i[a]=+i[a],i[a]=a==="items"?this._validateItems(i[a],i.skip_validateItems):i[a]):i[a]=s(o[a],a);else if(o[a]==="boolean"&&typeof i[a]!="boolean")i[a]=s(o[a],a);else if(o[a]==="number|boolean"&&!this._isNumberOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="number|string"&&!this._isNumberOrString(i[a]))i[a]=s(o[a],a);else if(o[a]==="string|boolean"&&!this._isStringOrBoolean(i[a]))i[a]=s(o[a],a);else if(o[a]==="string[]")if(Array.isArray(i[a])){let c=!1;i[a].forEach(l=>{c=typeof l=="string"}),c||(i[a]=s(o[a],a))}else i[a]=s(o[a],a)}return i}_validateItems(t,r){let i=t;return t>this._items.length?r?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(i=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):t===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),i}setCarouselWidth(t){this._width=t}setup(t,r,i){this.setCarouselWidth(t),this.setItems(r),this._defineSlidesData(),this.setOptions(i),this.settings=U({},this._options),this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){let t=this._width,r=this._options.responsive,i=-1;if(!Object.keys(r).length)return;if(!t){this.settings.items=1;return}for(let s in r)r.hasOwnProperty(s)&&+s<=t&&+s>i&&(i=Number(s));this.settings=Pe(U(U({},this._options),r[i]),{items:r[i]&&r[i].items?this._validateItems(r[i].items,this._options.skip_validateItems):this._options.items}),delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;let o=[];this._items.forEach(s=>{let a=this.settings.merge?s.dataMerge:1;o.push(a)}),this._mergers=o,this._breakpoint=i,this.invalidate("settings")}initialize(t){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),t.forEach(r=>{let i=this.settings.merge?r.dataMerge:1;this._mergers.push(i)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let t=0,r=this._pipe.length,i=s=>this._invalidated[s],o={};for(;t<r;){let s=this._pipe[t].filter.filter(i);(this._invalidated.all||s.length>0)&&this._pipe[t].run(o),t++}this.slidesData.forEach(s=>s.classes=this.setCurSlideClasses(s)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(t){switch(t=t||Uh.Default,t){case Uh.Inner:case Uh.Outer:return this._width;default:return this._width-this.settings.stagePadding*2+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(t){if(!this._items.length)return!1;this.setCarouselWidth(t),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(t){let r=null,i;return i=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),r={x:+i[0],y:+i[1]},this.is("animating")&&this.invalidate("position"),t.type==="mousedown"&&(this.owlDOMData.isGrab=!0),this.speed(0),r}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(t,r){let i=null,o=null,s=null,a=this.difference(r.pointer,this.pointer(t)),c=this.difference(r.stage.start,a);return this.is("dragging")?(this.settings.loop?(i=this.coordinates(this.minimum()),o=+this.coordinates(this.maximum()+1)-i,c.x=((c.x-i)%o+o)%o+i):(i=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),o=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*a.x/5:0,c.x=Math.max(Math.min(c.x,i+s),o+s)),c):!1}finishDragging(t,r,i){let o=["right","left"],s=this.difference(r.pointer,this.pointer(t)),a=r.stage.current,c=o[+(this.settings.rtl?s.x<+this.settings.rtl:s.x>+this.settings.rtl)],l,h,p;(s.x!==0&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),l=this.closest(a.x,s.x!==0?c:r.direction),h=this.current(),p=this.current(l===-1?void 0:l),h!==p&&(this.invalidate("position"),this.update()),r.direction=c,(Math.abs(s.x)>3||new Date().getTime()-r.time>300)&&i()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(t,r){let o=this.width(),s=this.coordinates(),a=-1;this.settings.center&&(s=s.map(c=>(c===0&&(c+=1e-6),c)));for(let c=0;c<s.length&&(r==="left"&&t>s[c]-30&&t<s[c]+30?a=c:r==="right"&&t>s[c]-o-30&&t<s[c]-o+30?a=c+1:this._op(t,"<",s[c])&&this._op(t,">",s[c+1]||s[c]-o)?a=r==="left"?c+1:c:r===null&&t>s[c]-30&&t<s[c]+30&&(a=c),a===-1);c++);return this.settings.loop||(this._op(t,">",s[this.minimum()])?a=t=this.minimum():this._op(t,"<",s[this.maximum()])&&(a=t=this.maximum())),a}animate(t){let r=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),r&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+t+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(t){return this._states.current[t]&&this._states.current[t]>0}current(t){if(t===void 0)return this._current;if(this._items.length!==0){if(t=this.normalize(t),this._current!==t){let r=this._trigger("change",{property:{name:"position",value:t}});this._current=t,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})}return this._current}}invalidate(t){return typeof t=="string"&&(this._invalidated[t]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(t){t=this.normalize(t),t!==void 0&&(this._speed=0,this._current=t,this._suppress(["translate","translated"]),this.animate(this.coordinates(t)),this._release(["translate","translated"]))}normalize(t,r){let i=this._items.length,o=r?0:this._clones.length;return!this._isNumeric(t)||i<1?t=void 0:(t<0||t>=i+o)&&(t=((t-o/2)%i+i)%i+o/2),t}relative(t){return t-=this._clones.length/2,this.normalize(t,!0)}maximum(t=!1){let r=this.settings,i=this._coordinates.length,o,s,a;if(r.loop)i=this._clones.length/2+this._items.length-1;else if(r.autoWidth||r.merge){for(o=this._items.length,s=this.slidesData[--o].width,a=this._width;o-- >0&&(s+=+this.slidesData[o].width+this.settings.margin,!(s>a)););i=o+1}else r.center?i=this._items.length-1:i=this._items.length-r.items;return t&&(i-=this._clones.length/2),Math.max(i,0)}minimum(t=!1){return t?0:this._clones.length/2}items(t){return t===void 0?this._items.slice():(t=this.normalize(t,!0),[this._items[t]])}mergers(t){return t===void 0?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])}clones(t){let r=this._clones.length/2,i=r+this._items.length,o=s=>s%2===0?i+s/2:r-(s+1)/2;return t===void 0?this._clones.map((s,a)=>o(a)):this._clones.map((s,a)=>s===t?o(a):null).filter(s=>s)}speed(t){return t!==void 0&&(this._speed=t),this._speed}coordinates(t){let r=1,i=t-1,o,s;return t===void 0?(s=this._coordinates.map((a,c)=>this.coordinates(c)),s):(this.settings.center?(this.settings.rtl&&(r=-1,i=t+1),o=this._coordinates[t],o+=(this.width()-o+(this._coordinates[i]||0))/2*r):o=this._coordinates[i]||0,o=Math.ceil(o),o)}_duration(t,r,i){return i===0?0:Math.min(Math.max(Math.abs(r-t),1),6)*Math.abs(+i||this.settings.smartSpeed)}to(t,r){let i=this.current(),o=null,s=t-this.relative(i),a=this.maximum(),c=0,l=+(s>0)-+(s<0),h=this._items.length,p=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(s)>h/2&&(s+=l*-1*h),t=i+s,o=((t-p)%h+h)%h+p,o!==t&&o-s<=a&&o-s>0&&(i=o-s,t=o,c=30,this.reset(i),this.sendChanges())):this.settings.rewind?(a+=1,t=(t%a+a)%a):t=Math.max(p,Math.min(a,t)),setTimeout(()=>{this.speed(this._duration(i,t,r)),this.current(t),this.update()},c)}next(t){t=t||!1,this.to(this.relative(this.current())+1,t)}prev(t){t=t||!1,this.to(this.relative(this.current())-1,t)}onTransitionEnd(t){if(t!==void 0)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let t;return this._width?t=this._width:this.logger.log("Can not detect viewport width."),t}setItems(t){this._items=t}_defineSlidesData(){let t;this.slidesData&&this.slidesData.length&&(t=new Map,this.slidesData.forEach(r=>{r.load&&t.set(r.id,r.load)})),this.slidesData=this._items.map(r=>({id:`${r.id}`,isActive:!1,tplRef:r.tplRef,dataMerge:r.dataMerge,width:0,isCloned:!1,load:t?t.get(r.id):!1,hashFragment:r.dataHash}))}setCurSlideClasses(t){let r={active:t.isActive,center:t.isCentered,cloned:t.isCloned,animated:t.isAnimated,"owl-animated-in":t.isDefAnimatedIn,"owl-animated-out":t.isDefAnimatedOut};return this.settings.animateIn&&(r[this.settings.animateIn]=t.isCustomAnimatedIn),this.settings.animateOut&&(r[this.settings.animateOut]=t.isCustomAnimatedOut),r}_op(t,r,i){let o=this.settings.rtl;switch(r){case"<":return o?t>i:t<i;case">":return o?t<i:t>i;case">=":return o?t<=i:t>=i;case"<=":return o?t>=i:t<=i;default:break}}_trigger(t,r,i,o,s){switch(t){case"initialized":this._initializedCarousel$.next(t);break;case"change":this._changeSettingsCarousel$.next(r);break;case"changed":this._changedSettingsCarousel$.next(r);break;case"drag":this._dragCarousel$.next(t);break;case"dragged":this._draggedCarousel$.next(t);break;case"resize":this._resizeCarousel$.next(t);break;case"resized":this._resizedCarousel$.next(t);break;case"refresh":this._refreshCarousel$.next(t);break;case"refreshed":this._refreshedCarousel$.next(t);break;case"translate":this._translateCarousel$.next(t);break;case"translated":this._translatedCarousel$.next(t);break;default:break}}enter(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{this._states.current[r]===void 0&&(this._states.current[r]=0),this._states.current[r]++})}leave(t){[t].concat(this._states.tags[t]||[]).forEach(r=>{(this._states.current[r]===0||this._states.current[r])&&this._states.current[r]--})}register(t){t.type===WA.State&&(this._states.tags[t.name]?this._states.tags[t.name]=this._states.tags[t.name].concat(t.tags):this._states.tags[t.name]=t.tags,this._states.tags[t.name]=this._states.tags[t.name].filter((r,i)=>this._states.tags[t.name].indexOf(r)===i))}_suppress(t){t.forEach(r=>{this._supress[r]=!0})}_release(t){t.forEach(r=>{delete this._supress[r]})}pointer(t){let r={x:null,y:null};return t=t.originalEvent||t||window.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r}_isNumeric(t){return!isNaN(parseFloat(t))}_isNumberOrBoolean(t){return this._isNumeric(t)||typeof t=="boolean"}_isNumberOrString(t){return this._isNumeric(t)||typeof t=="string"}_isStringOrBoolean(t){return typeof t=="string"||typeof t=="boolean"}difference(t,r){return t===null||r===null?{x:0,y:0}:{x:t.x-r.x,y:t.y-r.y}}static \u0275fac=function(r){return new(r||n)($(r_))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),jA=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(s=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),r=this.carouselService.getChangedState().pipe(Ke(s=>s.property.name==="position"),oe(s=>{this.update()})),i=this.carouselService.getRefreshedState().pipe(oe(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),o=An(t,r,i);this.navSubscription=o.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let t,r,i,o=this.carouselService.clones().length/2,s=o+this.carouselService.items().length,a=this.carouselService.maximum(!0),c=[],l=this.carouselService.settings,h=l.center||l.autoWidth||l.dotsData?1:Math.floor(Number(l.dotsEach))||Math.floor(l.items);if(h=+h,l.slideBy!=="page"&&(l.slideBy=Math.min(+l.slideBy,l.items)),l.dots||l.slideBy==="page")for(t=o,r=0,i=0;t<s;t++){if(r>=h||r===0){if(c.push({start:Math.min(a,t-o),end:t-o+h-1}),Math.min(a,t-o)===a)break;r=0,++i}r+=this.carouselService.mergers(this.carouselService.relative(t))}this._pages=c}draw(){let t,r=this.carouselService.settings,i=this.carouselService.items(),o=i.length<=r.items;if(this._navData.disabled=!r.nav||o,this._dotsData.disabled=!r.dots||o,r.dots)if(t=this._pages.length-this._dotsData.dots.length,r.dotsData&&t!==0)this._dotsData.dots=[],i.forEach(s=>{this._dotsData.dots.push({active:!1,id:`dot-${s.id}`,innerContent:s.dotContent,showInnerContent:!0})});else if(t>0){let s=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<t;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+s}`,innerContent:"",showInnerContent:!1})}else t<0&&this._dotsData.dots.splice(t,Math.abs(t));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){let t=this.carouselService.settings,r=t.loop||t.rewind,i=this.carouselService.relative(this.carouselService.current());t.nav&&(this._navData.prev.disabled=!r&&i<=this.carouselService.minimum(!0),this._navData.next.disabled=!r&&i>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let t;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(r=>{r.active===!0&&(r.active=!1)}),t=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[t].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){let t=this.carouselService.relative(this.carouselService.current()),r,i=this._pages.filter((o,s)=>o.start<=t&&o.end>=t).pop();return r=this._pages.findIndex(o=>o.start===i.start&&o.end===i.end),r}_getPosition(t){let r,i,o=this.carouselService.settings;return o.slideBy==="page"?(r=this._current(),i=this._pages.length,t?++r:--r,r=this._pages[(r%i+i)%i].start):(r=this.carouselService.relative(this.carouselService.current()),i=this.carouselService.items().length,t?r+=+o.slideBy:r-=+o.slideBy),r}next(t){this.carouselService.to(this._getPosition(!0),t)}prev(t){this.carouselService.to(this._getPosition(!1),t)}to(t,r,i){let o;!i&&this._pages.length?(o=this._pages.length,this.carouselService.to(this._pages[(t%o+o)%o].start,r)):this.carouselService.to(t,r)}moveByDot(t){let r=this._dotsData.dots.findIndex(i=>t===i.id);this.to(r,this.carouselService.settings.dotsSpeed)}toSlideById(t){let r=this.carouselService.slidesData.findIndex(i=>i.id===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}static \u0275fac=function(r){return new(r||n)($(kr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),i_=new K("WindowToken"),qc=class{get nativeWindow(){throw new Error("Not implemented.")}},sj=(()=>{class n extends qc{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function aj(n,e){return Nr(e)?n.nativeWindow:{setTimeout:(r,i)=>{},clearTimeout:r=>{}}}var cj={provide:qc,useClass:sj},uj={provide:i_,useFactory:aj,deps:[qc,$t]},lj=[cj,uj],jh=new K("DocumentToken"),Wc=class{get nativeDocument(){throw new Error("Not implemented.")}},dj=(()=>{class n extends Wc{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function hj(n,e){return Nr(e)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}}var fj={provide:Wc,useClass:dj},pj={provide:jh,useFactory:hj,deps:[Wc,$t]},gj=[fj,pj],BA=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(t){this._isAutoplayStopped=t}winRef;docRef;constructor(t,r,i,o){this.carouselService=t,this.ngZone=o,this.winRef=r,this.docRef=i,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>{this.carouselService.settings.autoplay&&this.play()})),r=this.carouselService.getChangedState().pipe(oe(s=>{this._handleChangeObservable(s)})),i=this.carouselService.getResizedState().pipe(oe(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})),o=An(t,r,i);this.autoplaySubscription=o.subscribe(()=>{})}play(t,r){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(t,r){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!t,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(r||this.carouselService.settings.autoplaySpeed)})},t||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(t){this._timeout=this._getNextTimeout(t)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(t){t.property.name==="settings"?this.carouselService.settings.autoplay?this.play():this.stop():t.property.name==="position"&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){ee("translated").pipe(nt(t=>this.carouselService.getTranslatedState()),en(),Ke(()=>this._isArtificialAutoplayTimeout),oe(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(r){return new(r||n)($(kr),$(i_),$(jh),$(xe))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),$A=(()=>{class n{carouselService;lazyLoadSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>{let s=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!s)})),r=this.carouselService.getChangeState(),i=this.carouselService.getResizedState(),o=An(t,r,i).pipe(oe(s=>this._defineLazyLoadSlides(s)));this.lazyLoadSubscription=o.subscribe(()=>{})}_defineLazyLoadSlides(t){if(!(!this.carouselService.settings||!this.carouselService.settings.lazyLoad)&&(t.property&&t.property.name==="position"||t==="initialized"||t==="resized")){let r=this.carouselService.settings,i=this.carouselService.clones().length,o=r.center&&Math.ceil(r.items/2)||r.items,s=r.center&&o*-1||0,a=(t.property&&t.property.value!==void 0?t.property.value:this.carouselService.current())+s;for(r.lazyLoadEager>0&&(o+=r.lazyLoadEager,r.loop&&(a-=r.lazyLoadEager,o++));s++<o;)this._load(i/2+this.carouselService.relative(a)),i&&this.carouselService.clones(this.carouselService.relative(a)).forEach(c=>this._load(c)),a++}}_load(t){this.carouselService.slidesData[t].load||(this.carouselService.slidesData[t].load=!0)}static \u0275fac=function(r){return new(r||n)($(kr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),n_=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getChangeState().pipe(oe(l=>{l.property.name==="position"&&(this.previous=this.carouselService.current(),this.next=l.property.value)})),r=this.carouselService.getDragState(),i=this.carouselService.getDraggedState(),o=this.carouselService.getTranslatedState(),s=An(r,i,o).pipe(oe(l=>this.swapping=l==="translated")),a=this.carouselService.getTranslateState().pipe(oe(l=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),c=An(t,a,s).pipe();this.animateSubscription=c.subscribe(()=>{})}_swap(){if(this.carouselService.settings.items!==1)return;this.carouselService.speed(0);let t,r=this.carouselService.slidesData[this.previous],i=this.carouselService.slidesData[this.next],o=this.carouselService.settings.animateIn,s=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(s&&(t=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.left=`${t}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),o&&this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(t){this.carouselService.slidesData.forEach(r=>{r.id===t&&(r.left="",r.isAnimated=!1,r.isDefAnimatedOut=!1,r.isCustomAnimatedOut=!1,r.isDefAnimatedIn=!1,r.isCustomAnimatedIn=!1,r.classes=this.carouselService.setCurSlideClasses(r))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(r){return new(r||n)($(kr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),HA=(()=>{class n{carouselService;autoHeightSubscription;constructor(t){this.carouselService=t,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(s=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),r=this.carouselService.getChangedState().pipe(oe(s=>{this.carouselService.settings.autoHeight&&s.property.name==="position"&&this.update()})),i=this.carouselService.getRefreshedState().pipe(oe(s=>{this.carouselService.settings.autoHeight&&this.update()})),o=An(t,r,i);this.autoHeightSubscription=o.subscribe(()=>{})}update(){let t=this.carouselService.settings.items,r=this.carouselService.current(),i=r+t;this.carouselService.settings.center&&(r=t%2===1?r-(t-1)/2:r-t/2,i=t%2===1?r+t:r+t+1),this.carouselService.slidesData.forEach((o,s)=>{o.heightState=s>=r&&s<i?"full":"nulled"})}static \u0275fac=function(r){return new(r||n)($(kr))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),zA=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(t,r,i){this.carouselService=t,this.route=r,this.router=i,this.spyDataStreams(),this.route||(this.route={fragment:ee("no route").pipe(pt(1))}),this.router||(this.router={navigate:(o,s)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){let t=this.carouselService.getInitializedState().pipe(oe(()=>this.listenToRoute())),r=this.carouselService.getChangedState().pipe(oe(o=>{if(this.carouselService.settings.URLhashListener&&o.property.name==="position"){let s=this.carouselService.current(),a=this.carouselService.slidesData[s].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})),i=An(t,r);this.hashSubscription=i.subscribe(()=>{})}rewind(t){let r=this.carouselService.slidesData.findIndex(i=>i.hashFragment===t&&i.isCloned===!1);r===-1||r===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(r),!1)}listenToRoute(){let t=this.carouselService.settings.startPosition==="URLHash"?0:2;this.route.fragment.pipe(Pl(t)).subscribe(r=>{this.currentHashFragment=r,this.rewind(r)})}static \u0275fac=function(r){return new(r||n)($(kr),$(cn,8),$(_n,8))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),mj=0,o_=(()=>{class n{tplRef;id=`owl-slide-${mj++}`;_dataMerge=1;set dataMerge(t){this._dataMerge=this.isNumeric(t)?t:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(t){this.tplRef=t}isNumeric(t){return!isNaN(parseFloat(t))}static \u0275fac=function(r){return new(r||n)(Y(br))};static \u0275dir=on({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"},standalone:!1})}return n})(),GA=(()=>{class n{resizeObservable$;docRef;get onResize$(){return this.resizeObservable$.pipe(Ke(()=>!this.docRef?.fullscreenElement))}constructor(t,r,i){this.docRef=r,this.resizeObservable$=Nr(i)?Ba(t,"resize"):new _e().asObservable()}static \u0275fac=function(r){return new(r||n)($(i_),$(jh),$($t))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),yj=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new _e;_oneMoveSubsription;preparePublicSlide=t=>{let r=U({},t);return delete r.tplRef,r};constructor(t,r,i,o,s){this.zone=t,this.el=r,this.renderer=i,this.carouselService=o,this.animateService=s}onMouseDown(t){this.owlDraggable.isMouseDragable&&this._onDragStart(t)}onTouchStart(t){if(t.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(t)}onTouchCancel(t){this._onDragEnd(t)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(en()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=t=>{this._oneMouseTouchMove(t)};bindOnDragMove=t=>{this._onDragMove(t)};bindOnDragEnd=t=>{this._onDragEnd(t)};_onDragStart(t){let r=null;t.which!==3&&(r=this._prepareDragging(t),this._drag.time=new Date().getTime(),this._drag.target=t.target,this._drag.stage.start=r,this._drag.stage.current=r,this._drag.pointer=this._pointer(t),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(t){let r=this._difference(this._drag.pointer,this._pointer(t));this.listenerATag&&this.listenerATag(),!(Math.abs(r.x)<3&&Math.abs(r.y)<3&&this._is("valid"))&&(Math.abs(r.x)<3&&Math.abs(r.x)<Math.abs(r.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(t),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),t.preventDefault(),this._enterDragging(),this._oneDragMove$.next(t)))}blockClickAnchorInDragging(t){let r=t.target;for(;r&&!(r instanceof HTMLAnchorElement);)r=r.parentElement;r instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(r,"click",()=>!1))}_onDragMove(t){let r,i=this.carouselService.defineNewCoordsDrag(t,this._drag);i!==!1&&(r=i,t.preventDefault(),this._drag.stage.current=r,this._animate(r.x-this._drag.stage.start.x))}_animate(t){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${t}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(t){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(t),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(t){return this.carouselService.prepareDragging(t)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(t){this.carouselService.finishDragging(t,this._drag,this._oneClickHandler)}_pointer(t){return this.carouselService.pointer(t)}_difference(t,r){return this.carouselService.difference(t,r)}_is(t){return this.carouselService.is(t)}_enter(t){this.carouselService.enter(t)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(t){this.animateService.clear(t)}static \u0275fac=function(r){return new(r||n)(Y(xe),Y(nn),Y(tr),Y(kr),Y(n_))};static \u0275cmp=ft({type:n,selectors:[["owl-stage"]],hostBindings:function(r,i){r&1&&He("mousedown",function(s){return i.onMouseDown(s)})("touchstart",function(s){return i.onTouchStart(s)})("touchcancel",function(s){return i.onTouchCancel(s)})("dragstart",function(){return i.onDragStart()})("selectstart",function(){return i.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},standalone:!1,decls:4,vars:7,consts:[[1,"owl-stage",3,"transitionend","ngStyle"],[1,"owl-item",3,"ngClass","ngStyle"],[1,"owl-item",3,"animationend","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){r&1&&(P(0,"div")(1,"div",0),He("transitionend",function(){return i.onTransitionEnd()}),Jy(2,XU,2,9,"div",1,qA),N()()),r&2&&(V(),q("ngStyle",tv(1,KU,i.stageData.width+"px",i.stageData.transform,i.stageData.transition,i.stageData.paddingL?i.stageData.paddingL+"px":"",i.stageData.paddingR?i.stageData.paddingR+"px":"")),V(),Zy(i.slidesData))},dependencies:[qd,hv,dv],encapsulation:2,data:{animation:[Xv("autoHeight",[Fh("nulled",so({height:0})),Fh("full",so({height:"*"})),Lh("full => nulled",[kh("700ms 350ms")]),Lh("nulled => full",[kh(350)])])]}})}return n})(),KA=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new rt;dragging=new rt;change=new rt;changed=new rt;initialized=new rt;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(t,r,i,o,s,a,c,l,h,p,g,m){this.el=t,this.resizeService=r,this.carouselService=i,this.navigationService=o,this.autoplayService=s,this.lazyLoadService=a,this.animateService=c,this.autoHeightService=l,this.hashService=h,this.logger=p,this.changeDetectorRef=g,this.docRef=m}onVisibilityChange(t){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause();break;default:break}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(oe(t=>{this.carouselService.setup(this.carouselWindowWidth,t.toArray(),this.options),this.carouselService.initialize(t.toArray()),t.toArray().length||(this.carouselLoaded=!1),t.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(oe(t=>{this.owlDOMData=t.owlDOMData,this.stageData=t.stageData,this.slidesData=t.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=t.navData,this.dotsData=t.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(oe(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(oe(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(oe(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(nt(t=>{let r=ee(t).pipe(Ke(()=>t.property.name==="position"),nt(()=>ke(this.slidesData)),Pl(t.property.value),pt(this.carouselService.settings.items),te(i=>{let o=this.carouselService.clonedIdPrefix,s=i.id.indexOf(o)>=0?i.id.slice(o.length):i.id;return Pe(U({},i),{id:s,isActive:!0})}),xg(),te(i=>({slides:i,startPosition:this.carouselService.relative(t.property.value)})));return An(r)}),oe(t=>{this.gatherTranslatedData(),this.changed.emit(t.slides.length?t:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(oe(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),nt(()=>this.carouselService.getDraggedState().pipe(te(()=>!!this.carouselService.is("animating")))),nt(t=>t?this.carouselService.getTranslatedState().pipe(en()):ee("not animating")),oe(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=An(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(Ke(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),Og(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(t){this.carouselLoaded&&this.navigationService.moveByDot(t)}to(t){this.carouselLoaded&&this.navigationService.toSlideById(t)}gatherTranslatedData(){let t,r=this.carouselService.clonedIdPrefix,i=this.slidesData.filter(o=>o.isActive===!0).map(o=>({id:o.id.indexOf(r)>=0?o.id.slice(r.length):o.id,width:o.width,marginL:o.marginL,marginR:o.marginR,center:o.isCentered}));t=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:t,slides:i}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(r){return new(r||n)(Y(nn),Y(GA),Y(kr),Y(jA),Y(BA),Y($A),Y(n_),Y(HA),Y(zA),Y(r_),Y(li),Y(jh))};static \u0275cmp=ft({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(r,i,o){if(r&1&&Ud(o,o_,4),r&2){let s;gs(s=ms())&&(i.slides=s)}},hostBindings:function(r,i){r&1&&He("visibilitychange",function(s){return i.onVisibilityChange(s)},!1,hD)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},standalone:!1,features:[uS([jA,BA,kr,$A,n_,HA,zA]),Sr],decls:4,vars:9,consts:[["owlCarousel",""],[1,"owl-carousel","owl-theme",3,"mouseover","mouseleave","touchstart","touchend","ngClass"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"click","ngClass","innerHTML"],[1,"owl-next",3,"click","ngClass","innerHTML"],[1,"owl-dots",3,"ngClass"],[1,"owl-dot",3,"ngClass"],[1,"owl-dot",3,"click","ngClass"],[3,"innerHTML"]],template:function(r,i){if(r&1){let o=vn();P(0,"div",1,0),He("mouseover",function(){return xt(o),Nt(i.startPausing())})("mouseleave",function(){return xt(o),Nt(i.startPlayML())})("touchstart",function(){return xt(o),Nt(i.startPausing())})("touchend",function(){return xt(o),Nt(i.startPlayTE())}),Ee(2,rj,2,6,"div",2)(3,oj,6,14),N()}r&2&&(q("ngClass",tv(3,ej,i.owlDOMData==null?null:i.owlDOMData.rtl,i.owlDOMData==null?null:i.owlDOMData.isLoaded,i.owlDOMData==null?null:i.owlDOMData.isResponsive,i.owlDOMData==null?null:i.owlDOMData.isMouseDragable,i.owlDOMData==null?null:i.owlDOMData.isGrab)),V(2),Vd(i.carouselLoaded?2:-1),V(),Vd(i.slides.toArray().length?3:-1))},dependencies:[qd,yj],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})();var QA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rr({type:n});static \u0275inj=Tr({providers:[lj,GA,gj,r_],imports:[Ot]})}return n})();var ks=class n{transform(e){return e?e.replaceAll(/\\n/g,"<br />"):""}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=Fd({name:"replaceLineBreaks",type:n,pure:!0})};var YA=()=>{};var XA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_j=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Bh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,l=c?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,m=l&63;c||(m=64,s||(g=64)),r.push(t[h],t[p],t[g],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_j(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new a_;let g=o<<2|a>>4;if(r.push(g),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let _=l<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},a_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wj=function(n){let e=XA(n);return Bh.encodeByteArray(e,!0)},Kc=function(n){return wj(n).replace(/\./g,"")},$h=function(n){try{return Bh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ej=()=>u_().__FIREBASE_DEFAULTS__,Ij=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&$h(n[1]);return e&&JSON.parse(e)},Hh=()=>{try{return YA()||Ej()||Ij()||bj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eM=n=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},tM=n=>{let e=eM(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},l_=()=>{var n;return(n=Hh())===null||n===void 0?void 0:n.config},nM=n=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${n}`]};var ao=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Fs(n){return n.endsWith(".cloudworkstations.dev")}function d_(n){return M(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function rM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kc(JSON.stringify(t)),Kc(JSON.stringify(s)),""].join(".")}var Gc={};function Tj(){let n={prod:[],emulator:[]};for(let e of Object.keys(Gc))Gc[e]?n.emulator.push(e):n.prod.push(e);return n}function Cj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var JA=!1;function h_(n,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||Gc[n]===e||Gc[n]||JA)return;Gc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=Tj().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,m){g.setAttribute("width","24"),g.setAttribute("id",m),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{JA=!0,s()},g}function h(g,m){g.setAttribute("id",m),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=Cj(r),m=t("text"),_=document.getElementById(m)||document.createElement("span"),T=t("learnmore"),A=document.getElementById(T)||document.createElement("a"),O=t("preprendIcon"),H=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let z=g.element;a(z),h(A,T);let ie=l();c(H,O),z.append(H,_,A,ie),document.body.appendChild(z)}o?(_.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Dj(){var n;let e=(n=Hh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){return!Dj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qc(){try{return typeof indexedDB=="object"}catch{return!1}}function uM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Sj="FirebaseError",In=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ln.prototype.create)}},Ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Aj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new In(i,a,r)}};function Aj(n,e){return n.replace(Mj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Mj=/\{\$([^}]+)}/g;function co(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(ZA(o)&&ZA(s)){if(!co(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function ZA(n){return n!==null&&typeof n=="object"}function f_(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lM(n,e){let t=new c_(n,e);return t.subscribe.bind(t)}var c_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Rj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=s_),i.error===void 0&&(i.error=s_),i.complete===void 0&&(i.complete=s_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Rj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function s_(){}var GX=4*60*60*1e3;function ln(n){return n&&n._delegate?n._delegate:n}var Ht=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var uo="[DEFAULT]";var p_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ao;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xj(e))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=uo){return this.instances.has(e)}getOptions(e=uo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=uo){return this.component?this.component.multipleInstances?e:uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Pj(n){return n===uo?void 0:n}function xj(n){return n.instantiationMode==="EAGER"}var zh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new p_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Nj=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),Oj={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},kj=Ce.INFO,Fj={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},Lj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Fj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},sr=class{constructor(e){this.name=e,this._logLevel=kj,this._logHandler=Lj,this._userLogHandler=null,Nj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Oj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var Vj=(n,e)=>e.some(t=>n instanceof t),dM,hM;function Uj(){return dM||(dM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jj(){return hM||(hM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fM=new WeakMap,m_=new WeakMap,pM=new WeakMap,g_=new WeakMap,v_=new WeakMap;function Bj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ar(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&fM.set(t,n)}).catch(()=>{}),v_.set(e,n),e}function $j(n){if(m_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});m_.set(n,e)}var y_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return m_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||pM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ar(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gM(n){y_=n(y_)}function Hj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(qh(this),e,...t);return pM.set(r,e.sort?e.sort():[e]),ar(r)}:jj().includes(n)?function(...e){return n.apply(qh(this),e),ar(fM.get(this))}:function(...e){return ar(n.apply(qh(this),e))}}function zj(n){return typeof n=="function"?Hj(n):(n instanceof IDBTransaction&&$j(n),Vj(n,Uj())?new Proxy(n,y_):n)}function ar(n){if(n instanceof IDBRequest)return Bj(n);if(g_.has(n))return g_.get(n);let e=zj(n);return e!==n&&(g_.set(n,e),v_.set(e,n)),e}var qh=n=>v_.get(n);function yM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=ar(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ar(s.result),c.oldVersion,c.newVersion,ar(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qj=["get","getKey","getAll","getAllKeys","count"],Wj=["put","add","delete","clear"],__=new Map;function mM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(__.get(e))return __.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Wj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qj.includes(t)))return;let o=function(s,...a){return M(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&c.done]))[0]})};return __.set(e,o),o}gM(n=>Pe(U({},n),{get:(e,t,r)=>mM(e,t)||n.get(e,t,r),has:(e,t)=>!!mM(e,t)||n.has(e,t)}));var E_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Gj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Gj(n){let e=n.getComponent();return e?.type==="VERSION"}var I_="@firebase/app",vM="0.13.0";var Fr=new sr("@firebase/app"),Kj="@firebase/app-compat",Qj="@firebase/analytics-compat",Yj="@firebase/analytics",Jj="@firebase/app-check-compat",Zj="@firebase/app-check",Xj="@firebase/auth",eB="@firebase/auth-compat",tB="@firebase/database",nB="@firebase/data-connect",rB="@firebase/database-compat",iB="@firebase/functions",oB="@firebase/functions-compat",sB="@firebase/installations",aB="@firebase/installations-compat",cB="@firebase/messaging",uB="@firebase/messaging-compat",lB="@firebase/performance",dB="@firebase/performance-compat",hB="@firebase/remote-config",fB="@firebase/remote-config-compat",pB="@firebase/storage",gB="@firebase/storage-compat",mB="@firebase/firestore",yB="@firebase/ai",vB="@firebase/firestore-compat",_B="firebase",wB="11.8.0";var b_="[DEFAULT]",EB={[I_]:"fire-core",[Kj]:"fire-core-compat",[Yj]:"fire-analytics",[Qj]:"fire-analytics-compat",[Zj]:"fire-app-check",[Jj]:"fire-app-check-compat",[Xj]:"fire-auth",[eB]:"fire-auth-compat",[tB]:"fire-rtdb",[nB]:"fire-data-connect",[rB]:"fire-rtdb-compat",[iB]:"fire-fn",[oB]:"fire-fn-compat",[sB]:"fire-iid",[aB]:"fire-iid-compat",[cB]:"fire-fcm",[uB]:"fire-fcm-compat",[lB]:"fire-perf",[dB]:"fire-perf-compat",[hB]:"fire-rc",[fB]:"fire-rc-compat",[pB]:"fire-gcs",[gB]:"fire-gcs-compat",[mB]:"fire-fst",[vB]:"fire-fst-compat",[yB]:"fire-vertex","fire-js":"fire-js",[_B]:"fire-js-all"};var Yc=new Map,IB=new Map,T_=new Map;function _M(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vn(n){let e=n.name;if(T_.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,n);for(let t of Yc.values())_M(t,n);for(let t of IB.values())_M(t,n);return!0}function Wh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Lr(n){return n==null?!1:n.settings!==void 0}var bB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yi=new Ln("app","Firebase",bB);var C_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yi.create("app-deleted",{appName:this._name})}};var Ls=wB;function A_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:b_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yi.create("bad-app-name",{appName:String(i)});if(t||(t=l_()),!t)throw yi.create("no-options");let o=Yc.get(i);if(o){if(co(t,o.options)&&co(r,o.config))return o;throw yi.create("duplicate-app",{appName:i})}let s=new zh(i);for(let c of T_.values())s.addComponent(c);let a=new C_(t,r,s);return Yc.set(i,a),a}function Vs(n=b_){let e=Yc.get(n);if(!e&&n===b_&&l_())return A_();if(!e)throw yi.create("no-app",{appName:n});return e}function Gh(){return Array.from(Yc.values())}function ot(n,e,t){var r;let i=(r=EB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(a.join(" "));return}Vn(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var TB="firebase-heartbeat-database",CB=1,Jc="firebase-heartbeat-store",w_=null;function bM(){return w_||(w_=yM(TB,CB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Jc)}catch(t){console.warn(t)}}}}).catch(n=>{throw yi.create("idb-open",{originalErrorMessage:n.message})})),w_}function DB(n){return M(this,null,function*(){try{let t=(yield bM()).transaction(Jc),r=yield t.objectStore(Jc).get(TM(n));return yield t.done,r}catch(e){if(e instanceof In)Fr.warn(e.message);else{let t=yi.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(t.message)}}})}function wM(n,e){return M(this,null,function*(){try{let r=(yield bM()).transaction(Jc,"readwrite");yield r.objectStore(Jc).put(e,TM(n)),yield r.done}catch(t){if(t instanceof In)Fr.warn(t.message);else{let r=yi.create("idb-set",{originalErrorMessage:t?.message});Fr.warn(r.message)}}})}function TM(n){return`${n.name}!${n.options.appId}`}var SB=1024,AB=30,D_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new S_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=EM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>AB){let s=RB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fr.warn(r)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=EM(),{heartbeatsToSend:r,unsentEntries:i}=MB(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Fr.warn(t),""}})}};function EM(){return new Date().toISOString().substring(0,10)}function MB(n,e=SB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var S_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return Qc()?uM().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield DB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function IM(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function RB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function PB(n){Vn(new Ht("platform-logger",e=>new E_(e),"PRIVATE")),Vn(new Ht("heartbeat",e=>new D_(e),"PRIVATE")),ot(I_,vM,n),ot(I_,vM,"esm2017"),ot("fire-js","")}PB("");var xB="firebase",NB="11.8.1";ot(xB,NB,"app");function M_(n){n===void 0&&(eC(M_),n=F(Kt));let e=n.get(bd);return t=>new de(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ho=new ic("ANGULARFIRE2_VERSION");function Qh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var js=(n,e)=>{let t=e?[e]:Gh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Us=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Us||{}),CM=pc()&&typeof Zone<"u"?Us.WARN:Us.SILENT;var Kh=class{zone;delegate;constructor(e,t=Ag){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},fo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=F(xe);this.outsideAngular=t.runOutsideAngular(()=>new Kh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Kh(typeof Zone>"u"?void 0:Zone.current,zo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DM=!1;function OB(n,e){!DM&&(CM>Us.SILENT||pc())&&(DM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),CM>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function kB(n){let e=F(xe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function lo(n){let e=F(xe,{optional:!0});return e?e.run(()=>n()):n()}var FB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Tt(t,()=>lo(()=>n.apply(void 0,r)))),dn=(n,e,t)=>(t||=e?Us.WARN:Us.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=F(fo),s=F(bd),a=F(bt)}catch{return OB(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=lo(()=>s.add())),i[l]=FB(i[l],r,a));let c=kB(()=>n.apply(this,i));return e?c instanceof de?c.pipe(Xr(o.outsideAngular),Zr(o.insideAngular),M_(a)):c instanceof Promise?lo(()=>new Promise((l,h)=>{s.run(()=>c).then(p=>Tt(a,()=>lo(()=>l(p))),p=>Tt(a,()=>lo(()=>h(p))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:lo(()=>c):c instanceof de?c.pipe(Xr(o.outsideAngular),Zr(o.insideAngular)):lo(()=>c)});var po=class{constructor(e){return e}},Zc=class{constructor(){return Gh()}};function LB(n){return n&&n.length===1?n[0]:new po(Vs())}var R_=new K("angularfire2._apps"),VB={provide:po,useFactory:LB,deps:[[new Jn,R_]]},UB={provide:Zc,deps:[[new Jn,R_]]};function jB(n){return(e,t)=>{let r=t.get($t);ot("angularfire",ho.full,"core"),ot("angularfire",ho.full,"app"),ot("angular",hS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new po(i)}}function SM(n,...e){return ai([VB,UB,{provide:R_,useFactory:jB(n),multi:!0,deps:[xe,Kt,fo,...e]}])}var AM=dn(A_,!0);var BB=new Map,$B={activated:!1,tokenObservers:[]},HB={initialized:!1,enabled:!1};function Un(n){return BB.get(n)||Object.assign({},$B)}function xM(){return HB}var zB="https://content-firebaseappcheck.googleapis.com/v1";var qB="exchangeDebugToken",MM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},ete=24*60*60*1e3;var N_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return M(this,null,function*(){this.stop();try{this.pending=new ao,this.pending.promise.catch(t=>{}),yield WB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ao,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function WB(n){return new Promise(e=>{setTimeout(e,n)})}var GB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},vi=new Ln("appCheck","AppCheck",GB);function NM(n){if(!Un(n).activated)throw vi.create("use-before-activation",{appName:n.name})}function OM(r,i){return M(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(m){throw vi.create("fetch-network-error",{originalErrorMessage:m?.message})}if(c.status!==200)throw vi.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(m){throw vi.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function kM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${zB}/projects/${t}/apps/${r}:${qB}?key=${i}`,body:{debug_token:e}}}var KB="firebase-app-check-database",QB=1,O_="firebase-app-check-store";var Yh=null;function YB(){return Yh||(Yh=new Promise((n,e)=>{try{let t=indexedDB.open(KB,QB);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(O_,{keyPath:"compositeKey"})}}}catch(t){e(vi.create("storage-open",{originalErrorMessage:t?.message}))}}),Yh)}function JB(n,e){return ZB(XB(n),e)}function ZB(n,e){return M(this,null,function*(){let r=(yield YB()).transaction(O_,"readwrite"),o=r.objectStore(O_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(vi.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function XB(n){return`${n.options.appId}-${n.name}`}var Xc=new sr("@firebase/app-check");function P_(n,e){return Qc()?JB(n,e).catch(t=>{Xc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FM(){return xM().enabled}function LM(){return M(this,null,function*(){let n=xM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var e3={error:"UNKNOWN_ERROR"};function t3(n){return Bh.encodeString(JSON.stringify(n),!1)}function k_(n,e=!1,t=!1){return M(this,null,function*(){let r=n.app;NM(r);let i=Un(r),o=i.token,s;if(o&&!eu(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(eu(l)?o=l:yield P_(r,void 0))}if(!e&&o&&eu(o))return{token:o.token};let a=!1;if(FM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=OM(kM(r,yield LM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield P_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),x_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xc.warn(l.message):t&&Xc.error(l),s=l}let c;return o?s?eu(o)?c={token:o.token,internalError:s}:c=x_(s):(c={token:o.token},i.token=o,yield P_(r,o)):c=x_(s),a&&o3(r,c),c})}function n3(n){return M(this,null,function*(){let e=n.app;NM(e);let{provider:t}=Un(e);if(FM()){let r=yield LM(),{token:i}=yield OM(kM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function r3(n,e,t,r){let{app:i}=n,o=Un(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&eu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),RM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>RM(n))}function VM(n,e){let t=Un(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function RM(n){let{app:e}=n,t=Un(e),r=t.tokenRefresher;r||(r=i3(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function i3(n){let{app:e}=n;return new N_(()=>M(null,null,function*(){let t=Un(e),r;if(t.token?r=yield k_(n,!0):r=yield k_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Un(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},MM.RETRIAL_MIN_WAIT,MM.RETRIAL_MAX_WAIT)}function o3(n,e){let t=Un(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function eu(n){return n.expireTimeMillis-Date.now()>0}function x_(n){return{token:t3(e3),error:n}}var F_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Un(this.app);for(let t of e)VM(this.app,t.next);return Promise.resolve()}};function s3(n,e){return new F_(n,e)}function a3(n){return{getToken:e=>k_(n,e),getLimitedUseToken:()=>n3(n),addTokenListener:e=>r3(n,"INTERNAL",e),removeTokenListener:e=>VM(n.app,e)}}var c3="@firebase/app-check",u3="0.10.0";var l3="app-check",PM="app-check-internal";function d3(){Vn(new Ht(l3,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return s3(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PM).initialize()})),Vn(new Ht(PM,n=>{let e=n.getProvider("app-check").getImmediate();return a3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ot(c3,u3)}d3();var h3="app-check";var Jh=class{constructor(){return js(h3)}};var f3=["localhost","0.0.0.0","127.0.0.1"],fte=typeof window<"u"&&f3.includes(window.location.hostname);function WM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var GM=WM,KM=new Ln("auth","Firebase",WM());var tf=new sr("@firebase/auth");function g3(n,...e){tf.logLevel<=Ce.WARN&&tf.warn(`Auth (${Ls}): ${n}`,...e)}function Xh(n,...e){tf.logLevel<=Ce.ERROR&&tf.error(`Auth (${Ls}): ${n}`,...e)}function UM(n,...e){throw K_(n,...e)}function G_(n,...e){return K_(n,...e)}function QM(n,e,t){let r=Object.assign(Object.assign({},GM()),{[e]:t});return new Ln("auth","Firebase",r).create(e,{appName:n.name})}function ef(n){return QM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function K_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KM.create(n,...e)}function Oe(n,e,...t){if(!n)throw K_(e,...t)}function tu(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Xh(e),new Error(e)}function nf(n,e){n||tu(e)}function m3(){return jM()==="http:"||jM()==="https:"}function jM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function y3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m3()||sM()||"connection"in navigator)?navigator.onLine:!0}function v3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var yo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,nf(t>e,"Short delay should be less than long delay!"),this.isMobile=iM()||aM()}get(){return y3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function _3(n,e){nf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var rf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var w3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I3=new yo(3e4,6e4);function YM(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function uf(o,s,a,c){return M(this,arguments,function*(n,e,t,r,i={}){return JM(n,i,()=>M(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=f_(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let m=Object.assign({method:e,headers:g},l);return oM()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Fs(n.emulatorConfig.host)&&(m.credentials="include"),rf.fetch()(yield ZM(n,n.config.apiHost,t,p),m)}))})}function JM(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},w3),e);try{let i=new U_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Zh(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw Zh(n,"user-disabled",s);let h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QM(n,h,l);UM(n,h)}}catch(i){if(i instanceof In)throw i;UM(n,"network-request-failed",{message:String(i)})}})}function ZM(n,e,t,r){return M(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?_3(n.config,i):`${n.config.apiScheme}://${i}`;return E3.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var U_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(G_(this.auth,"network-request-failed")),I3.get())})}};function Zh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=G_(n,e,r);return i.customData._tokenResponse=t,i}function b3(n,e){return M(this,null,function*(){return uf(n,"POST","/v1/accounts:delete",e)})}function of(n,e){return M(this,null,function*(){return uf(n,"POST","/v1/accounts:lookup",e)})}function nu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Q_(n,e=!1){return M(this,null,function*(){let t=ln(n),r=yield t.getIdToken(e),i=XM(r);Oe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:nu(L_(i.auth_time)),issuedAtTime:nu(L_(i.iat)),expirationTime:nu(L_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function L_(n){return Number(n)*1e3}function XM(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Xh("JWT malformed, contained fewer than 3 sections"),null;try{let i=$h(t);return i?JSON.parse(i):(Xh("Failed to decode base64 JWT payload"),null)}catch(i){return Xh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function BM(n){let e=XM(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function j_(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof In&&T3(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function T3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var B_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var iu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sf(n){return M(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield j_(n,of(t,{idToken:r}));Oe(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?eR(o.providerUserInfo):[],a=C3(n.providerData,s),c=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=c?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new iu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Y_(n){return M(this,null,function*(){let e=ln(n);yield sf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function C3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eR(n){return n.map(e=>{var{providerId:t}=e,r=Rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D3(n,e){return M(this,null,function*(){let t=yield JM(n,{},()=>M(null,null,function*(){let r=f_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield ZM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function S3(n,e){return M(this,null,function*(){return uf(n,"POST","/v2/accounts:revokeToken",YM(n,e))})}var ru=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");let t=BM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield D3(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Oe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return tu("not implemented")}};function _i(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var go=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield j_(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Q_(this,e)}reload(){return Y_(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield sf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(Lr(this.auth.app))return Promise.reject(ef(this.auth));let e=yield this.getIdToken();return yield j_(this,b3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,m=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,_=(s=t.photoURL)!==null&&s!==void 0?s:void 0,T=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:z,emailVerified:ie,isAnonymous:ze,providerData:le,stsTokenManager:I}=t;Oe(z&&I,e,"internal-error");let v=ru.fromJSON(this.name,I);Oe(typeof z=="string",e,"internal-error"),_i(p,e.name),_i(g,e.name),Oe(typeof ie=="boolean",e,"internal-error"),Oe(typeof ze=="boolean",e,"internal-error"),_i(m,e.name),_i(_,e.name),_i(T,e.name),_i(A,e.name),_i(O,e.name),_i(H,e.name);let w=new n({uid:z,auth:e,email:g,emailVerified:ie,displayName:p,isAnonymous:ze,photoURL:_,phoneNumber:m,tenantId:T,stsTokenManager:v,createdAt:O,lastLoginAt:H});return le&&Array.isArray(le)&&(w.providerData=le.map(b=>Object.assign({},b))),A&&(w._redirectEventId=A),w}static _fromIdTokenResponse(e,t,r=!1){return M(this,null,function*(){let i=new ru;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return M(this,null,function*(){let i=t.users[0];Oe(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?eR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new ru;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var $M=new Map;function mo(n){nf(n instanceof Function,"Expected a class definition");let e=$M.get(n);return e?(nf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$M.set(n,e),e)}var A3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,r){return M(this,null,function*(){this.storage[t]=r})}_get(t){return M(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),$_=A3;function V_(n,e,t){return`firebase:${n}:${e}:${t}`}var af=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=V_(this.userKey,i.apiKey,o),this.fullPersistenceKey=V_("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield of(this.auth,{idToken:e}).catch(()=>{});return t?go._fromGetAccountInfoResponse(this.auth,t,e):null}return go._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return M(this,null,function*(){if(!t.length)return new n(mo($_),e,r);let i=(yield Promise.all(t.map(l=>M(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||mo($_),s=V_(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield of(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield go._fromGetAccountInfoResponse(e,g,h)}else p=go._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>M(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function HM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O3(e))return"Blackberry";if(k3(e))return"Webos";if(R3(e))return"Safari";if((e.includes("chrome/")||P3(e))&&!e.includes("edge/"))return"Chrome";if(N3(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function M3(n=un()){return/firefox\//i.test(n)}function R3(n=un()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P3(n=un()){return/crios\//i.test(n)}function x3(n=un()){return/iemobile/i.test(n)}function N3(n=un()){return/android/i.test(n)}function O3(n=un()){return/blackberry/i.test(n)}function k3(n=un()){return/webos/i.test(n)}function tR(n,e=[]){let t;switch(n){case"Browser":t=HM(un());break;case"Worker":t=`${HM(un())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ls}/${r}`}var H_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function F3(t){return M(this,arguments,function*(n,e={}){return uf(n,"GET","/v2/passwordPolicy",YM(n,e))})}var L3=6,z_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:L3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var q_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cf(this),this.idTokenSubscription=new cf(this),this.beforeStateQueue=new H_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mo(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield af.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield of(this,{idToken:e}),r=yield go._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(Lr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=v3()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(Lr(this.app))return Promise.reject(ef(this));let t=e?ln(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return Lr(this.app)?Promise.reject(ef(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Lr(this.app)?Promise.reject(ef(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(mo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield F3(this),t=new z_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield S3(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&mo(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[mo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return M(this,null,function*(){var e;if(Lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&g3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function V3(n){return ln(n)}var cf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var U3={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j3(n){U3=n}function B3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function $3(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(mo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Cte=B3("rcb"),Dte=new yo(3e4,6e4);var Ste=new yo(2e3,1e4);var Ate=10*60*1e3;var Mte=new yo(3e4,6e4);var Rte=new yo(5e3,15e3);var Pte=encodeURIComponent("fac");var zM="@firebase/auth",qM="1.10.6";var W_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function H3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z3(n){Vn(new Ht("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tR(n)},l=new q_(r,i,o,c);return $3(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vn(new Ht("auth-internal",e=>{let t=V3(e.getProvider("auth").getImmediate());return(r=>new W_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(zM,qM,H3(n)),ot(zM,qM,"esm2017")}var q3=5*60,xte=nM("authIdTokenMaxAge")||q3;function W3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}j3({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=G_("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",W3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z3("Browser");var z$="auth";var lf=class{constructor(){return js(z$)}};var nR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rR={};var Vr,J_;(function(){var n;function e(I,v){function w(){}w.prototype=v.prototype,I.D=v.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(b,C,S){for(var E=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)E[pn-2]=arguments[pn];return v.prototype[C].apply(b,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,w){w||(w=0);var b=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)b[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)b[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=I.g[0],w=I.g[1],C=I.g[2];var S=I.g[3],E=v+(S^w&(C^S))+b[0]+3614090360&4294967295;v=w+(E<<7&4294967295|E>>>25),E=S+(C^v&(w^C))+b[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(w^S&(v^w))+b[2]+606105819&4294967295,C=S+(E<<17&4294967295|E>>>15),E=w+(v^C&(S^v))+b[3]+3250441966&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(S^w&(C^S))+b[4]+4118548399&4294967295,v=w+(E<<7&4294967295|E>>>25),E=S+(C^v&(w^C))+b[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(w^S&(v^w))+b[6]+2821735955&4294967295,C=S+(E<<17&4294967295|E>>>15),E=w+(v^C&(S^v))+b[7]+4249261313&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(S^w&(C^S))+b[8]+1770035416&4294967295,v=w+(E<<7&4294967295|E>>>25),E=S+(C^v&(w^C))+b[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(w^S&(v^w))+b[10]+4294925233&4294967295,C=S+(E<<17&4294967295|E>>>15),E=w+(v^C&(S^v))+b[11]+2304563134&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(S^w&(C^S))+b[12]+1804603682&4294967295,v=w+(E<<7&4294967295|E>>>25),E=S+(C^v&(w^C))+b[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=C+(w^S&(v^w))+b[14]+2792965006&4294967295,C=S+(E<<17&4294967295|E>>>15),E=w+(v^C&(S^v))+b[15]+1236535329&4294967295,w=C+(E<<22&4294967295|E>>>10),E=v+(C^S&(w^C))+b[1]+4129170786&4294967295,v=w+(E<<5&4294967295|E>>>27),E=S+(w^C&(v^w))+b[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(S^v))+b[11]+643717713&4294967295,C=S+(E<<14&4294967295|E>>>18),E=w+(S^v&(C^S))+b[0]+3921069994&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(w^C))+b[5]+3593408605&4294967295,v=w+(E<<5&4294967295|E>>>27),E=S+(w^C&(v^w))+b[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(S^v))+b[15]+3634488961&4294967295,C=S+(E<<14&4294967295|E>>>18),E=w+(S^v&(C^S))+b[4]+3889429448&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(w^C))+b[9]+568446438&4294967295,v=w+(E<<5&4294967295|E>>>27),E=S+(w^C&(v^w))+b[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(S^v))+b[3]+4107603335&4294967295,C=S+(E<<14&4294967295|E>>>18),E=w+(S^v&(C^S))+b[8]+1163531501&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(C^S&(w^C))+b[13]+2850285829&4294967295,v=w+(E<<5&4294967295|E>>>27),E=S+(w^C&(v^w))+b[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=C+(v^w&(S^v))+b[7]+1735328473&4294967295,C=S+(E<<14&4294967295|E>>>18),E=w+(S^v&(C^S))+b[12]+2368359562&4294967295,w=C+(E<<20&4294967295|E>>>12),E=v+(w^C^S)+b[5]+4294588738&4294967295,v=w+(E<<4&4294967295|E>>>28),E=S+(v^w^C)+b[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^w)+b[11]+1839030562&4294967295,C=S+(E<<16&4294967295|E>>>16),E=w+(C^S^v)+b[14]+4259657740&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^S)+b[1]+2763975236&4294967295,v=w+(E<<4&4294967295|E>>>28),E=S+(v^w^C)+b[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^w)+b[7]+4139469664&4294967295,C=S+(E<<16&4294967295|E>>>16),E=w+(C^S^v)+b[10]+3200236656&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^S)+b[13]+681279174&4294967295,v=w+(E<<4&4294967295|E>>>28),E=S+(v^w^C)+b[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^w)+b[3]+3572445317&4294967295,C=S+(E<<16&4294967295|E>>>16),E=w+(C^S^v)+b[6]+76029189&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(w^C^S)+b[9]+3654602809&4294967295,v=w+(E<<4&4294967295|E>>>28),E=S+(v^w^C)+b[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=C+(S^v^w)+b[15]+530742520&4294967295,C=S+(E<<16&4294967295|E>>>16),E=w+(C^S^v)+b[2]+3299628645&4294967295,w=C+(E<<23&4294967295|E>>>9),E=v+(C^(w|~S))+b[0]+4096336452&4294967295,v=w+(E<<6&4294967295|E>>>26),E=S+(w^(v|~C))+b[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~w))+b[14]+2878612391&4294967295,C=S+(E<<15&4294967295|E>>>17),E=w+(S^(C|~v))+b[5]+4237533241&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~S))+b[12]+1700485571&4294967295,v=w+(E<<6&4294967295|E>>>26),E=S+(w^(v|~C))+b[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~w))+b[10]+4293915773&4294967295,C=S+(E<<15&4294967295|E>>>17),E=w+(S^(C|~v))+b[1]+2240044497&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~S))+b[8]+1873313359&4294967295,v=w+(E<<6&4294967295|E>>>26),E=S+(w^(v|~C))+b[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~w))+b[6]+2734768916&4294967295,C=S+(E<<15&4294967295|E>>>17),E=w+(S^(C|~v))+b[13]+1309151649&4294967295,w=C+(E<<21&4294967295|E>>>11),E=v+(C^(w|~S))+b[4]+4149444226&4294967295,v=w+(E<<6&4294967295|E>>>26),E=S+(w^(v|~C))+b[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=C+(v^(S|~w))+b[2]+718787259&4294967295,C=S+(E<<15&4294967295|E>>>17),E=w+(S^(C|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+S&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var w=v-this.blockSize,b=this.B,C=this.h,S=0;S<v;){if(C==0)for(;S<=w;)i(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(b[C++]=I.charCodeAt(S++),C==this.blockSize){i(this,b),C=0;break}}else for(;S<v;)if(b[C++]=I[S++],C==this.blockSize){i(this,b),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var w=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=w&255,w/=256;for(this.u(I),I=Array(16),v=w=0;4>v;++v)for(var b=0;32>b;b+=8)I[w++]=this.g[v]>>>b&255;return I};function o(I,v){var w=a;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=v(I)}function s(I,v){this.h=v;for(var w=[],b=!0,C=I.length-1;0<=C;C--){var S=I[C]|0;b&&S==v||(w[C]=S,b=!1)}this.g=w}var a={};function c(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function l(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return A(l(-I));for(var v=[],w=1,b=0;I>=w;b++)v[b]=I/w|0,w*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(v,8)),b=p,C=0;C<I.length;C+=8){var S=Math.min(8,I.length-C),E=parseInt(I.substring(C,C+S),v);8>S?(S=l(Math.pow(v,S)),b=b.j(S).add(l(E))):(b=b.j(w),b=b.add(l(E)))}return b}var p=c(0),g=c(1),m=c(16777216);n=s.prototype,n.m=function(){if(T(this))return-A(this).m();for(var I=0,v=1,w=0;w<this.g.length;w++){var b=this.i(w);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(_(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var v=l(Math.pow(I,6)),w=this,b="";;){var C=ie(w,v).g;w=O(w,C.j(v));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=C,_(w))return S+b;for(;6>S.length;)S="0"+S;b=S+b}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function _(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}n.l=function(I){return I=O(this,I),T(I)?-1:_(I)?0:1};function A(I){for(var v=I.g.length,w=[],b=0;b<v;b++)w[b]=~I.g[b];return new s(w,~I.h).add(g)}n.abs=function(){return T(this)?A(this):this},n.add=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],b=0,C=0;C<=v;C++){var S=b+(this.i(C)&65535)+(I.i(C)&65535),E=(S>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);b=E>>>16,S&=65535,E&=65535,w[C]=E<<16|S}return new s(w,w[w.length-1]&-2147483648?-1:0)};function O(I,v){return I.add(A(v))}n.j=function(I){if(_(this)||_(I))return p;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(m)&&0>I.l(m))return l(this.m()*I.m());for(var v=this.g.length+I.g.length,w=[],b=0;b<2*v;b++)w[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<I.g.length;C++){var S=this.i(b)>>>16,E=this.i(b)&65535,pn=I.i(C)>>>16,Wr=I.i(C)&65535;w[2*b+2*C]+=E*Wr,H(w,2*b+2*C),w[2*b+2*C+1]+=S*Wr,H(w,2*b+2*C+1),w[2*b+2*C+1]+=E*pn,H(w,2*b+2*C+1),w[2*b+2*C+2]+=S*pn,H(w,2*b+2*C+2)}for(b=0;b<v;b++)w[b]=w[2*b+1]<<16|w[2*b];for(b=v;b<2*v;b++)w[b]=0;return new s(w,0)};function H(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function z(I,v){this.g=I,this.h=v}function ie(I,v){if(_(v))throw Error("division by zero");if(_(I))return new z(p,p);if(T(I))return v=ie(A(I),v),new z(A(v.g),A(v.h));if(T(v))return v=ie(I,A(v)),new z(A(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,b=v;0>=b.l(I);)w=ze(w),b=ze(b);var C=le(w,1),S=le(b,1);for(b=le(b,2),w=le(w,2);!_(b);){var E=S.add(b);0>=E.l(I)&&(C=C.add(w),S=E),b=le(b,1),w=le(w,1)}return v=O(I,C.j(v)),new z(C,v)}for(C=p;0<=I.l(v);){for(w=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(w)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),S=l(w),E=S.j(v);T(E)||0<E.l(I);)w-=b,S=l(w),E=S.j(v);_(S)&&(S=g),C=C.add(S),I=O(I,E)}return new z(C,I)}n.A=function(I){return ie(this,I).h},n.and=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)&I.i(b);return new s(w,this.h&I.h)},n.or=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)|I.i(b);return new s(w,this.h|I.h)},n.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),w=[],b=0;b<v;b++)w[b]=this.i(b)^I.i(b);return new s(w,this.h^I.h)};function ze(I){for(var v=I.g.length+1,w=[],b=0;b<v;b++)w[b]=I.i(b)<<1|I.i(b-1)>>>31;return new s(w,I.h)}function le(I,v){var w=v>>5;v%=32;for(var b=I.g.length-w,C=[],S=0;S<b;S++)C[S]=0<v?I.i(S+w)>>>v|I.i(S+w+1)<<32-v:I.i(S+w);return new s(C,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,J_=rR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Vr=rR.Integer=s}).apply(typeof nR<"u"?nR:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ur={};var Z_,q$,Bs,X_,ou,hf,e0,t0,n0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,f){return u==Array.prototype||u==Object.prototype||(u[d]=f.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var d=0;d<u.length;++d){var f=u[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(u,d){if(d)e:{var f=r;u=u.split(".");for(var y=0;y<u.length-1;y++){var D=u[y];if(!(D in f))break e;f=f[D]}u=u[u.length-1],y=f[u],d=d(y),d!=y&&d!=null&&e(f,u,{configurable:!0,writable:!0,value:d})}}function o(u,d){u instanceof String&&(u+="");var f=0,y=!1,D={next:function(){if(!y&&f<u.length){var R=f++;return{value:d(R,u[R]),done:!1}}return y=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(u){return u||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function l(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function h(u,d,f){return u.call.apply(u.bind,arguments)}function p(u,d,f){if(!u)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,y),u.apply(d,D)}}return function(){return u.apply(d,arguments)}}function g(u,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function m(u,d){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),u.apply(this,y)}}function _(u,d){function f(){}f.prototype=d.prototype,u.aa=d.prototype,u.prototype=new f,u.prototype.constructor=u,u.Qb=function(y,D,R){for(var j=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)j[Fe-2]=arguments[Fe];return d.prototype[D].apply(y,j)}}function T(u){let d=u.length;if(0<d){let f=Array(d);for(let y=0;y<d;y++)f[y]=u[y];return f}return[]}function A(u,d){for(let f=1;f<arguments.length;f++){let y=arguments[f];if(c(y)){let D=u.length||0,R=y.length||0;u.length=D+R;for(let j=0;j<R;j++)u[D+j]=y[j]}else u.push(y)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(u){return/^[\s\xa0]*$/.test(u)}function z(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ie(u){return ie[" "](u),u}ie[" "]=function(){};var ze=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function le(u,d,f){for(let y in u)d.call(f,u[y],y,u)}function I(u,d){for(let f in u)d.call(void 0,u[f],f,u)}function v(u){let d={};for(let f in u)d[f]=u[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,d){let f,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(f in y)u[f]=y[f];for(let R=0;R<w.length;R++)f=w[R],Object.prototype.hasOwnProperty.call(y,f)&&(u[f]=y[f])}}function C(u){var d=1;u=u.split(":");let f=[];for(;0<d&&u.length;)f.push(u.shift()),d--;return u.length&&f.push(u.join(":")),f}function S(u){a.setTimeout(()=>{throw u},0)}function E(){var u=Te;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class pn{constructor(){this.h=this.g=null}add(d,f){let y=Wr.get();y.set(d,f),this.h?this.h.next=y:this.g=y,this.h=y}}var Wr=new O(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let J,X=!1,Te=new pn,tt=()=>{let u=a.Promise.resolve(void 0);J=()=>{u.then(gn)}};var gn=()=>{for(var u;u=E();){try{u.h.call(u.g)}catch(f){S(f)}var d=Wr;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}X=!1};function Je(){this.s=this.s,this.C=this.C}Je.prototype.s=!1,Je.prototype.ma=function(){this.s||(this.s=!0,this.N())},Je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function je(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}je.prototype.h=function(){this.defaultPrevented=!0};var Be=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return u}();function Gr(u,d){if(je.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var f=this.type=u.type,y=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(ze){e:{try{ie(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=u.fromElement:f=="mouseout"&&(d=u.toElement);this.relatedTarget=d,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Op[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Gr.aa.h.call(this)}}_(Gr,je);var Op={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ze="closure_listenable_"+(1e6*Math.random()|0),hr=0;function zt(u,d,f,y,D){this.listener=u,this.proxy=null,this.src=d,this.type=f,this.capture=!!y,this.ha=D,this.key=++hr,this.da=this.fa=!1}function fr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kr(u){this.src=u,this.g={},this.h=0}Kr.prototype.add=function(u,d,f,y,D){var R=u.toString();u=this.g[R],u||(u=this.g[R]=[],this.h++);var j=Fp(u,d,y,D);return-1<j?(d=u[j],f||(d.fa=!1)):(d=new zt(d,this.src,R,!!y,D),d.fa=f,u.push(d)),d};function kp(u,d){var f=d.type;if(f in u.g){var y=u.g[f],D=Array.prototype.indexOf.call(y,d,void 0),R;(R=0<=D)&&Array.prototype.splice.call(y,D,1),R&&(fr(d),u.g[f].length==0&&(delete u.g[f],u.h--))}}function Fp(u,d,f,y){for(var D=0;D<u.length;++D){var R=u[D];if(!R.da&&R.listener==d&&R.capture==!!f&&R.ha==y)return D}return-1}var Lp="closure_lm_"+(1e6*Math.random()|0),Vp={};function WE(u,d,f,y,D){if(y&&y.once)return KE(u,d,f,y,D);if(Array.isArray(d)){for(var R=0;R<d.length;R++)WE(u,d[R],f,y,D);return null}return f=$p(f),u&&u[Ze]?u.K(d,f,l(y)?!!y.capture:!!y,D):GE(u,d,f,!1,y,D)}function GE(u,d,f,y,D,R){if(!d)throw Error("Invalid event type");var j=l(D)?!!D.capture:!!D,Fe=jp(u);if(Fe||(u[Lp]=Fe=new Kr(u)),f=Fe.add(d,f,y,j,R),f.proxy)return f;if(y=DN(),f.proxy=y,y.src=u,y.listener=f,u.addEventListener)Be||(D=j),D===void 0&&(D=!1),u.addEventListener(d.toString(),y,D);else if(u.attachEvent)u.attachEvent(YE(d.toString()),y);else if(u.addListener&&u.removeListener)u.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function DN(){function u(f){return d.call(u.src,u.listener,f)}let d=SN;return u}function KE(u,d,f,y,D){if(Array.isArray(d)){for(var R=0;R<d.length;R++)KE(u,d[R],f,y,D);return null}return f=$p(f),u&&u[Ze]?u.L(d,f,l(y)?!!y.capture:!!y,D):GE(u,d,f,!0,y,D)}function QE(u,d,f,y,D){if(Array.isArray(d))for(var R=0;R<d.length;R++)QE(u,d[R],f,y,D);else y=l(y)?!!y.capture:!!y,f=$p(f),u&&u[Ze]?(u=u.i,d=String(d).toString(),d in u.g&&(R=u.g[d],f=Fp(R,f,y,D),-1<f&&(fr(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete u.g[d],u.h--)))):u&&(u=jp(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Fp(d,f,y,D)),(f=-1<u?d[u]:null)&&Up(f))}function Up(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[Ze])kp(d.i,u);else{var f=u.type,y=u.proxy;d.removeEventListener?d.removeEventListener(f,y,u.capture):d.detachEvent?d.detachEvent(YE(f),y):d.addListener&&d.removeListener&&d.removeListener(y),(f=jp(d))?(kp(f,u),f.h==0&&(f.src=null,d[Lp]=null)):fr(u)}}}function YE(u){return u in Vp?Vp[u]:Vp[u]="on"+u}function SN(u,d){if(u.da)u=!0;else{d=new Gr(d,this);var f=u.listener,y=u.ha||u.src;u.fa&&Up(u),u=f.call(y,d)}return u}function jp(u){return u=u[Lp],u instanceof Kr?u:null}var Bp="__closure_events_fn_"+(1e9*Math.random()>>>0);function $p(u){return typeof u=="function"?u:(u[Bp]||(u[Bp]=function(d){return u.handleEvent(d)}),u[Bp])}function Dt(){Je.call(this),this.i=new Kr(this),this.M=this,this.F=null}_(Dt,Je),Dt.prototype[Ze]=!0,Dt.prototype.removeEventListener=function(u,d,f,y){QE(this,u,d,f,y)};function Vt(u,d){var f,y=u.F;if(y)for(f=[];y;y=y.F)f.push(y);if(u=u.M,y=d.type||d,typeof d=="string")d=new je(d,u);else if(d instanceof je)d.target=d.target||u;else{var D=d;d=new je(y,u),b(d,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var j=d.g=f[R];D=Uu(j,y,!0,d)&&D}if(j=d.g=u,D=Uu(j,y,!0,d)&&D,D=Uu(j,y,!1,d)&&D,f)for(R=0;R<f.length;R++)j=d.g=f[R],D=Uu(j,y,!1,d)&&D}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var f=u.g[d],y=0;y<f.length;y++)fr(f[y]);delete u.g[d],u.h--}}this.F=null},Dt.prototype.K=function(u,d,f,y){return this.i.add(String(u),d,!1,f,y)},Dt.prototype.L=function(u,d,f,y){return this.i.add(String(u),d,!0,f,y)};function Uu(u,d,f,y){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,R=0;R<d.length;++R){var j=d[R];if(j&&!j.da&&j.capture==f){var Fe=j.listener,Et=j.ha||j.src;j.fa&&kp(u.i,j),D=Fe.call(Et,y)!==!1&&D}}return D&&!y.defaultPrevented}function JE(u,d,f){if(typeof u=="function")f&&(u=g(u,f));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(u,d||0)}function ZE(u){u.g=JE(()=>{u.g=null,u.i&&(u.i=!1,ZE(u))},u.l);let d=u.h;u.h=null,u.m.apply(null,d)}class AN extends Je{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ZE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ia(u){Je.call(this),this.h=u,this.g={}}_(Ia,Je);var XE=[];function eI(u){le(u.g,function(d,f){this.g.hasOwnProperty(f)&&Up(d)},u),u.g={}}Ia.prototype.N=function(){Ia.aa.N.call(this),eI(this)},Ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hp=a.JSON.stringify,MN=a.JSON.parse,RN=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function zp(){}zp.prototype.h=null;function tI(u){return u.h||(u.h=u.i())}function nI(){}var ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qp(){je.call(this,"d")}_(qp,je);function Wp(){je.call(this,"c")}_(Wp,je);var Si={},rI=null;function ju(){return rI=rI||new Dt}Si.La="serverreachability";function iI(u){je.call(this,Si.La,u)}_(iI,je);function Ta(u){let d=ju();Vt(d,new iI(d))}Si.STAT_EVENT="statevent";function oI(u,d){je.call(this,Si.STAT_EVENT,u),this.stat=d}_(oI,je);function Ut(u){let d=ju();Vt(d,new oI(d,u))}Si.Ma="timingevent";function sI(u,d){je.call(this,Si.Ma,u),this.size=d}_(sI,je);function Ca(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},d)}function Da(){this.g=!0}Da.prototype.xa=function(){this.g=!1};function PN(u,d,f,y,D,R){u.info(function(){if(u.g)if(R)for(var j="",Fe=R.split("&"),Et=0;Et<Fe.length;Et++){var Re=Fe[Et].split("=");if(1<Re.length){var St=Re[0];Re=Re[1];var At=St.split("_");j=2<=At.length&&At[1]=="type"?j+(St+"="+Re+"&"):j+(St+"=redacted&")}}else j=null;else j=R;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+d+`
`+f+`
`+j})}function xN(u,d,f,y,D,R,j){u.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+d+`
`+f+`
`+R+" "+j})}function Ro(u,d,f,y){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+ON(u,f)+(y?" "+y:"")})}function NN(u,d){u.info(function(){return"TIMEOUT: "+d})}Da.prototype.info=function(){};function ON(u,d){if(!u.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(u=0;u<f.length;u++)if(Array.isArray(f[u])){var y=f[u];if(!(2>y.length)){var D=y[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var j=1;j<D.length;j++)D[j]=""}}}}return Hp(f)}catch{return d}}var Bu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gp;function $u(){}_($u,zp),$u.prototype.g=function(){return new XMLHttpRequest},$u.prototype.i=function(){return{}},Gp=new $u;function Qr(u,d,f,y){this.j=u,this.i=d,this.l=f,this.R=y||1,this.U=new Ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cI}function cI(){this.i=null,this.g="",this.h=!1}var uI={},Kp={};function Qp(u,d,f){u.L=1,u.v=Wu(pr(d)),u.m=f,u.P=!0,lI(u,null)}function lI(u,d){u.F=Date.now(),Hu(u),u.A=pr(u.v);var f=u.A,y=u.R;Array.isArray(y)||(y=[String(y)]),TI(f.i,"t",y),u.C=0,f=u.j.J,u.h=new cI,u.g=$I(u.j,f?d:null,!u.m),0<u.O&&(u.M=new AN(g(u.Y,u,u.g),u.O)),d=u.U,f=u.g,y=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(XE[0]=D.toString()),D=XE);for(var R=0;R<D.length;R++){var j=WE(f,D[R],y||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Ta(),PN(u.i,u.u,u.A,u.l,u.R,u.m)}Qr.prototype.ca=function(u){u=u.target;let d=this.M;d&&gr(u)==3?d.j():this.Y(u)},Qr.prototype.Y=function(u){try{if(u==this.g)e:{let At=gr(this.g);var d=this.g.Ba();let No=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||PI(this.g)))){this.J||At!=4||d==7||(d==8||0>=No?Ta(3):Ta(2)),Yp(this);var f=this.g.Z();this.X=f;t:if(dI(this)){var y=PI(this.g);u="";var D=y.length,R=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ai(this),Sa(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,u+=this.h.i.decode(y[d],{stream:!(R&&d==D-1)});y.length=0,this.h.g+=u,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,xN(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Et=this.g;if((Fe=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Fe)){var Re=Fe;break t}}Re=null}if(f=Re)Ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jp(this,f);else{this.o=!1,this.s=3,Ut(12),Ai(this),Sa(this);break e}}if(this.P){f=!0;let Dn;for(;!this.J&&this.C<j.length;)if(Dn=kN(this,j),Dn==Kp){At==4&&(this.s=4,Ut(14),f=!1),Ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==uI){this.s=4,Ut(15),Ro(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else Ro(this.i,this.l,Dn,null),Jp(this,Dn);if(dI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||j.length!=0||this.h.h||(this.s=1,Ut(16),f=!1),this.o=this.o&&f,!f)Ro(this.i,this.l,j,"[Invalid Chunked Response]"),Ai(this),Sa(this);else if(0<j.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),rg(St),St.M=!0,Ut(11))}}else Ro(this.i,this.l,j,null),Jp(this,j);At==4&&Ai(this),this.o&&!this.J&&(At==4?VI(this.j,this):(this.o=!1,Hu(this)))}else ZN(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Ai(this),Sa(this)}}}catch{}finally{}};function dI(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function kN(u,d){var f=u.C,y=d.indexOf(`
`,f);return y==-1?Kp:(f=Number(d.substring(f,y)),isNaN(f)?uI:(y+=1,y+f>d.length?Kp:(d=d.slice(y,y+f),u.C=y+f,d)))}Qr.prototype.cancel=function(){this.J=!0,Ai(this)};function Hu(u){u.S=Date.now()+u.I,hI(u,u.I)}function hI(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ca(g(u.ba,u),d)}function Yp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Qr.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(NN(this.i,this.A),this.L!=2&&(Ta(),Ut(17)),Ai(this),this.s=2,Sa(this)):hI(this,this.S-u)};function Sa(u){u.j.G==0||u.J||VI(u.j,u)}function Ai(u){Yp(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,eI(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Jp(u,d){try{var f=u.j;if(f.G!=0&&(f.g==u||Zp(f.h,u))){if(!u.K&&Zp(f.h,u)&&f.G==3){try{var y=f.Da.g.parse(d)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<u.F)Ju(f),Qu(f);else break e;ng(f),Ut(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ca(g(f.Za,f),6e3));if(1>=gI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ri(f,11)}else if((u.K||f.g==u)&&Ju(f),!H(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Re=D[d];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let St=Re[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let At=Re[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let No=Re[5];No!=null&&typeof No=="number"&&0<No&&(y=1.5*No,f.L=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;let Dn=u.g;if(Dn){let Xu=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var R=y.h;R.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Xp(R,R.h),R.h=null))}if(y.D){let ig=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;ig&&(y.ya=ig,$e(y.I,y.D,ig))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-u.F,f.j.info("Handshake RTT: "+f.R+"ms")),y=f;var j=u;if(y.qa=BI(y,y.J?y.ia:null,y.W),j.K){mI(y.h,j);var Fe=j,Et=y.L;Et&&(Fe.I=Et),Fe.B&&(Yp(Fe),Hu(Fe)),y.g=j}else FI(y);0<f.i.length&&Yu(f)}else Re[0]!="stop"&&Re[0]!="close"||Ri(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Ri(f,7):tg(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}Ta(4)}catch{}}var FN=class{constructor(u,d){this.g=u,this.map=d}};function fI(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pI(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gI(u){return u.h?1:u.g?u.g.size:0}function Zp(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Xp(u,d){u.g?u.g.add(d):u.h=d}function mI(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}fI.prototype.cancel=function(){if(this.i=yI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function yI(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(let f of u.g.values())d=d.concat(f.D);return d}return T(u.i)}function LN(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var d=[],f=u.length,y=0;y<f;y++)d.push(u[y]);return d}d=[],f=0;for(y in u)d[f++]=u[y];return d}function VN(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var d=[];u=u.length;for(var f=0;f<u;f++)d.push(f);return d}d=[],f=0;for(let y in u)d[f++]=y;return d}}}function vI(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var f=VN(u),y=LN(u),D=y.length,R=0;R<D;R++)d.call(void 0,y[R],f&&f[R],u)}var _I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UN(u,d){if(u){u=u.split("&");for(var f=0;f<u.length;f++){var y=u[f].indexOf("="),D=null;if(0<=y){var R=u[f].substring(0,y);D=u[f].substring(y+1)}else R=u[f];d(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Mi){this.h=u.h,zu(this,u.j),this.o=u.o,this.g=u.g,qu(this,u.s),this.l=u.l;var d=u.i,f=new Ra;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),wI(this,f),this.m=u.m}else u&&(d=String(u).match(_I))?(this.h=!1,zu(this,d[1]||"",!0),this.o=Aa(d[2]||""),this.g=Aa(d[3]||"",!0),qu(this,d[4]),this.l=Aa(d[5]||"",!0),wI(this,d[6]||"",!0),this.m=Aa(d[7]||"")):(this.h=!1,this.i=new Ra(null,this.h))}Mi.prototype.toString=function(){var u=[],d=this.j;d&&u.push(Ma(d,EI,!0),":");var f=this.g;return(f||d=="file")&&(u.push("//"),(d=this.o)&&u.push(Ma(d,EI,!0),"@"),u.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&u.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&u.push("/"),u.push(Ma(f,f.charAt(0)=="/"?$N:BN,!0))),(f=this.i.toString())&&u.push("?",f),(f=this.m)&&u.push("#",Ma(f,zN)),u.join("")};function pr(u){return new Mi(u)}function zu(u,d,f){u.j=f?Aa(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function qu(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function wI(u,d,f){d instanceof Ra?(u.i=d,qN(u.i,u.h)):(f||(d=Ma(d,HN)),u.i=new Ra(d,u.h))}function $e(u,d,f){u.i.set(d,f)}function Wu(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Aa(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ma(u,d,f){return typeof u=="string"?(u=encodeURI(u).replace(d,jN),f&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jN(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var EI=/[#\/\?@]/g,BN=/[#\?:]/g,$N=/[#\?]/g,HN=/[#\?@]/g,zN=/#/g;function Ra(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function Yr(u){u.g||(u.g=new Map,u.h=0,u.i&&UN(u.i,function(d,f){u.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ra.prototype,n.add=function(u,d){Yr(this),this.i=null,u=Po(this,u);var f=this.g.get(u);return f||this.g.set(u,f=[]),f.push(d),this.h+=1,this};function II(u,d){Yr(u),d=Po(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function bI(u,d){return Yr(u),d=Po(u,d),u.g.has(d)}n.forEach=function(u,d){Yr(this),this.g.forEach(function(f,y){f.forEach(function(D){u.call(d,D,y,this)},this)},this)},n.na=function(){Yr(this);let u=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let y=0;y<d.length;y++){let D=u[y];for(let R=0;R<D.length;R++)f.push(d[y])}return f},n.V=function(u){Yr(this);let d=[];if(typeof u=="string")bI(this,u)&&(d=d.concat(this.g.get(Po(this,u))));else{u=Array.from(this.g.values());for(let f=0;f<u.length;f++)d=d.concat(u[f])}return d},n.set=function(u,d){return Yr(this),this.i=null,u=Po(this,u),bI(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},n.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function TI(u,d,f){II(u,d),0<f.length&&(u.i=null,u.g.set(Po(u,d),T(f)),u.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var y=d[f];let R=encodeURIComponent(String(y)),j=this.V(y);for(y=0;y<j.length;y++){var D=R;j[y]!==""&&(D+="="+encodeURIComponent(String(j[y]))),u.push(D)}}return this.i=u.join("&")};function Po(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function qN(u,d){d&&!u.j&&(Yr(u),u.i=null,u.g.forEach(function(f,y){var D=y.toLowerCase();y!=D&&(II(this,y),TI(this,D,f))},u)),u.j=d}function WN(u,d){let f=new Da;if(a.Image){let y=new Image;y.onload=m(Jr,f,"TestLoadImage: loaded",!0,d,y),y.onerror=m(Jr,f,"TestLoadImage: error",!1,d,y),y.onabort=m(Jr,f,"TestLoadImage: abort",!1,d,y),y.ontimeout=m(Jr,f,"TestLoadImage: timeout",!1,d,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=u}else d(!1)}function GN(u,d){let f=new Da,y=new AbortController,D=setTimeout(()=>{y.abort(),Jr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:y.signal}).then(R=>{clearTimeout(D),R.ok?Jr(f,"TestPingServer: ok",!0,d):Jr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Jr(f,"TestPingServer: error",!1,d)})}function Jr(u,d,f,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(f)}catch{}}function KN(){this.g=new RN}function QN(u,d,f){let y=f||"";try{vI(u,function(D,R){let j=D;l(D)&&(j=Hp(D)),d.push(y+R+"="+encodeURIComponent(j))})}catch(D){throw d.push(y+"type="+encodeURIComponent("_badmap")),D}}function Pa(u){this.l=u.Ub||null,this.j=u.eb||!1}_(Pa,zp),Pa.prototype.g=function(){return new Gu(this.l,this.j)},Pa.prototype.i=function(u){return function(){return u}}({});function Gu(u,d){Dt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Gu,Dt),n=Gu.prototype,n.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Na(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CI(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function CI(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?xa(this):Na(this),this.readyState==3&&CI(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,xa(this))},n.Qa=function(u){this.g&&(this.response=u,xa(this))},n.ga=function(){this.g&&xa(this)};function xa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Na(u)}n.setRequestHeader=function(u,d){this.u.append(u,d)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,u.push(f[0]+": "+f[1]),f=d.next();return u.join(`\r
`)};function Na(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function DI(u){let d="";return le(u,function(f,y){d+=y,d+=":",d+=f,d+=`\r
`}),d}function eg(u,d,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=DI(f),typeof u=="string"?f!=null&&encodeURIComponent(String(f)):$e(u,d,f))}function Xe(u){Dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Xe,Dt);var YN=/^https?$/i,JN=["POST","PUT"];n=Xe.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,d,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gp.g(),this.v=this.o?tI(this.o):tI(Gp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(R){SI(this,R);return}if(u=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)f.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let R of y.keys())f.set(R,y.get(R));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JN,d,void 0))||y||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,j]of f)this.g.setRequestHeader(R,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RI(this),this.u=!0,this.g.send(u),this.u=!1}catch(R){SI(this,R)}};function SI(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,AI(u),Ku(u)}function AI(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Vt(this,"complete"),Vt(this,"abort"),Ku(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ku(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?MI(this):this.bb())},n.bb=function(){MI(this)};function MI(u){if(u.h&&typeof s<"u"&&(!u.v[1]||gr(u)!=4||u.Z()!=2)){if(u.u&&gr(u)==4)JE(u.Ea,0,u);else if(Vt(u,"readystatechange"),gr(u)==4){u.h=!1;try{let j=u.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var y;if(y=j===0){var D=String(u.D).match(_I)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),y=!YN.test(D?D.toLowerCase():"")}f=y}if(f)Vt(u,"complete"),Vt(u,"success");else{u.m=6;try{var R=2<gr(u)?u.g.statusText:""}catch{R=""}u.l=R+" ["+u.Z()+"]",AI(u)}}finally{Ku(u)}}}}function Ku(u,d){if(u.g){RI(u);let f=u.g,y=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Vt(u,"ready");try{f.onreadystatechange=y}catch{}}}function RI(u){u.I&&(a.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function gr(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),MN(d)}};function PI(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ZN(u){let d={};u=(u.g&&2<=gr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<u.length;y++){if(H(u[y]))continue;var f=C(u[y]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=d[D]||[];d[D]=R,R.push(f)}I(d,function(y){return y.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(u,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[u]||d}function xI(u){this.Aa=0,this.i=[],this.j=new Da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,u),this.cb=Oa("retryDelaySeedMs",1e4,u),this.Wa=Oa("forwardChannelMaxRetries",2,u),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fI(u&&u.concurrentRequestLimit),this.Da=new KN,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xI.prototype,n.la=8,n.G=1,n.connect=function(u,d,f,y){Ut(0),this.W=u,this.H=d||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.I=BI(this,null,this.W),Yu(this)};function tg(u){if(NI(u),u.G==3){var d=u.U++,f=pr(u.I);if($e(f,"SID",u.K),$e(f,"RID",d),$e(f,"TYPE","terminate"),ka(u,f),d=new Qr(u,u.j,d),d.L=2,d.v=Wu(pr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=$I(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hu(d)}jI(u)}function Qu(u){u.g&&(rg(u),u.g.cancel(),u.g=null)}function NI(u){Qu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ju(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Yu(u){if(!pI(u.h)&&!u.s){u.s=!0;var d=u.Ga;J||tt(),X||(J(),X=!0),Te.add(d,u),u.B=0}}function XN(u,d){return gI(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ca(g(u.Ga,u,d),UI(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let D=new Qr(this,this.j,u),R=this.o;if(this.S&&(R?(R=v(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(d+=y,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=kI(this,D,d),f=pr(this.I),$e(f,"RID",u),$e(f,"CVER",22),this.D&&$e(f,"X-HTTP-Session-Id",this.D),ka(this,f),R&&(this.O?d="headers="+encodeURIComponent(String(DI(R)))+"&"+d:this.m&&eg(f,this.m,R)),Xp(this.h,D),this.Ua&&$e(f,"TYPE","init"),this.P?($e(f,"$req",d),$e(f,"SID","null"),D.T=!0,Qp(D,f,null)):Qp(D,f,d),this.G=2}}else this.G==3&&(u?OI(this,u):this.i.length==0||pI(this.h)||OI(this))};function OI(u,d){var f;d?f=d.l:f=u.U++;let y=pr(u.I);$e(y,"SID",u.K),$e(y,"RID",f),$e(y,"AID",u.T),ka(u,y),u.m&&u.o&&eg(y,u.m,u.o),f=new Qr(u,u.j,f,u.B+1),u.m===null&&(f.H=u.o),d&&(u.i=d.D.concat(u.i)),d=kI(u,f,1e3),f.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xp(u.h,f),Qp(f,y,d)}function ka(u,d){u.H&&le(u.H,function(f,y){$e(d,y,f)}),u.l&&vI({},function(f,y){$e(d,y,f)})}function kI(u,d,f){f=Math.min(u.i.length,f);var y=u.l?g(u.l.Na,u.l,u):null;e:{var D=u.i;let R=-1;for(;;){let j=["count="+f];R==-1?0<f?(R=D[0].g,j.push("ofs="+R)):R=0:j.push("ofs="+R);let Fe=!0;for(let Et=0;Et<f;Et++){let Re=D[Et].g,St=D[Et].map;if(Re-=R,0>Re)R=Math.max(0,D[Et].g-100),Fe=!1;else try{QN(St,j,"req"+Re+"_")}catch{y&&y(St)}}if(Fe){y=j.join("&");break e}}}return u=u.i.splice(0,f),d.D=u,y}function FI(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;J||tt(),X||(J(),X=!0),Te.add(d,u),u.v=0}}function ng(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ca(g(u.Fa,u),UI(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,LI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ca(g(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Qu(this),LI(this))};function rg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function LI(u){u.g=new Qr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=pr(u.qa);$e(d,"RID","rpc"),$e(d,"SID",u.K),$e(d,"AID",u.T),$e(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(d,"TO",u.ja),$e(d,"TYPE","xmlhttp"),ka(u,d),u.m&&u.o&&eg(d,u.m,u.o),u.L&&(u.g.I=u.L);var f=u.g;u=u.ia,f.L=1,f.v=Wu(pr(d)),f.m=null,f.P=!0,lI(f,u)}n.Za=function(){this.C!=null&&(this.C=null,Qu(this),ng(this),Ut(19))};function Ju(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function VI(u,d){var f=null;if(u.g==d){Ju(u),rg(u),u.g=null;var y=2}else if(Zp(u.h,d))f=d.D,mI(u.h,d),y=1;else return;if(u.G!=0){if(d.o)if(y==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=u.B;y=ju(),Vt(y,new sI(y,f)),Yu(u)}else FI(u);else if(D=d.s,D==3||D==0&&0<d.X||!(y==1&&XN(u,d)||y==2&&ng(u)))switch(f&&0<f.length&&(d=u.h,d.i=d.i.concat(f)),D){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function UI(u,d){let f=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(f*=2),f*d}function Ri(u,d){if(u.j.info("Error code "+d),d==2){var f=g(u.fb,u),y=u.Xa;let D=!y;y=new Mi(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(y,"https"),Wu(y),D?WN(y.toString(),f):GN(y.toString(),f)}else Ut(2);u.G=0,u.l&&u.l.sa(d),jI(u),NI(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function jI(u){if(u.G=0,u.ka=[],u.l){let d=yI(u.h);(d.length!=0||u.i.length!=0)&&(A(u.ka,d),A(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function BI(u,d,f){var y=f instanceof Mi?pr(f):new Mi(f);if(y.g!="")d&&(y.g=d+"."+y.g),qu(y,y.s);else{var D=a.location;y=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var R=new Mi(null);y&&zu(R,y),d&&(R.g=d),D&&qu(R,D),f&&(R.l=f),y=R}return f=u.D,d=u.ya,f&&d&&$e(y,f,d),$e(y,"VER",u.la),ka(u,y),y}function $I(u,d,f){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Xe(new Pa({eb:f})):new Xe(u.pa),d.Ha(u.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function HI(){}n=HI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Zu(){}Zu.prototype.g=function(u,d){return new Zt(u,d)};function Zt(u,d){Dt.call(this),this.g=new xI(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!H(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new xo(this)}_(Zt,Dt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){tg(this.g)},Zt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var f={};f.__data__=u,u=f}else this.u&&(f={},f.__data__=Hp(u),u=f);d.i.push(new FN(d.Ya++,u)),d.G==3&&Yu(d)},Zt.prototype.N=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,Zt.aa.N.call(this)};function zI(u){qp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(let f in d){u=f;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}_(zI,qp);function qI(){Wp.call(this),this.status=1}_(qI,Wp);function xo(u){this.g=u}_(xo,HI),xo.prototype.ua=function(){Vt(this.g,"a")},xo.prototype.ta=function(u){Vt(this.g,new zI(u))},xo.prototype.sa=function(u){Vt(this.g,new qI)},xo.prototype.ra=function(){Vt(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,n0=Ur.createWebChannelTransport=function(){return new Zu},t0=Ur.getStatEventTarget=function(){return ju()},e0=Ur.Event=Si,hf=Ur.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bu.NO_ERROR=0,Bu.TIMEOUT=8,Bu.HTTP_ERROR=6,ou=Ur.ErrorCode=Bu,aI.COMPLETE="complete",X_=Ur.EventType=aI,nI.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Bs=Ur.WebChannel=nI,q$=Ur.FetchXmlHttpFactory=Pa,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Z_=Ur.XhrIo=Xe}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});var iR="@firebase/firestore",oR="4.7.16";var _t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");var la="11.8.1";var Io=new sr("@firebase/firestore");function $s(){return Io.logLevel}function W(n,...e){if(Io.logLevel<=Ce.DEBUG){let t=e.map(Hw);Io.debug(`Firestore (${la}): ${n}`,...t)}}function Br(n,...e){if(Io.logLevel<=Ce.ERROR){let t=e.map(Hw);Io.error(`Firestore (${la}): ${n}`,...t)}}function Ys(n,...e){if(Io.logLevel<=Ce.WARN){let t=e.map(Hw);Io.warn(`Firestore (${la}): ${n}`,...t)}}function Hw(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function se(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,XR(n,r,t)}function XR(n,e,t){let r=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Br(r),new Error(r)}function Ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||XR(e,i,r)}function Ae(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends In{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _f=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},c0=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_t.UNAUTHENTICATED))}shutdown(){}},u0=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},l0=class{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ye(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>M(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new _f(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new _t(e)}},d0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},h0=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new d0(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},f0=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ye(this.o===void 0,3512);let r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function W$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function eP(){return new TextEncoder}var Ef=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=W$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function p0(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return be(r,i);{let o=eP(),s=G$(o.encode(sR(n,t)),o.encode(sR(e,t)));return s!==0?s:be(r,i)}}t+=r>65535?2:1}return be(n.length,e.length)}function sR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function G$(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return be(n[t],e[t]);return be(n.length,e.length)}function Js(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var aR=-62135596800,cR=1e6,Ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*cR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<aR)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cR}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-aR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ft(0,0))}static max(){return new n(new Ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var uR="__name__",If=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):p0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vr.fromString(e.substring(4,e.length-2))}},Qe=class n extends If{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},K$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tn=class n extends If{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return K$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uR}static keyField(){return new n([uR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new Q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ne=class n{constructor(e){this.path=e}static fromPath(e){return new n(Qe.fromString(e))}static fromName(e){return new n(Qe.fromString(e).popFirst(5))}static empty(){return new n(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Qe(e.slice()))}};var hu=-1,g0=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};g0.UNKNOWN_ID=-1;function Q$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new Ft(t+1,0):new Ft(t,r));return new bo(i,ne.empty(),e)}function Y$(n){return new bo(n.readTime,n.key,hu)}var bo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ge.min(),ne.empty(),hu)}static max(){return new n(ge.max(),ne.empty(),hu)}};function J$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ne.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var Z$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",m0=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Zf(n){return M(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==Z$)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let l=c;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function X$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function da(n){return n.name==="IndexedDbTransactionError"}var zw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),eH=-1;function Xf(n){return n==null}function fu(n){return n===0&&1/n==-1/0}function tH(n){return typeof n=="number"&&Number.isInteger(n)&&!fu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var tP="";function nH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lR(e)),e=rH(n.get(t),e);return lR(e)}function rH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case tP:t+="";break;default:t+=o}}return t}function lR(n){return n+tP+""}var iH="remoteDocuments",nP="owner";var rP="mutationQueues";var iP="mutations";var oP="documentMutations",oH="remoteDocumentsV14";var sP="remoteDocumentGlobal";var aP="targets";var cP="targetDocuments";var uP="targetGlobal",lP="collectionParents";var dP="clientMetadata";var hP="bundles";var fP="namedQueries";var sH="indexConfiguration";var aH="indexState";var cH="indexEntries";var pP="documentOverlays";var uH="globals";var lH=[rP,iP,oP,iH,aP,nP,uP,cP,dP,sP,lP,hP,fP],Fne=[...lH,pP],dH=[rP,iP,oP,oH,aP,nP,uP,cP,dP,sP,lP,hP,fP,pP],hH=dH,fH=[...hH,sH,aH,cH];var Lne=[...fH,uH];function dR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var st=class n{constructor(e,t){this.comparator=e,this.root=t||cr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ws(this.root,e,this.comparator,!0)}},Ws=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},cr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw se(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw se(27949);return e+(this.isRed()?0:1)}};cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw se(57766)}get value(){throw se(16141)}get color(){throw se(16727)}get left(){throw se(29726)}get right(){throw se(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new cr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class n{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bf(this.data.getIterator())}getIteratorFrom(e){return new bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},bf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vo=class n{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new n([])}unionWith(e){let t=new wt(Tn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Js(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Tf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Tf("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var pH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(n){if(Ye(!!n,39018),typeof n=="string"){let e=0,t=pH.exec(n);if(Ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(n.seconds),nanos:Ge(n.nanos)}}function Ge(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hr(n){return typeof n=="string"?Lt.fromBase64String(n):Lt.fromUint8Array(n)}var mP="server_timestamp",yP="__type__",vP="__previous_value__",_P="__local_write_time__";function qw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yP])===null||t===void 0?void 0:t.stringValue)===mP}function ep(n){let e=n.mapValue.fields[vP];return qw(e)?ep(e):e}function pu(n){let e=$r(n.mapValue.fields[_P].timestampValue);return new Ft(e.seconds,e.nanos)}var y0=class{constructor(e,t,r,i,o,s,a,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l,this.isUsingEmulator=h}},Cf="(default)",Df=class n{constructor(e,t){this.projectId=e,this.database=t||Cf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Cf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Ww="__type__",wP="__max__",ff={mapValue:{fields:{__type__:{stringValue:wP}}}},Gw="__vector__",Zs="value";function Ii(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qw(n)?4:IP(n)?9007199254740991:EP(n)?10:11:se(28295,{value:n})}function lr(n,e){if(n===e)return!0;let t=Ii(n);if(t!==Ii(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return pu(n).isEqual(pu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=$r(i.timestampValue),a=$r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Hr(i.bytesValue).isEqual(Hr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ge(i.geoPointValue.latitude)===Ge(o.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ge(i.integerValue)===Ge(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ge(i.doubleValue),a=Ge(o.doubleValue);return s===a?fu(s)===fu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Js(n.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dR(s)!==dR(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!lr(s[c],a[c])))return!1;return!0}(n,e);default:return se(52216,{left:n})}}function gu(n,e){return(n.values||[]).find(t=>lr(t,e))!==void 0}function Xs(n,e){if(n===e)return 0;let t=Ii(n),r=Ii(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ge(o.integerValue||o.doubleValue),c=Ge(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return hR(n.timestampValue,e.timestampValue);case 4:return hR(pu(n),pu(e));case 5:return p0(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Hr(o),c=Hr(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){let h=be(a[l],c[l]);if(h!==0)return h}return be(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=be(Ge(o.latitude),Ge(s.latitude));return a!==0?a:be(Ge(o.longitude),Ge(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return fR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,c,l,h;let p=o.fields||{},g=s.fields||{},m=(a=p[Zs])===null||a===void 0?void 0:a.arrayValue,_=(c=g[Zs])===null||c===void 0?void 0:c.arrayValue,T=be(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=_?.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:fR(m,_)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ff.mapValue&&s===ff.mapValue)return 0;if(o===ff.mapValue)return 1;if(s===ff.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=p0(c[p],h[p]);if(g!==0)return g;let m=Xs(a[c[p]],l[h[p]]);if(m!==0)return m}return be(c.length,h.length)}(n.mapValue,e.mapValue);default:throw se(23264,{Pe:t})}}function hR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=$r(n),r=$r(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function fR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Xs(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function ea(n){return v0(n)}function v0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=$r(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Hr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=v0(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${v0(t.fields[s])}`;return i+"}"}(n.mapValue):se(61005,{value:n})}function mf(n){switch(Ii(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ep(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return Hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+mf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ha(r.fields,(o,s)=>{i+=o.length+mf(s)}),i}(n.mapValue);default:throw se(13486,{value:n})}}function pR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _0(n){return!!n&&"integerValue"in n}function Kw(n){return!!n&&"arrayValue"in n}function gR(n){return!!n&&"nullValue"in n}function mR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function r0(n){return!!n&&"mapValue"in n}function EP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ww])===null||t===void 0?void 0:t.stringValue)===Gw}function au(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=au(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wP}var Une={mapValue:{fields:{[Ww]:{stringValue:Gw},[Zs]:{arrayValue:{}}}}};var jr=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!r0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=Tn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=au(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());r0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];r0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ha(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(au(this.value))}};var jn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),jr.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ge.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ta=class{constructor(e,t){this.position=e,this.inclusive=t}};function yR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),t.key):r=Xs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!lr(n.position[t],e.position[t]))return!1;return!0}var na=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Sf=class{},lt=class n extends Sf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new E0(e,t,r):t==="array-contains"?new T0(e,r):t==="in"?new C0(e,r):t==="not-in"?new D0(e,r):t==="array-contains-any"?new S0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new I0(e,r):new b0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Xs(t,this.value)):t!==null&&Ii(this.value)===Ii(t)&&this.matchesComparison(Xs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Bn=class n extends Sf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return bP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function bP(n){return n.op==="and"}function TP(n){return mH(n)&&bP(n)}function mH(n){for(let e of n.filters)if(e instanceof Bn)return!1;return!0}function w0(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+ea(n.value);if(TP(n))return n.filters.map(e=>w0(e)).join(",");{let e=n.filters.map(t=>w0(t)).join(",");return`${n.op}(${e})`}}function CP(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(n,e):n instanceof Bn?function(r,i){return i instanceof Bn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&CP(s,i.filters[a]),!0):!1}(n,e):void se(19439)}function DP(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${ea(t.value)}`}(n):n instanceof Bn?function(t){return t.op.toString()+" {"+t.getFilters().map(DP).join(" ,")+"}"}(n):"Filter"}var E0=class extends lt{constructor(e,t,r){super(e,t,r),this.key=ne.fromName(r.referenceValue)}matches(e){let t=ne.comparator(e.key,this.key);return this.matchesComparison(t)}},I0=class extends lt{constructor(e,t){super(e,"in",t),this.keys=SP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},b0=class extends lt{constructor(e,t){super(e,"not-in",t),this.keys=SP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function SP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ne.fromName(r.referenceValue))}var T0=class extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Kw(t)&&gu(t.arrayValue,this.value)}},C0=class extends lt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&gu(this.value.arrayValue,t)}},D0=class extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!gu(this.value.arrayValue,t)}},S0=class extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Kw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gu(this.value.arrayValue,r))}};var A0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function _R(n,e=null,t=[],r=[],i=null,o=null,s=null){return new A0(n,e,t,r,i,o,s)}function Qw(n){let e=Ae(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>w0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ea(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ea(r)).join(",")),e.Ie=t}return e.Ie}function Yw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!vR(n.startAt,e.startAt)&&vR(n.endAt,e.endAt)}function M0(n){return ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var To=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function yH(n,e,t,r,i,o,s,a){return new To(n,e,t,r,i,o,s,a)}function Jw(n){return new To(n)}function wR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function AP(n){return n.collectionGroup!==null}function cu(n){let e=Ae(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wt(Tn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new na(o,r))}),t.has(Tn.keyField().canonicalString())||e.Ee.push(new na(Tn.keyField(),r))}return e.Ee}function ur(n){let e=Ae(n);return e.de||(e.de=vH(e,cu(n))),e.de}function vH(n,e){if(n.limitType==="F")return _R(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new na(i.field,o)});let t=n.endAt?new ta(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ta(n.startAt.position,n.startAt.inclusive):null;return _R(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function R0(n,e){let t=n.filters.concat([e]);return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Af(n,e,t){return new To(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return Yw(ur(n),ur(e))&&n.limitType===e.limitType}function MP(n){return`${Qw(ur(n))}|lt:${n.limitType}`}function Hs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>DP(i)).join(", ")}]`),Xf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ea(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ea(i)).join(",")),`Target(${r})`}(ur(n))}; limitType=${n.limitType})`}function np(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of cu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,c){let l=yR(s,a,c);return s.inclusive?l<=0:l<0}(r.startAt,cu(r),i)||r.endAt&&!function(s,a,c){let l=yR(s,a,c);return s.inclusive?l>=0:l>0}(r.endAt,cu(r),i))}(n,e)}function _H(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function RP(n){return(e,t)=>{let r=!1;for(let i of cu(n)){let o=wH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wH(n,e,t){let r=n.field.isKeyField()?ne.comparator(e.key,t.key):function(o,s,a){let c=s.data.field(o),l=a.data.field(o);return c!==null&&l!==null?Xs(c,l):se(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return se(19790,{direction:n.dir})}}var zr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return gP(this.inner)}size(){return this.innerSize}};var EH=new st(ne.comparator);function bi(){return EH}var PP=new st(ne.comparator);function su(...n){let e=PP;for(let t of n)e=e.insert(t.key,t);return e}function IH(n){let e=PP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function _o(){return uu()}function xP(){return uu()}function uu(){return new zr(n=>n.toString(),(n,e)=>n.isEqual(e))}var jne=new st(ne.comparator),bH=new wt(ne.comparator);function Me(...n){let e=bH;for(let t of n)e=e.add(t);return e}var TH=new wt(be);function CH(){return TH}function Zw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(e)?"-0":e}}function NP(n){return{integerValue:""+n}}function DH(n,e){return tH(e)?NP(e):Zw(n,e)}var ra=class{constructor(){this._=void 0}};function SH(n,e,t){return n instanceof mu?function(i,o){let s={fields:{[yP]:{stringValue:mP},[_P]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qw(o)&&(o=ep(o)),o&&(s.fields[vP]=o),{mapValue:s}}(t,e):n instanceof ia?OP(n,e):n instanceof oa?kP(n,e):function(i,o){let s=MH(i,o),a=ER(s)+ER(i.Re);return _0(s)&&_0(i.Re)?NP(a):Zw(i.serializer,a)}(n,e)}function AH(n,e,t){return n instanceof ia?OP(n,e):n instanceof oa?kP(n,e):t}function MH(n,e){return n instanceof yu?function(r){return _0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var mu=class extends ra{},ia=class extends ra{constructor(e){super(),this.elements=e}};function OP(n,e){let t=FP(e);for(let r of n.elements)t.some(i=>lr(i,r))||t.push(r);return{arrayValue:{values:t}}}var oa=class extends ra{constructor(e){super(),this.elements=e}};function kP(n,e){let t=FP(e);for(let r of n.elements)t=t.filter(i=>!lr(i,r));return{arrayValue:{values:t}}}var yu=class extends ra{constructor(e,t){super(),this.serializer=e,this.Re=t}};function ER(n){return Ge(n.integerValue||n.doubleValue)}function FP(n){return Kw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ia&&i instanceof ia||r instanceof oa&&i instanceof oa?Js(r.elements,i.elements,lr):r instanceof yu&&i instanceof yu?lr(r.Re,i.Re):r instanceof mu&&i instanceof mu}(n.transform,e.transform)}var lu=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var vu=class{};function LP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new P0(n.key,lu.none()):new _u(n.key,n.data,lu.none());{let t=n.data,r=jr.empty(),i=new wt(Tn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new sa(n.key,r,new vo(i.toArray()),lu.none())}}function PH(n,e,t){n instanceof _u?function(i,o,s){let a=i.value.clone(),c=bR(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof sa?function(i,o,s){if(!yf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bR(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(VP(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function du(n,e,t,r){return n instanceof _u?function(o,s,a,c){if(!yf(o.precondition,s))return a;let l=o.value.clone(),h=TR(o.fieldTransforms,c,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof sa?function(o,s,a,c){if(!yf(o.precondition,s))return a;let l=TR(o.fieldTransforms,c,s),h=s.data;return h.setAll(VP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return yf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function IR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Js(r,i,(o,s)=>RH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var _u=class extends vu{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},sa=class extends vu{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function VP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function bR(n,e,t){let r=new Map;Ye(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,AH(s,a,t[i]))}return r}function TR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,SH(o,s,e))}return r}var P0=class extends vu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var x0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&PH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=LP(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&Js(this.mutations,e.mutations,(t,r)=>IR(t,r))&&Js(this.baseMutations,e.baseMutations,(t,r)=>IR(t,r))}};var N0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var O0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ct,Se;function UP(n){if(n===void 0)return Br("GRPC error has no .code"),L.UNKNOWN;switch(n){case ct.OK:return L.OK;case ct.CANCELLED:return L.CANCELLED;case ct.UNKNOWN:return L.UNKNOWN;case ct.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case ct.INTERNAL:return L.INTERNAL;case ct.UNAVAILABLE:return L.UNAVAILABLE;case ct.UNAUTHENTICATED:return L.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case ct.NOT_FOUND:return L.NOT_FOUND;case ct.ALREADY_EXISTS:return L.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return L.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case ct.ABORTED:return L.ABORTED;case ct.OUT_OF_RANGE:return L.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return L.UNIMPLEMENTED;case ct.DATA_LOSS:return L.DATA_LOSS;default:return se(39323,{code:n})}}(Se=ct||(ct={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var CR=null;var xH=new Vr([4294967295,4294967295],0);function DR(n){let e=eP().encode(n),t=new J_;return t.update(e),new Uint8Array(t.digest())}function SR(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Vr([t,r],0),new Vr([i,o],0)]}var k0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new wo(`Invalid padding: ${t}`);if(r<0)throw new wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new wo(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Vr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Vr.fromNumber(r)));return i.compare(xH)===1&&(i=new Vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=DR(e),[r,i]=SR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.Se(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=DR(e),[r,i]=SR(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.be(s)}}be(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Mf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ge.min(),i,new st(be),bi(),Me())}},wu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var Gs=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Rf=class{constructor(e,t){this.targetId=e,this.Ce=t}},Pf=class{constructor(e,t,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},xf=class{constructor(){this.Fe=0,this.Me=AR(),this.xe=Lt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),r=Me();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:se(38017,{changeType:o})}}),new wu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=AR()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ye(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},F0=class{constructor(e){this.ze=e,this.je=new Map,this.He=bi(),this.Je=pf(),this.Ye=pf(),this.Ze=new st(be)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(M0(o))if(r===0){let s=new ne(o.path);this.tt(t,s,jn.newNoDocument(s,ge.min()))}else Ye(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),c=a?this.lt(a,e,s):1;if(c!==0){this.st(t);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}CR?.ht(function(h,p,g,m,_){var T,A,O,H,z,ie;let ze={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},le=p.unchangedNames;return le&&(ze.bloomFilter={applied:_===0,hashCount:(T=le?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(H=(O=(A=le?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&H!==void 0?H:0,padding:(ie=(z=le?.bits)===null||z===void 0?void 0:z.padding)!==null&&ie!==void 0?ie:0,mightContain:I=>{var v;return(v=m?.mightContain(I))!==null&&v!==void 0&&v}}),ze}(s,e.Ce,this.ze.Pt(),a,c))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Hr(r).toUint8Array()}catch(c){if(c instanceof Tf)return Ys("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new k0(s,i,o)}catch(c){return Ys(c instanceof wo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&M0(a.target)){let c=new ne(a.target.path);this.Et(c).has(s)||this.dt(s,c)||this.tt(s,c,jn.newNoDocument(c,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=Me();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let l=this._t(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Mf(e,t,this.Ze,this.He,r);return this.He=bi(),this.Je=pf(),this.Ye=pf(),this.Ze=new st(be),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new xf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new wt(be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new wt(be),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xf),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function pf(){return new st(ne.comparator)}function AR(){return new st(ne.comparator)}var NH={asc:"ASCENDING",desc:"DESCENDING"},OH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kH={and:"AND",or:"OR"},L0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function V0(n,e){return n.useProto3Json||Xf(e)?e:{value:e}}function U0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ks(n){return Ye(!!n,49232),ge.fromTimestamp(function(t){let r=$r(t);return new Ft(r.seconds,r.nanos)}(n))}function BP(n,e){return j0(n,e).canonicalString()}function j0(n,e){let t=function(i){return new Qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $P(n){let e=Qe.fromString(n);return Ye(GP(e),10190,{key:e.toString()}),e}function i0(n,e){let t=$P(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ne(zP(t))}function HP(n,e){return BP(n.databaseId,e)}function FH(n){let e=$P(n);return e.length===4?Qe.emptyPath():zP(e)}function MR(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function zP(n){return Ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function LH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:se(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Ye(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?L.UNKNOWN:UP(l.code);return new Q(h,l.message||"")}(s);t=new Pf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=i0(n,r.document.name),o=Ks(r.document.updateTime),s=r.document.createTime?Ks(r.document.createTime):ge.min(),a=new jr({mapValue:{fields:r.document.fields}}),c=jn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Gs(l,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=i0(n,r.document),o=r.readTime?Ks(r.readTime):ge.min(),s=jn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=i0(n,r.document),o=r.removedTargetIds||[];t=new Gs([],o,i,null)}else{if(!("filter"in e))return se(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new O0(i,o),a=r.targetId;t=new Rf(a,s)}}return t}function VH(n,e){return{documents:[HP(n,e.path)]}}function UH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HP(n,i);let o=function(l){if(l.length!==0)return WP(Bn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:zs(g.field),direction:$H(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=V0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function jH(n){let e=FH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=qP(p);return g instanceof Bn&&TP(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(_){return new na(qs(_.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,Xf(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,m=p.values||[];return new ta(m,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,m=p.values||[];return new ta(m,g)}(t.endAt)),yH(e,i,s,o,a,"F",c,l)}function BH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qP(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qs(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qs(t.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qs(t.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return se(61313);default:return se(60726)}}(n):n.fieldFilter!==void 0?function(t){return lt.create(qs(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return se(58110);default:return se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Bn.create(t.compositeFilter.filters.map(r=>qP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se(1026)}}(t.compositeFilter.op))}(n):se(30097,{filter:n})}function $H(n){return NH[n]}function HH(n){return OH[n]}function zH(n){return kH[n]}function zs(n){return{fieldPath:n.canonicalString()}}function qs(n){return Tn.fromServerFormat(n.fieldPath)}function WP(n){return n instanceof lt?function(t){if(t.op==="=="){if(mR(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NAN"}};if(gR(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(mR(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NAN"}};if(gR(t.value))return{unaryFilter:{field:zs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(t.field),op:HH(t.op),value:t.value}}}(n):n instanceof Bn?function(t){let r=t.getFilters().map(i=>WP(i));return r.length===1?r[0]:{compositeFilter:{op:zH(t.op),filters:r}}}(n):se(54877,{filter:n})}function GP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Eu=class n{constructor(e,t,r,i,o=ge.min(),s=ge.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var B0=class{constructor(e){this.wt=e}};function qH(n){let e=jH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Af(e,e.limit,"L"):e}var Nf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Ge(e.integerValue));else if("doubleValue"in e){let r=Ge(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),fu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=$r(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Hr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?IP(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):EP(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):se(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Zs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(Ge(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),ne.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};Nf.Wt=new Nf;var $0=class{constructor(){this.Cn=new H0}addToCollectionParentIndex(e,t){return this.Cn.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(bo.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(bo.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},H0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new wt(Qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(Qe.comparator)).toArray()}};var Bne=new Uint8Array(0);var RR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KP=41943040,bn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(KP,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var Iu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var PR="LruGarbageCollector",WH=1048576;function xR([n,e],[t,r]){let i=be(n,t);return i===0?be(e,r):i}var z0=class{constructor(e){this.Er=e,this.buffer=new wt(xR),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();xR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},q0=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){W(PR,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>M(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){da(t)?W(PR,"Ignoring IndexedDB error during garbage collection: ",t):yield Zf(t)}yield this.mr(3e5)}))}},W0=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return k.resolve(zw.le);let r=new z0(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(RR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RR):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,c,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),$s()<=Ce.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(l-c)+`ms
Total Duration: ${l-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function GH(n,e){return new W0(n,e)}var G0=class{constructor(){this.changes=new zr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var K0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Q0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&du(r.mutation,i,vo.empty(),Ft.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=_o();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=su();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=_o();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=bi(),s=uu(),a=function(){return uu()}();return t.forEach((c,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof sa)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),du(h.mutation,l,h.mutation.getFieldMask(),Ft.now())):s.set(l.key,vo.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new K0(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=uu(),i=new st((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let l=t.get(c);if(l===null)return;let h=r.get(c)||vo.empty();h=a.applyToLocalView(l,h),r.set(c,h);let p=(i.get(a.batchId)||Me()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,h=c.value,p=xP();h.forEach(g=>{if(!o.has(g)){let m=LP(t.get(g),r.get(g));m!==null&&p.set(g,m),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):AP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(_o()),a=hu,c=o;return s.next(l=>k.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,c,l,Me())).next(h=>({batchId:a,changes:IH(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ne(t)).next(r=>{let i=su();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=su();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,c=>{let l=function(p,g){return new To(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,jn.newInvalidDocument(h)))});let a=su();return s.forEach((c,l)=>{let h=o.get(c);h!==void 0&&du(h.mutation,l,vo.empty(),Ft.now()),np(t,l)&&(a=a.insert(c,l))}),a})}};var Y0=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return k.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Ks(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:qH(i.bundledQuery),readTime:Ks(i.readTime)}}(t)),k.resolve()}};var J0=class{constructor(){this.overlays=new st(ne.comparator),this.Qr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=_o();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.bt(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=_o(),o=t.length+1,s=new ne(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new st((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=_o(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=_o(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return k.resolve(a)}bt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new N0(t,r));let o=this.Qr.get(t);o===void 0&&(o=Me(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var Z0=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var bu=class{constructor(){this.$r=new wt(ut.Ur),this.Kr=new wt(ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new ut(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new ut(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new ne(new Qe([])),r=new ut(t,e),i=new ut(t,e+1),o=Me();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ut(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ut=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ne.comparator(e.key,t.key)||be(e.Zr,t.Zr)}static Wr(e,t){return be(e.Zr,t.Zr)||ne.comparator(e.key,t.key)}};var X0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new wt(ut.Ur)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new x0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?eH:this.nr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ut(t,0),i=new ut(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wt(be);return t.forEach(i=>{let o=new ut(i,0),s=new ut(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),k.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ne.isDocumentKey(o)||(o=o.child(""));let s=new ut(new ne(o),0),a=new wt(be);return this.Xr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.Zr)),!0)},s),k.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ye(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return k.forEach(t.mutations,i=>{let o=new ut(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new ut(t,0),i=this.Xr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ew=class{constructor(e){this.ii=e,this.docs=function(){return new st(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():jn.newInvalidDocument(t))}getEntries(e,t){let r=bi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():jn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bi(),s=t.path,a=new ne(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:h}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||J$(Y$(h),r)<=0||(i.has(h.key)||np(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){se(9500)}si(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new tw(this)}getSize(e){return k.resolve(this.size)}},tw=class extends G0{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var nw=class{constructor(e){this.persistence=e,this.oi=new zr(t=>Qw(t),Yw),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this._i=0,this.ai=new bu,this.targetCount=0,this.ui=Iu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),k.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new Iu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Tr(t),k.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.ai.containsKey(t))}};var Of=class{constructor(e,t){this.ci={},this.overlays={},this.li=new zw(0),this.hi=!1,this.hi=!0,this.Pi=new Z0,this.referenceDelegate=e(this),this.Ti=new nw(this),this.indexManager=new $0,this.remoteDocumentCache=function(i){return new ew(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new B0(t),this.Ei=new Y0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new X0(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let i=new rw(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return k.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},rw=class extends m0{constructor(e){super(),this.currentSequenceNumber=e}},iw=class n{constructor(e){this.persistence=e,this.Vi=new bu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw se(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),k.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.gi,r=>{let i=ne.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ge.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return k.or([()=>k.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},kf=class n{constructor(e,t){this.persistence=e,this.yi=new zr(r=>nH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=GH(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return k.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return k.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?k.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),k.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),k.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),k.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),k.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}Dr(e,t,r){return k.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return k.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var ow=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var sw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aw=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return cM()?8:X$(un())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Ss(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new sw;return this.bs(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?($s()<=Ce.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),k.resolve()):($s()<=Ce.DEBUG&&W("QueryEngine","Query:",Hs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?($s()<=Ce.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ur(t))):k.resolve())}ws(e,t){if(wR(t))return k.resolve(null);let r=ur(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Af(t,null,"F"),r=ur(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.vs(t,a);return this.Cs(t,l,s,c.readTime)?this.ws(e,Af(t,null,"F")):this.Fs(e,l,t,c)}))})))}Ss(e,t,r,i){return wR(t)||i.isEqual(ge.min())?k.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?k.resolve(null):($s()<=Ce.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(t)),this.Fs(e,s,t,Q$(i,hu)).next(a=>a))})}vs(e,t){let r=new wt(RP(e));return t.forEach((i,o)=>{np(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}bs(e,t,r){return $s()<=Ce.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.ys.getDocumentsMatchingQuery(e,t,bo.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Xw="LocalStore",KH=3e8,cw=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new st(be),this.Os=new zr(o=>Qw(o),Yw),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q0(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function QH(n,e,t,r){return new cw(n,e,t,r)}function QP(n,e){return M(this,null,function*(){let t=Ae(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function YP(n){let e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function YH(n,e){let t=Ae(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let m=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Lt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(T,A,O){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=KH?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(g,m,h)&&a.push(t.Ti.updateTargetData(o,m))});let c=bi(),l=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(JH(o,s,e.documentUpdates).next(h=>{c=h.qs,l=h.Qs})),!r.isEqual(ge.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(t.xs=i,o))}function JH(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=bi();return t.forEach((a,c)=>{let l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ge.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):W(Xw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{qs:s,Qs:i}})}function ZH(n,e){let t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new Eu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function uw(n,e,t){return M(this,null,function*(){let r=Ae(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!da(s))throw s;W(Xw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function NR(n,e,t){let r=Ae(n),i=ge.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,h){let p=Ae(c),g=p.Os.get(h);return g!==void 0?k.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ge.min(),t?o:Me())).next(a=>(XH(r,_H(e),a),{documents:a,$s:o})))}function XH(n,e,t){let r=n.Ns.get(e)||ge.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Ff=class{constructor(){this.activeTargetIds=CH()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var lw=class{constructor(){this.xo=new Ff,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Ff,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dw=class{No(e){}shutdown(){}};var OR="ConnectivityMonitor",Lf=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){W(OR,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){W(OR,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gf=null;function hw(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}var o0="RestConnection",ez={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},fw=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===Cf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=hw(),a=this.jo(e,t.toUriEncodedString());W(o0,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,o);let{host:l}=new URL(a),h=Fs(l);return this.Jo(e,a,c,r,h).then(p=>(W(o0,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ys(o0,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=ez[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var pw=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var kt="WebChannelConnection",gw=class extends fw{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=hw();return new Promise((a,c)=>{let l=new Z_;l.setWithCredentials(!0),l.listenOnce(X_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ou.NO_ERROR:let p=l.getResponseJson();W(kt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ou.TIMEOUT:W(kt,`RPC '${e}' ${s} timed out`),c(new Q(L.DEADLINE_EXCEEDED,"Request time out"));break;case ou.HTTP_ERROR:let g=l.getStatus();if(W(kt,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let _=m?.error;if(_&&_.status&&_.message){let T=function(O){let H=O.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(H)>=0?H:L.UNKNOWN}(_.status);c(new Q(T,_.message))}else c(new Q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new Q(L.UNAVAILABLE,"Connection failed."));break;default:se(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{W(kt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);W(kt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}T_(e,t,r){let i=hw(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=n0(),a=t0(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=o.join("");W(kt,`Creating RPC '${e}' stream ${i}: ${h}`,c);let p=s.createWebChannel(h,c),g=!1,m=!1,_=new pw({Zo:A=>{m?W(kt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(g||(W(kt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),W(kt,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Xo:()=>p.close()}),T=(A,O,H)=>{A.listen(O,z=>{try{H(z)}catch(ie){setTimeout(()=>{throw ie},0)}})};return T(p,Bs.EventType.OPEN,()=>{m||(W(kt,`RPC '${e}' stream ${i} transport opened.`),_.__())}),T(p,Bs.EventType.CLOSE,()=>{m||(m=!0,W(kt,`RPC '${e}' stream ${i} transport closed`),_.u_())}),T(p,Bs.EventType.ERROR,A=>{m||(m=!0,Ys(kt,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),_.u_(new Q(L.UNAVAILABLE,"The operation could not be completed")))}),T(p,Bs.EventType.MESSAGE,A=>{var O;if(!m){let H=A.data[0];Ye(!!H,16349);let z=H,ie=z?.error||((O=z[0])===null||O===void 0?void 0:O.error);if(ie){W(kt,`RPC '${e}' stream ${i} received error:`,ie);let ze=ie.status,le=function(w){let b=ct[w];if(b!==void 0)return UP(b)}(ze),I=ie.message;le===void 0&&(le=L.INTERNAL,I="Unknown error status: "+ze+" with message "+ie.message),m=!0,_.u_(new Q(le,I)),p.close()}else W(kt,`RPC '${e}' stream ${i} received:`,H),_.c_(H)}}),T(a,e0.STAT_EVENT,A=>{A.stat===hf.PROXY?W(kt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===hf.NOPROXY&&W(kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.a_()},0),_}};function s0(){return typeof document<"u"?document:null}function rp(n){return new L0(n,!0)}var Vf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=i,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();let t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}};var kR="PersistentStream",mw=class{constructor(e,t,r,i,o,s,a,c){this.xi=e,this.y_=r,this.w_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Vf(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}stop(){return M(this,null,function*(){this.F_()&&(yield this.close(0))})}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}B_(){return M(this,null,function*(){if(this.M_())return this.close(0)})}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}close(e,t){return M(this,null,function*(){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}Q_(){}auth(){this.state=1;let e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===t&&this.K_(r,i)},r=>{e(()=>{let i=new Q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,t){let r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(()=>M(this,null,function*(){this.state=0,this.start()}))}W_(e){return W(kR,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(W(kR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yw=class extends mw{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();let t=LH(this.serializer,e),r=function(o){if(!("targetChange"in o))return ge.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ge.min():s.readTime?Ks(s.readTime):ge.min()}(e);return this.listener.j_(t,r)}H_(e){let t={};t.database=MR(this.serializer),t.addTarget=function(o,s){let a,c=s.target;if(a=M0(c)?{documents:VH(o,c)}:{query:UH(o,c).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jP(o,s.resumeToken);let l=V0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ge.min())>0){a.readTime=U0(o,s.snapshotVersion.toTimestamp());let l=V0(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=BH(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){let t={};t.database=MR(this.serializer),t.removeTarget=e,this.L_(t)}};var vw=class{},_w=class extends vw{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,j0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(L.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,j0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(L.UNKNOWN,s.toString())})}terminate(){this.na=!0,this.connection.terminate()}},ww=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Br(t),this.oa=!1):W("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}};var aa="RemoteStore",Ew=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(s=>{r.enqueueAndForget(()=>M(this,null,function*(){Ru(this)&&(W(aa,"Restarting streams for network reachability change."),yield function(c){return M(this,null,function*(){let l=Ae(c);l.Ta.add(4),yield Mu(l),l.da.set("Unknown"),l.Ta.delete(4),yield ip(l)})}(this))}))}),this.da=new ww(r,i)}};function ip(n){return M(this,null,function*(){if(Ru(n))for(let e of n.Ia)yield e(!0)})}function Mu(n){return M(this,null,function*(){for(let e of n.Ia)yield e(!1)})}function JP(n,e){let t=Ae(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),rE(t)?nE(t):fa(t).M_()&&tE(t,e))}function eE(n,e){let t=Ae(n),r=fa(t);t.Pa.delete(e),r.M_()&&ZP(t,e),t.Pa.size===0&&(r.M_()?r.N_():Ru(t)&&t.da.set("Unknown"))}function tE(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).H_(e)}function ZP(n,e){n.Aa.Ke(e),fa(n).J_(e)}function nE(n){n.Aa=new F0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.da._a()}function rE(n){return Ru(n)&&!fa(n).F_()&&n.Pa.size>0}function Ru(n){return Ae(n).Ta.size===0}function XP(n){n.Aa=void 0}function tz(n){return M(this,null,function*(){n.da.set("Online")})}function nz(n){return M(this,null,function*(){n.Pa.forEach((e,t)=>{tE(n,e)})})}function rz(n,e){return M(this,null,function*(){XP(n),rE(n)?(n.da.ca(e),nE(n)):n.da.set("Unknown")})}function iz(n,e,t){return M(this,null,function*(){if(n.da.set("Online"),e instanceof Pf&&e.state===2&&e.cause)try{yield function(i,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Pa.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Pa.delete(a),i.Aa.removeTarget(a))})}(n,e)}catch(r){W(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield FR(n,r)}else if(e instanceof Gs?n.Aa.Xe(e):e instanceof Rf?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(ge.min()))try{let r=yield YP(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Aa.It(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let h=o.Pa.get(l);h&&o.Pa.set(l,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{let h=o.Pa.get(c);if(!h)return;o.Pa.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),ZP(o,c);let p=new Eu(h.target,c,l,h.sequenceNumber);tE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){W(aa,"Failed to raise snapshot:",r),yield FR(n,r)}})}function FR(n,e,t){return M(this,null,function*(){if(!da(e))throw e;n.Ta.add(1),yield Mu(n),n.da.set("Offline"),t||(t=()=>YP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(null,null,function*(){W(aa,"Retrying IndexedDB access"),yield t(),n.Ta.delete(1),yield ip(n)}))})}function LR(n,e){return M(this,null,function*(){let t=Ae(n);t.asyncQueue.verifyOperationInProgress(),W(aa,"RemoteStore received new credentials");let r=Ru(t);t.Ta.add(3),yield Mu(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),yield ip(t)})}function oz(n,e){return M(this,null,function*(){let t=Ae(n);e?(t.Ta.delete(2),yield ip(t)):e||(t.Ta.add(2),yield Mu(t),t.da.set("Unknown"))})}function fa(n){return n.Ra||(n.Ra=function(t,r,i){let o=Ae(t);return o.ra(),new yw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:tz.bind(null,n),n_:nz.bind(null,n),i_:rz.bind(null,n),j_:iz.bind(null,n)}),n.Ia.push(e=>M(null,null,function*(){e?(n.Ra.O_(),rE(n)?nE(n):n.da.set("Unknown")):(yield n.Ra.stop(),XP(n))}))),n.Ra}var Iw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ex(n,e){if(Br("AsyncQueue",`${e}: ${n}`),da(n))return new Q(L.UNAVAILABLE,`${e}: ${n}`);throw n}var Uf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ne.comparator(t.key,r.key):(t,r)=>ne.comparator(t.key,r.key),this.keyedMap=su(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var jf=class{constructor(){this.ma=new st(ne.comparator)}track(e){let t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):se(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){let e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}},ca=class n{constructor(e,t,r,i,o,s,a,c,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Uf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var bw=class{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}},Tw=class{constructor(){this.queries=VR(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){let i=Ae(t),o=i.queries;i.queries=VR(),o.forEach((s,a)=>{for(let c of a.ya)c.onError(r)})})(this,new Q(L.ABORTED,"Firestore shutting down"))}};function VR(){return new zr(n=>MP(n),tp)}function sz(n,e){return M(this,null,function*(){let t=Ae(n),r=3,i=e.query,o=t.queries.get(i);o?!o.wa()&&e.Sa()&&(r=2):(o=new bw,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=yield t.onListen(i,!0);break;case 1:o.pa=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ex(s,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&iE(t)})}function az(n,e){return M(this,null,function*(){let t=Ae(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.ya.indexOf(e);s>=0&&(o.ya.splice(s,1),o.ya.length===0?i=e.Sa()?0:1:!o.wa()&&e.Sa()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function cz(n,e){let t=Ae(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.ya)a.va(i)&&(r=!0);s.pa=i}}r&&iE(t)}function uz(n,e,t){let r=Ae(n),i=r.queries.get(e);if(i)for(let o of i.ya)o.onError(t);r.queries.delete(e)}function iE(n){n.ba.forEach(e=>{e.next()})}var Cw,UR;(UR=Cw||(Cw={})).Ca="default",UR.Cache="cache";var Dw=class{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;let r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;let t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Cw.Cache}};var Bf=class{constructor(e){this.key=e}},$f=class{constructor(e){this.key=e}},Sw=class{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Me(),this.mutatedKeys=Me(),this.Ha=RP(e),this.Ja=new Uf(this.Ha)}get Ya(){return this.Ga}Za(e,t){let r=t?t.Xa:new jf,i=t?t.Ja:this.Ja,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),m=np(this.query,p)?p:null,_=!!g&&this.mutatedKeys.has(g.key),T=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),A=!1;g&&m?g.data.isEqual(m.data)?_!==T&&(r.track({type:3,doc:m}),A=!0):this.eu(g,m)||(r.track({type:2,doc:m}),A=!0,(c&&this.Ha(m,c)>0||l&&this.Ha(m,l)<0)&&(a=!0)):!g&&m?(r.track({type:0,doc:m}),A=!0):g&&!m&&(r.track({type:1,doc:g}),A=!0,(c||l)&&(a=!0)),A&&(m?(s=s.add(m),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ja:s,Xa:r,Cs:a,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;let s=e.Xa.ga();s.sort((h,p)=>function(m,_){let T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se(20277,{Vt:A})}};return T(m)-T(_)}(h.type,p.type)||this.Ha(h.doc,p.doc)),this.tu(r),i=i!=null&&i;let a=t&&!i?this.nu():[],c=this.ja.size===0&&this.current&&!i?1:0,l=c!==this.za;return this.za=c,s.length!==0||l?{snapshot:new ca(this.query,e.Ja,o,s,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:a}:{ru:a}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new jf,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];let e=this.ja;this.ja=Me(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});let t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new $f(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new Bf(r))}),t}su(e){this.Ga=e.$s,this.ja=Me();let t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return ca.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}},oE="SyncEngine",Aw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Mw=class{constructor(e){this.key=e,this._u=!1}},Rw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new zr(a=>MP(a),tp),this.cu=new Map,this.lu=new Set,this.hu=new st(ne.comparator),this.Pu=new Map,this.Tu=new bu,this.Iu={},this.Eu=new Map,this.du=Iu.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}};function lz(n,e,t=!0){return M(this,null,function*(){let r=ox(n),i,o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ou()):i=yield tx(r,e,t,!0),i})}function dz(n,e){return M(this,null,function*(){let t=ox(n);yield tx(t,e,!0,!1)})}function tx(n,e,t,r){return M(this,null,function*(){let i=yield ZH(n.localStore,ur(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield hz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&JP(n.remoteStore,i),a})}function hz(n,e,t,r,i){return M(this,null,function*(){n.Ru=(p,g,m)=>function(T,A,O,H){return M(this,null,function*(){let z=A.view.Za(O);z.Cs&&(z=yield NR(T.localStore,A.query,!1).then(({documents:I})=>A.view.Za(I,z)));let ie=H&&H.targetChanges.get(A.targetId),ze=H&&H.targetMismatches.get(A.targetId)!=null,le=A.view.applyChanges(z,T.isPrimaryClient,ie,ze);return BR(T,A.targetId,le.ru),le.snapshot})}(n,p,g,m);let o=yield NR(n.localStore,e,!0),s=new Sw(e,o.$s),a=s.Za(o.documents),c=wu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,c);BR(n,t,l.ru);let h=new Aw(e,t,s);return n.uu.set(e,h),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),l.snapshot})}function fz(n,e,t){return M(this,null,function*(){let r=Ae(n),i=r.uu.get(e),o=r.cu.get(i.targetId);if(o.length>1)return r.cu.set(i.targetId,o.filter(s=>!tp(s,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&eE(r.remoteStore,i.targetId),Pw(r,i.targetId)}).catch(Zf))):(Pw(r,i.targetId),yield uw(r.localStore,i.targetId,!0))})}function pz(n,e){return M(this,null,function*(){let t=Ae(n),r=t.uu.get(e),i=t.cu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),eE(t.remoteStore,r.targetId))})}function nx(n,e){return M(this,null,function*(){let t=Ae(n);try{let r=yield YH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Pu.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s._u=!0:i.modifiedDocuments.size>0?Ye(s._u,14607):i.removedDocuments.size>0&&(Ye(s._u,42227),s._u=!1))}),yield ix(t,r,e)}catch(r){yield Zf(r)}})}function jR(n,e,t){let r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.uu.forEach((o,s)=>{let a=s.view.Da(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let c=Ae(s);c.onlineState=a;let l=!1;c.queries.forEach((h,p)=>{for(let g of p.ya)g.Da(a)&&(l=!0)}),l&&iE(c)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gz(n,e,t){return M(this,null,function*(){let r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Pu.get(e),o=i&&i.key;if(o){let s=new st(ne.comparator);s=s.insert(o,jn.newNoDocument(o,ge.min()));let a=Me().add(o),c=new Mf(ge.min(),new Map,new st(be),s,a);yield nx(r,c),r.hu=r.hu.remove(o),r.Pu.delete(e),sE(r)}else yield uw(r.localStore,e,!1).then(()=>Pw(r,e,t)).catch(Zf)})}function Pw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||rx(n,r)})}function rx(n,e){n.lu.delete(e.path.canonicalString());let t=n.hu.get(e);t!==null&&(eE(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),sE(n))}function BR(n,e,t){for(let r of t)r instanceof Bf?(n.Tu.addReference(r.key,e),mz(n,r)):r instanceof $f?(W(oE,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||rx(n,r.key)):se(19791,{mu:r})}function mz(n,e){let t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(W(oE,"New document in limbo: "+t),n.lu.add(r),sE(n))}function sE(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){let e=n.lu.values().next().value;n.lu.delete(e);let t=new ne(Qe.fromString(e)),r=n.du.next();n.Pu.set(r,new Mw(t)),n.hu=n.hu.insert(t,r),JP(n.remoteStore,new Eu(ur(Jw(t.path)),r,"TargetPurposeLimboResolution",zw.le))}}function ix(n,e,t){return M(this,null,function*(){let r=Ae(n),i=[],o=[],s=[];r.uu.isEmpty()||(r.uu.forEach((a,c)=>{s.push(r.Ru(c,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){i.push(l);let p=ow.Rs(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.au.j_(i),yield function(c,l){return M(this,null,function*(){let h=Ae(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,g=>k.forEach(g.ds,m=>h.persistence.referenceDelegate.addReference(p,g.targetId,m)).next(()=>k.forEach(g.As,m=>h.persistence.referenceDelegate.removeReference(p,g.targetId,m)))))}catch(p){if(!da(p))throw p;W(Xw,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let m=h.xs.get(g),_=m.snapshotVersion,T=m.withLastLimboFreeSnapshotVersion(_);h.xs=h.xs.insert(g,T)}}})}(r.localStore,o))})}function yz(n,e){return M(this,null,function*(){let t=Ae(n);if(!t.currentUser.isEqual(e)){W(oE,"User change. New user:",e.toKey());let r=yield QP(t.localStore,e);t.currentUser=e,function(o,s){o.Eu.forEach(a=>{a.forEach(c=>{c.reject(new Q(L.CANCELLED,s))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ix(t,r.ks)}})}function vz(n,e){let t=Ae(n),r=t.Pu.get(e);if(r&&r._u)return Me().add(r.key);{let i=Me(),o=t.cu.get(e);if(!o)return i;for(let s of o){let a=t.uu.get(s);i=i.unionWith(a.view.Ya)}return i}}function ox(n){let e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gz.bind(null,e),e.au.j_=cz.bind(null,e.eventManager),e.au.Vu=uz.bind(null,e.eventManager),e}var sx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return M(this,null,function*(){this.serializer=rp(t.databaseInfo.databaseId),this.sharedClientState=this.pu(t),this.persistence=this.yu(t),yield this.persistence.start(),this.localStore=this.wu(t),this.gcScheduler=this.Su(t,this.localStore),this.indexBackfillerScheduler=this.bu(t,this.localStore)})}Su(t,r){return null}bu(t,r){return null}wu(t){return QH(this.persistence,new aw,t.initialUser,this.serializer)}yu(t){return new Of(iw.fi,this.serializer)}pu(t){return new lw}terminate(){return M(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),xw=class extends sx{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){Ye(this.persistence.referenceDelegate instanceof kf,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new q0(r,e.asyncQueue,t)}yu(e){let t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Of(r=>kf.fi(r,t),this.serializer)}};var _z=(()=>{class n{initialize(t,r){return M(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yz.bind(null,this.syncEngine),yield oz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Tw}()}createDatastore(t){let r=rp(t.databaseInfo.databaseId),i=function(s){return new gw(s)}(t.databaseInfo);return function(s,a,c,l){return new _w(s,a,c,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,c){return new Ew(i,o,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>jR(this.syncEngine,r,0),function(){return Lf.C()?new Lf:new dw}())}createSyncEngine(t,r){return function(o,s,a,c,l,h,p){let g=new Rw(o,s,a,c,l,h);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return M(this,null,function*(){var t,r;yield function(o){return M(this,null,function*(){let s=Ae(o);W(aa,"RemoteStore shutting down."),s.Ta.add(5),yield Mu(s),s.Ea.shutdown(),s.da.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Nw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ti="FirestoreClient",Ow=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=Ef.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>M(this,null,function*(){W(Ti,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W(Ti,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ex(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function a0(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W(Ti,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>M(null,null,function*(){r.isEqual(i)||(yield QP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function $R(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield wz(n);W(Ti,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>LR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>LR(e.remoteStore,i)),n._onlineComponents=e})}function wz(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W(Ti,"Using user provided OfflineComponentProvider");try{yield a0(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ys("Error using user provided cache. Falling back to memory cache: "+t),yield a0(n,new sx)}}else W(Ti,"Using default OfflineComponentProvider"),yield a0(n,new xw(void 0));return n._offlineComponents})}function Ez(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W(Ti,"Using user provided OnlineComponentProvider"),yield $R(n,n._uninitializedComponentsProvider._online)):(W(Ti,"Using default OnlineComponentProvider"),yield $R(n,new _z))),n._onlineComponents})}function HR(n){return M(this,null,function*(){let e=yield Ez(n),t=e.eventManager;return t.onListen=lz.bind(null,e.syncEngine),t.onUnlisten=fz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pz.bind(null,e.syncEngine),t})}function ax(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var zR=new Map;function cx(n,e,t){if(!t)throw new Q(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Iz(n,e,t,r){if(e===!0&&r===!0)throw new Q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qR(n){if(!ne.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WR(n){if(ne.isDocumentKey(n))throw new Q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function op(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":se(12329,{type:typeof n})}function vf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=op(n);throw new Q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function bz(n,e){if(e<=0)throw new Q(L.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var ux="firestore.googleapis.com",GR=!0,Hf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ux,this.ssl=GR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:GR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WH)throw new Q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Iz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ax((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ua=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c0;switch(r.type){case"firstParty":return new h0(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return M(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=zR.get(t);r&&(W("ComponentProvider","Removing Datastore"),zR.delete(t),r.terminate())}(this),Promise.resolve()}};function lx(n,e,t,r={}){var i;n=vf(n,ua);let o=Fs(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(d_(`https://${c}`),h_("Firestore",!0)),s.host!==ux&&s.host!==c&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!co(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=_t.MOCK_USER;else{h=rM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new _t(g)}n._authCredentials=new u0(new _f(h,p))}}var Co=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},hn=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ei=class n extends Co{constructor(e,t,r){super(e,t,Jw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ne(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function dx(n,e,...t){if(n=ln(n),cx("collection","path",e),n instanceof ua){let r=Qe.fromString(e,...t);return WR(r),new Ei(n,null,r)}{if(!(n instanceof hn||n instanceof Ei))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return WR(r),new Ei(n.firestore,null,r)}}function hx(n,e,...t){if(n=ln(n),arguments.length===1&&(e=Ef.newId()),cx("doc","path",e),n instanceof ua){let r=Qe.fromString(e,...t);return qR(r),new hn(n,null,new ne(r))}{if(!(n instanceof hn||n instanceof Ei))throw new Q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Qe.fromString(e,...t));return qR(r),new hn(n.firestore,n instanceof Ei?n.converter:null,new ne(r))}}var KR="AsyncQueue",zf=class{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Vf(this,"async_queue_retry"),this.ec=()=>{let r=s0();r&&W(KR,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;let t=s0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;let t=s0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});let t=new wi;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}sc(){return M(this,null,function*(){if(this.zu.length!==0){try{yield this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!da(e))throw e;W(KR,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}})}rc(e){let t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,Br("INTERNAL UNHANDLED ERROR: ",QR(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);let i=Iw.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(i),i}nc(){this.Ju&&se(47125,{_c:QR(this.Ju)})}verifyOperationInProgress(){}ac(){return M(this,null,function*(){let e;do e=this.tc,yield e;while(e!==this.tc)})}uc(e){for(let t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){let t=this.Hu.indexOf(e);this.Hu.splice(t,1)}};function QR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function YR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var Tu=class extends ua{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return M(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zf(e),this._firestoreClient=void 0,yield e}})}};function fx(n,e){let t=typeof n=="object"?n:Vs(),r=typeof n=="string"?n:e||Cf,i=Wh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=tM("firestore");o&&lx(i,...o)}return i}function Tz(n){if(n._terminated)throw new Q(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Cz(n),n._firestoreClient}function Cz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,c,l,h){return new y0(a,c,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ax(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Ow(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Cu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Lt.fromBase64String(e))}catch(t){throw new Q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var qf=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Wf=class{constructor(e){this._methodName=e}};var Du=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var Su=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Dz=/^__.*__$/;function px(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se(40011,{hc:n})}}var kw=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Lw(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(px(this.hc)&&Dz.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}},Fw=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||rp(e)}gc(e,t,r,i=!1){return new kw({hc:e,methodName:t,fc:r,path:Tn.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Sz(n){let e=n._freezeSettings(),t=rp(n._databaseId);return new Fw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Az(n,e,t,r=!1){return aE(t,n.gc(r?4:3,e))}function aE(n,e){if(gx(n=ln(n)))return Rz("Unsupported field value:",e,n),Mz(n,e);if(n instanceof Wf)return function(r,i){if(!px(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let c=aE(a,i.Rc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ft.fromDate(r);return{timestampValue:U0(i.serializer,o)}}if(r instanceof Ft){let o=new Ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:U0(i.serializer,o)}}if(r instanceof Du)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cu)return{bytesValue:jP(i.serializer,r._byteString)};if(r instanceof hn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Vc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BP(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Su)return function(s,a){return{mapValue:{fields:{[Ww]:{stringValue:Gw},[Zs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Vc("VectorValues must only contain numeric values.");return Zw(a.serializer,l)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${op(r)}`)}(n,e)}function Mz(n,e){let t={};return gP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,(r,i)=>{let o=aE(i,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function gx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ft||n instanceof Du||n instanceof Cu||n instanceof hn||n instanceof Wf||n instanceof Su)}function Rz(n,e,t){if(!gx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=op(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}var Pz=new RegExp("[~\\*/\\[\\]]");function xz(n,e,t){if(e.search(Pz)>=0)throw Lw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qf(...e.split("."))._internalPath}catch{throw Lw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Lw(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Q(L.INVALID_ARGUMENT,a+n+c)}var Gf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Vw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Vw=class extends Gf{data(){return super.data()}};function cE(n,e){return typeof e=="string"?xz(n,e):e instanceof qf?e._internalPath:e._delegate._internalPath}function Nz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Au=class{},Kf=class extends Au{};function mx(n,e,...t){let r=[];e instanceof Au&&r.push(e),r=r.concat(t),function(o){let s=o.filter(c=>c instanceof Uw).length,a=o.filter(c=>c instanceof Qf).length;if(s>1||s>0&&a>0)throw new Q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Qf=class n extends Kf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return _x(e._query,t),new Co(e.firestore,e.converter,R0(e._query,t))}_parse(e){let t=Sz(e.firestore);return function(o,s,a,c,l,h,p){let g;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ZR(p,h);let _=[];for(let T of p)_.push(JR(c,o,T));g={arrayValue:{values:_}}}else g=JR(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ZR(p,h),g=Az(a,s,p,h==="in"||h==="not-in");return lt.create(l,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function yx(n,e,t){let r=e,i=cE("where",n);return Qf._create(i,r,t)}var Uw=class n extends Au{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Bn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)_x(s,c),s=R0(s,c)}(e._query,t),new Co(e.firestore,e.converter,R0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var jw=class n extends Kf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new n(e,t,r)}_apply(e){return new Co(e.firestore,e.converter,Af(e._query,this._limit,this._limitType))}};function vx(n){return bz("limit",n),jw._create("limit",n,"F")}function JR(n,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new Q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AP(e)&&t.indexOf("/")!==-1)throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Qe.fromString(t));if(!ne.isDocumentKey(r))throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pR(n,new ne(r))}if(t instanceof hn)return pR(n,t._key);throw new Q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${op(t)}.`)}function ZR(n,e){if(!Array.isArray(n)||n.length===0)throw new Q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _x(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Bw=class{convertValue(e,t="none"){switch(Ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ha(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Zs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ge(s.doubleValue));return new Su(o)}convertGeoPoint(e){return new Du(Ge(e.latitude),Ge(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ep(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){let t=$r(e);return new Ft(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Qe.fromString(e);Ye(GP(r),9688,{name:e});let i=new Df(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(t)||Br(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};var Eo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Yf=class extends Gf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Qs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(cE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Qs=class extends Yf{data(e={}){return super.data(e)}},$w=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qs(this._firestore,this._userDataWriter,r.key,r,new Eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new Qs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Oz(a.type),doc:c,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Oz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se(61501,{type:n})}}var Jf=class extends Bw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}};function uE(n,...e){var t,r,i;n=ln(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||YR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(YR(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,l,h;if(n instanceof hn)l=vf(n.firestore,Tu),h=Jw(n._key.path),c={next:p=>{e[s]&&e[s](kz(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=vf(n,Co);l=vf(p.firestore,Tu),h=p._query;let g=new Jf(l);c={next:m=>{e[s]&&e[s](new $w(l,g,p,m))},error:e[s+1],complete:e[s+2]},Nz(n._query)}return function(g,m,_,T){let A=new Nw(T),O=new Dw(m,A,_);return g.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return sz(yield HR(g),O)})),()=>{A.Cu(),g.asyncQueue.enqueueAndForget(()=>M(null,null,function*(){return az(yield HR(g),O)}))}}(Tz(l),h,a,c)}function kz(n,e,t){let r=t.docs.get(e._key),i=new Jf(n);return new Yf(n,i,e._key,r,new Eo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){la=i})(Ls),Vn(new Ht("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Tu(new l0(r.getProvider("auth-internal")),new f0(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new Q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Df(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ot(iR,oR,e),ot(iR,oR,"esm2017")})();var sp=function(){return sp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},sp.apply(this,arguments)};var Vz={includeMetadataChanges:!1};function lE(n,e){return e===void 0&&(e=Vz),new de(function(t){var r=uE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function wx(n){return lE(n,{includeMetadataChanges:!0})}function Ex(n,e){return e===void 0&&(e={}),wx(n).pipe(te(function(t){return dE(t,e)}))}function dE(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:sp(sp({},r),(t={},t[e.idField]=n.id,t))}function Ix(n){return lE(n,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function bx(n,e){return e===void 0&&(e={}),Ix(n).pipe(te(function(t){return t.map(function(r){return dE(r,e)})}))}var fn=class{constructor(e){return e}},Tx="firestore",hE=class{constructor(){return js(Tx)}};var fE=new K("angularfire2.firestore-instances");function Uz(n,e){let t=Qh(Tx,n,e);return t&&new fn(t)}function jz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fn(r)}}var Bz={provide:hE,deps:[[new Jn,fE]]},$z={provide:fn,useFactory:Uz,deps:[[new Jn,fE],po]};function Cx(n,...e){return ot("angularfire",ho.full,"fst"),ai([$z,Bz,{provide:fE,useFactory:jz(n),multi:!0,deps:[xe,Kt,fo,Zc,[new Jn,lf],[new Jn,Jh],...e]}])}var pa=dn(bx,!0);var ga=dn(Ex,!0);var ma=dn(dx,!0,2);var ya=dn(hx,!0,2);var Dx=dn(fx,!0);var pE=dn(vx,!0,2);var Pu=dn(mx,!0,2);var gE=dn(yx,!0,2);var Ci=class n{constructor(e){this.firestore=e}coursesCollectionPath="courses";getAllCourses(){let e=ma(this.firestore,this.coursesCollectionPath);return pa(e,{idField:"id"})}getFeaturedCourses(e=2){let t=ma(this.firestore,this.coursesCollectionPath),r=Pu(t,gE("isFeatured","==",!0),pE(e));return pa(r,{idField:"id"})}getCourseById(e){let t=ya(this.firestore,`${this.coursesCollectionPath}/${e}`);return ga(t,{idField:"id"})}getCourseBySlug(e){let t=ma(this.firestore,this.coursesCollectionPath),r=Pu(t,gE("slug","==",e),pE(1));return pa(r,{idField:"id"}).pipe(te(i=>i.length>0?i[0]:void 0),pt(1))}static \u0275fac=function(t){return new(t||n)($(fn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var cp=class n{constructor(e){this.firestore=e}certificatesCollectionPath="certificates";getCertificates(){let e=ma(this.firestore,this.certificatesCollectionPath);return pa(Pu(e),{idField:"id"})}static \u0275fac=function(t){return new(t||n)($(fn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var up=class n{constructor(e){this.firestore=e}contentDocPath="homePageContent/main";getHomePageContent(){let e=ya(this.firestore,this.contentDocPath);return ga(e,{idField:"id"})}static \u0275fac=function(t){return new(t||n)($(fn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};function qz(n,e){if(n&1&&(P(0,"div",26),fe(1,"img",27),N()),n&2){let t=Ie().$implicit;V(),q("src","assets/icons/"+t.iconName+".png",yn)}}function Wz(n,e){if(n&1&&(P(0,"div",24),Ee(1,qz,2,1,"div",25),P(2,"h3"),Z(3),N(),P(4,"p"),Z(5),N()()),n&2){let t=e.$implicit;V(),q("ngIf",t.iconName),V(2),it(t.title),V(2),it(t.text)}}function Gz(n,e){if(n&1&&(P(0,"section",21)(1,"div",13)(2,"div",22),Ee(3,Wz,6,3,"div",23),N()()()),n&2){let t=Ie().ngIf;V(3),q("ngForOf",t.infoBlocks)}}function Kz(n,e){if(n&1&&fe(0,"app-course-card",30),n&2){let t=e.$implicit;q("course",t)}}function Qz(n,e){if(n&1&&(P(0,"div",28),Ee(1,Kz,1,1,"app-course-card",29),mt(2,"async"),N()),n&2){let t=Ie(2);V(),q("ngForOf",yt(2,1,t.featuredCourses$))}}function Yz(n,e){n&1&&(P(0,"p"),Z(1,"\u041D\u0430\u0440\u0430\u0437\u0456 \u043D\u0435\u043C\u0430\u0454 \u0440\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0417\u0430\u0432\u0456\u0442\u0430\u0439\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),N())}function Jz(n,e){n&1&&(P(0,"div",31)(1,"a",32),Z(2,"\u041F\u0435\u0440\u0435\u0433\u043B\u044F\u043D\u0443\u0442\u0438 \u0412\u0441\u0456 \u041A\u0443\u0440\u0441\u0438"),N()())}function Zz(n,e){if(n&1&&(P(0,"div",38),fe(1,"img",39),N()),n&2){let t=Ie(2).ngIf;V(),Xy("alt",t.aboutUs.title),q("src",t.aboutUs.imageUrl,yn)}}function Xz(n,e){if(n&1&&(P(0,"section",33)(1,"div",13)(2,"h2",14),Z(3),N(),P(4,"div",34),Ee(5,Zz,2,2,"div",35),P(6,"div",36),fe(7,"div",37),mt(8,"replaceLineBreaks"),N()()()()),n&2){let t=Ie().ngIf;V(3),it(t.aboutUs.title),V(2),q("ngIf",t.aboutUs.imageUrl),V(2),q("innerHTML",yt(8,3,t.aboutUs.text),rn)}}function eq(n,e){if(n&1&&(P(0,"h4"),Z(1),N()),n&2){let t=Ie().$implicit;V(),it(t.specialization)}}function tq(n,e){if(n&1&&(P(0,"div",43)(1,"div",44),fe(2,"img",45),N(),P(3,"div",46)(4,"h3"),Z(5),N(),Ee(6,eq,2,1,"h4",47),fe(7,"div",48),mt(8,"replaceLineBreaks"),N()()),n&2){let t=e.$implicit;V(2),q("src",t.imageUrl,yn)("alt",t.fullName),V(3),it(t.fullName),V(),q("ngIf",t.specialization),V(),q("innerHTML",yt(8,5,t.bio),rn)}}function nq(n,e){if(n&1&&(P(0,"section",40)(1,"div",13)(2,"div",41),Ee(3,tq,9,7,"div",42),N()()()),n&2){let t=Ie().ngIf;V(3),q("ngForOf",t.aboutUs.authors)}}function rq(n,e){if(n&1&&(P(0,"div",53),fe(1,"img",54),N()),n&2){let t=Ie().$implicit;V(),q("src",t.imageUrl,yn)("alt",t.caption)}}function iq(n,e){if(n&1&&Ee(0,rq,2,2,"ng-template",52),n&2){let t=e.$implicit;q("id",t.imageUrl)}}function oq(n,e){if(n&1&&(P(0,"div",49)(1,"owl-carousel-o",50),Ee(2,iq,1,1,null,51),mt(3,"async"),N()()),n&2){let t=Ie(2);V(),q("options",t.certificateOptions),V(),q("ngForOf",yt(3,2,t.certificates$))}}function sq(n,e){n&1&&(P(0,"div",31)(1,"p"),Z(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0441\u043B\u0430\u0439\u0434\u0435\u0440\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0456\u0432..."),N()())}function aq(n,e){if(n&1){let t=vn();P(0,"div",3)(1,"section",4),fe(2,"div",5),P(3,"div",6)(4,"h1"),Z(5),N(),P(6,"p",7),Z(7),N(),P(8,"div",8)(9,"a",9),Z(10),N(),P(11,"button",10),He("click",function(){let i=xt(t).ngIf,o=Ie();return Nt(o.navigateTo(i.heroSection.telegramLink))}),Z(12),N()()()(),Ee(13,Gz,4,1,"section",11),P(14,"section",12)(15,"div",13)(16,"h2",14),Z(17,"\u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u043E\u0432\u0430\u043D\u0456 \u041A\u0443\u0440\u0441\u0438"),N(),Ee(18,Qz,3,3,"div",15),mt(19,"async"),Ee(20,Yz,2,0,"ng-template",null,1,Qi)(22,Jz,3,0,"div",16),mt(23,"async"),N()(),Ee(24,Xz,9,5,"section",17)(25,nq,4,1,"section",18),P(26,"section",19)(27,"div",13)(28,"h2",14),Z(29,"\u041D\u0430\u0448\u0456 \u0421\u0435\u0440\u0442\u0438\u0444\u0456\u043A\u0430\u0442\u0438 \u0442\u0430 \u0414\u043E\u0441\u044F\u0433\u043D\u0435\u043D\u043D\u044F"),N(),Ee(30,oq,4,4,"div",20)(31,sq,3,0,"div",16),N()()()}if(n&2){let t,r,i=e.ngIf,o=Gi(21),s=Ie();V(),fc("background-image","url("+i.heroSection.backgroundImageUrl+")"),V(4),it(i.heroSection.title),V(2),it(i.heroSection.subtitle),V(3),it(i.heroSection.coursesButtonText),V(2),it(i.heroSection.telegramButtonText),V(),q("ngIf",i.infoBlocks&&i.infoBlocks.length>0),V(5),q("ngIf",(t=yt(19,14,s.featuredCourses$))==null?null:t.length)("ngIfElse",o),V(4),q("ngIf",(r=yt(23,16,s.featuredCourses$))==null?null:r.length),V(2),q("ngIf",i.aboutUs),V(),q("ngIf",i.aboutUs.authors.length),V(5),q("ngIf",s.isBrowser),V(),q("ngIf",!s.isBrowser)}}function cq(n,e){n&1&&(P(0,"div",55)(1,"p"),Z(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0433\u043E\u043B\u043E\u0432\u043D\u043E\u0457 \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0438..."),N()())}var lp=class n{constructor(e,t,r,i){this.courseService=e;this.certificateService=t;this.homePageService=r;this.platformId=i;this.isBrowser=Nr(this.platformId),this.homePageContent$=this.homePageService.getHomePageContent(),this.certificates$=this.certificateService.getCertificates(),this.featuredCourses$=this.courseService.getFeaturedCourses(3),this.homePageContent$.subscribe(o=>{console.log(o)})}homePageContent$;isBrowser;certificateOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,margin:20,responsive:{0:{items:1},768:{items:2},1024:{items:3}}};featuredCourses$;certificates$;navigateTo(e){this.isBrowser&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(Y(Ci),Y(cp),Y(up),Y($t))};static \u0275cmp=ft({type:n,selectors:[["app-home"]],decls:4,vars:4,consts:[["loadingHome",""],["noCourses",""],["class","home-page",4,"ngIf","ngIfElse"],[1,"home-page"],[1,"hero-section-v2"],[1,"hero-overlay"],[1,"container","hero-content-v2"],[1,"subtitle"],[1,"hero-buttons"],["routerLink","/courses",1,"btn","btn-primary","btn-lg"],[1,"btn","btn-outline-light","btn-lg",3,"click"],["class","info-blocks-section section-padding",4,"ngIf"],[1,"featured-courses-section","section-padding"],[1,"container"],[1,"section-title"],["class","courses-grid",4,"ngIf","ngIfElse"],["class","text-center",4,"ngIf"],["class","about-us-section-v2 section-padding",4,"ngIf"],["class","authors-section section-padding",4,"ngIf"],[1,"certificates-section","section-padding"],["class","certificates-carousel-wrapper",4,"ngIf"],[1,"info-blocks-section","section-padding"],[1,"info-blocks-grid"],["class","info-block-item",4,"ngFor","ngForOf"],[1,"info-block-item"],["class","info-block-icon-container",4,"ngIf"],[1,"info-block-icon-container"],[1,"info-block-icon",3,"src","alt"],[1,"courses-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"],["routerLink","/courses",1,"btn","btn-secondary"],[1,"about-us-section-v2","section-padding"],[1,"about-us-content-layout"],["class","about-us-image-container",4,"ngIf"],[1,"about-us-text-container"],[1,"section-intro",3,"innerHTML"],[1,"about-us-image-container"],[1,"about-us-image",3,"src","alt"],[1,"authors-section","section-padding"],[1,"authors-grid-v2"],["class","author-card-v2",4,"ngFor","ngForOf"],[1,"author-card-v2"],[1,"author-image-container"],[1,"author-image",3,"src","alt"],[1,"author-info-container"],[4,"ngIf"],[3,"innerHTML"],[1,"certificates-carousel-wrapper"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide","",3,"id"],[1,"certificate-slide-item-owl"],[1,"certificate-image-owl",3,"src","alt"],[1,"container","text-center",2,"padding","100px 0"]],template:function(t,r){if(t&1&&(Ee(0,aq,32,18,"div",2),mt(1,"async"),Ee(2,cq,3,0,"ng-template",null,0,Qi)),t&2){let i=Gi(3);q("ngIf",yt(1,2,r.homePageContent$))("ngIfElse",i)}},dependencies:[Ot,hi,xr,Ji,wn,Ns,QA,KA,o_,ks],styles:[".home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:40px 0}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-padding[_ngcontent-%COMP%]{padding:60px 0}}.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{text-align:center;font-size:2em;margin-bottom:30px;color:var(--accent-color-1)}@media (min-width: 768px){.home-page[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:40px}}.home-page[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:800px;margin-left:auto;margin-right:auto;line-height:1.7}.home-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.hero-section-v2[_ngcontent-%COMP%]{position:relative;min-height:70vh;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color);padding:40px var(--container-padding)}.hero-section-v2[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00285099}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]{position:relative;z-index:2;max-width:700px}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:15px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3.2em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1em;margin-bottom:30px;line-height:1.6}@media (min-width: 768px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.3em}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;align-items:center}@media (min-width: 576px){.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]{flex-direction:row;justify-content:center}}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:180px;padding:12px 25px;font-size:1em}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]{border-color:var(--light-text-color);color:var(--light-text-color)}.hero-section-v2[_ngcontent-%COMP%]   .hero-content-v2[_ngcontent-%COMP%]   .hero-buttons[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--primary-color)}.info-blocks-section[_ngcontent-%COMP%]{background-color:#f9f9f9}.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:30px}@media (min-width: 768px){.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:20px}}@media (min-width: 992px){.info-blocks-section[_ngcontent-%COMP%]   .info-blocks-grid[_ngcontent-%COMP%]{gap:30px}}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]{text-align:center;padding:25px 20px;background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000000d;display:flex;flex-direction:column;align-items:center}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   .info-block-icon-container[_ngcontent-%COMP%]{margin-bottom:13px;display:flex;align-items:center;justify-content:center}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   .info-block-icon-container[_ngcontent-%COMP%]   .info-block-icon[_ngcontent-%COMP%]{width:60px;height:60px}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5em;color:var(--accent-color-1);margin-bottom:15px;line-height:1.3}.info-blocks-section[_ngcontent-%COMP%]   .info-block-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;color:var(--text-color);line-height:1.7}.about-us-section-v2[_ngcontent-%COMP%]{background-color:var(--background-color)}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:25px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-content-layout[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:30px}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:400px}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]{width:40%}}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-image-container[_ngcontent-%COMP%]   .about-us-image[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;display:block}.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]{flex-grow:1}@media (min-width: 768px){.about-us-section-v2[_ngcontent-%COMP%]   .about-us-text-container[_ngcontent-%COMP%]   .section-intro[_ngcontent-%COMP%]{text-align:left;margin-left:0;margin-right:0;max-width:none}}.authors-section[_ngcontent-%COMP%]{background-color:#f0f8ff}.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:40px}@media (min-width: 992px){.authors-section[_ngcontent-%COMP%]   .authors-grid-v2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;align-items:center;background-color:var(--background-color);padding:25px;border-radius:var(--border-radius);box-shadow:0 4px 12px #00000014}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]{flex-direction:row;text-align:left;align-items:flex-start}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]{flex-shrink:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;border:5px solid var(--primary-color)}@media (min-width: 768px){.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-image-container[_ngcontent-%COMP%]   .author-image[_ngcontent-%COMP%]{margin-right:30px}}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.7em;color:var(--accent-color-1);margin-bottom:5px;margin-top:0}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1em;color:var(--secondary-color);margin-bottom:15px;font-weight:600}.authors-section[_ngcontent-%COMP%]   .author-card-v2[_ngcontent-%COMP%]   .author-info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1em;line-height:1.7;color:var(--text-color)}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:15px;margin-bottom:30px}@media (min-width: 768px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]{padding:15px;background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 2px 8px #00000014;margin:5px;text-align:center}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-image-owl[_ngcontent-%COMP%]{width:100%;max-width:280px;height:auto;max-height:180px;object-fit:contain;border-radius:calc(var(--border-radius) - 5px);margin-bottom:10px;display:inline-block}.certificates-section[_ngcontent-%COMP%]   .certificate-slide-item-owl[_ngcontent-%COMP%]   .certificate-caption-owl[_ngcontent-%COMP%]{font-size:.9em;color:var(--text-color);min-height:2.5em;line-height:1.3}"]})};function uq(n,e){if(n&1&&fe(0,"app-course-card",6),n&2){let t=e.$implicit;q("course",t)}}function lq(n,e){if(n&1&&(P(0,"div",4),Ee(1,uq,1,1,"app-course-card",5),mt(2,"async"),N()),n&2){let t=Ie();V(),q("ngForOf",yt(2,1,t.allCourses$))}}function dq(n,e){n&1&&(P(0,"p",7),Z(1,"\u041D\u0430 \u0434\u0430\u043D\u0438\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043D\u0435\u043C\u0430\u0454 \u0434\u043E\u0441\u0442\u0443\u043F\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0456\u0432. \u0411\u0443\u0434\u044C \u043B\u0430\u0441\u043A\u0430, \u043F\u0435\u0440\u0435\u0432\u0456\u0440\u0442\u0435 \u043F\u0456\u0437\u043D\u0456\u0448\u0435!"),N())}var dp=class n{constructor(e){this.courseService=e;this.allCourses$=this.courseService.getAllCourses()}allCourses$;ngOnInit(){}static \u0275fac=function(t){return new(t||n)(Y(Ci))};static \u0275cmp=ft({type:n,selectors:[["app-courses"]],decls:7,vars:4,consts:[["noCourses",""],[1,"courses-page","container"],[1,"page-title"],["class","courses-list-grid",4,"ngIf","ngIfElse"],[1,"courses-list-grid"],[3,"course",4,"ngFor","ngForOf"],[3,"course"],[1,"text-center"]],template:function(t,r){if(t&1&&(P(0,"div",1)(1,"h1",2),Z(2,"\u041D\u0430\u0448\u0456 \u043A\u0443\u0440\u0441\u0438"),N(),Ee(3,lq,3,3,"div",3),mt(4,"async"),Ee(5,dq,2,0,"ng-template",null,0,Qi),N()),t&2){let i,o=Gi(6);V(3),q("ngIf",(i=yt(4,2,r.allCourses$))==null?null:i.length)("ngIfElse",o)}},dependencies:[Ot,hi,xr,Ji,Ns],styles:[".courses-page[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:30px}.courses-page[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{text-align:center;font-size:2.5em;margin-bottom:15px;color:var(--accent-color-1)}.courses-page[_ngcontent-%COMP%]   .page-intro[_ngcontent-%COMP%]{text-align:center;font-size:1.1em;color:var(--text-color);margin-bottom:30px;max-width:700px;margin-left:auto;margin-right:auto}.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:25px}@media (min-width: 768px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.courses-page[_ngcontent-%COMP%]   .courses-list-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.courses-page[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center;margin-top:20px}"]})};var hp=class n{constructor(e){this.firestore=e;let t=ya(this.firestore,this.settingsDocPath);this.globalTelegramLink$=ga(t).pipe(te(r=>{if(r&&r.heroSection&&r.heroSection.telegramLink)return r.heroSection.telegramLink;if(r&&r.globalTelegramLink)return r.globalTelegramLink}),Lg(1))}settingsDocPath="homePageContent/main";globalTelegramLink$;static \u0275fac=function(t){return new(t||n)($(fn))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var fq=["priceActionBar"];function pq(n,e){if(n&1&&(P(0,"p",25),Z(1),N()),n&2){let t=Ie().ngIf;V(),it(t.tagline)}}function gq(n,e){if(n&1&&(fe(0,"div",26),mt(1,"replaceLineBreaks")),n&2){let t=Ie().ngIf;q("innerHTML",yt(1,1,t.longDescription),rn)}}function mq(n,e){if(n&1&&(P(0,"h3",33),Z(1),N()),n&2){let t=Ie(2).ngIf;V(),it(t.additionalImage.caption)}}function yq(n,e){if(n&1&&(P(0,"section",27)(1,"div",28),fe(2,"img",29),Ee(3,mq,2,1,"h3",30),N(),P(4,"div",31)(5,"h3",32),Z(6),N(),fe(7,"div",16),mt(8,"replaceLineBreaks"),N()()),n&2){let t=Ie().ngIf;V(2),q("src",t.additionalImage.imageUrl,yn)("alt",t.additionalImage.caption||t.title),V(),q("ngIf",t.additionalImage.caption),V(3),it(t.additionalImage.descriptionTag),V(),q("innerHTML",yt(8,5,t.additionalImage.descriptionText),rn)}}function vq(n,e){if(n&1&&(P(0,"h3"),Z(1),N()),n&2){let t=Ie().$implicit;V(),it(t.title)}}function _q(n,e){if(n&1&&(P(0,"div",36)(1,"div",37),fe(2,"img",38),N(),P(3,"div",39),Ee(4,vq,2,1,"h3",40),fe(5,"p",16),mt(6,"replaceLineBreaks"),N()()),n&2){let t=e.$implicit;V(2),q("src",t.imageUrl,yn)("alt",t.title||"\u0414\u0435\u0442\u0430\u043B\u044C \u043A\u0443\u0440\u0441\u0443"),V(2),q("ngIf",t.title),V(),q("innerHTML",yt(6,4,t.text),rn)}}function wq(n,e){if(n&1&&(P(0,"section",34)(1,"h2"),Z(2,"\u041A\u0443\u0440\u0441 \u043F\u0456\u0434\u0445\u043E\u0434\u0438\u0442\u044C \u0434\u043B\u044F \u0431\u0430\u0442\u044C\u043A\u0456\u0432 \u044F\u043A\u0456:"),N(),Ee(3,_q,7,6,"div",35),N()),n&2){let t=Ie().ngIf;V(3),q("ngForOf",t.detailBlocks)}}function Eq(n,e){if(n&1){let t=vn();P(0,"button",41),He("click",function(){xt(t);let i=Ie(2);return Nt(i.navigateTo(i.actualTelegramLink))}),Z(1,"telegram"),fe(2,"i",42),N()}}function Iq(n,e){if(n&1&&(P(0,"div",43),fe(1,"div",16),mt(2,"replaceLineBreaks"),N()),n&2){let t=Ie().ngIf;V(),q("innerHTML",yt(2,1,t.targetAudience),rn)}}function bq(n,e){if(n&1&&(P(0,"li"),Z(1),N()),n&2){let t=e.$implicit;V(),it(t)}}function Tq(n,e){if(n&1&&(P(0,"div",43)(1,"h3"),Z(2,"\u0417\u0430\u0441\u0442\u0435\u0440\u0435\u0436\u0435\u043D\u043D\u044F \u0442\u0430 \u043F\u0440\u043E\u0442\u0438\u043F\u043E\u043A\u0430\u0437\u0430\u043D\u043D\u044F \u0434\u043E \u0432\u0438\u043A\u043E\u043D\u0430\u043D\u043D\u044F \u0432\u043F\u0440\u0430\u0432:"),N(),P(3,"ul",44),Ee(4,bq,2,1,"li",45),N()()),n&2){let t=Ie().ngIf;V(4),q("ngForOf",t.learningOutcomes)}}function Cq(n,e){if(n&1){let t=vn();P(0,"div",3)(1,"section",4),fe(2,"div",5),P(3,"div",6)(4,"h1"),Z(5),N(),Ee(6,pq,2,1,"p",7),N()(),P(7,"div",8)(8,"aside",9)(9,"div",10,1)(11,"div",11)(12,"span",12),Z(13),N()(),P(14,"button",13),He("click",function(){let i=xt(t).ngIf,o=Ie();return Nt(o.buyCourse(i.id))}),Z(15,"\u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441"),N()()(),P(16,"div",14)(17,"section",15)(18,"h2"),Z(19,"\u041F\u0440\u043E \u043A\u0443\u0440\u0441"),N(),fe(20,"div",16),mt(21,"replaceLineBreaks"),Ee(22,gq,2,3,"div",17),N(),P(23,"section",18)(24,"p")(25,"strong"),Z(26,"\u0421\u0442\u0430\u0440\u0442 \u043E\u0434\u0440\u0430\u0437\u0443 \u043F\u0456\u0441\u043B\u044F \u043E\u043F\u043B\u0430\u0442\u0438"),N()()(),Ee(27,yq,9,7,"section",19)(28,wq,4,1,"section",20)(29,Eq,3,0,"button",21),P(30,"section",22),Ee(31,Iq,3,3,"div",23)(32,Tq,5,1,"div",23),N()()(),fe(33,"div",24),N()}if(n&2){let t=e.ngIf,r=Ie();V(),fc("background-image","url("+t.imageUrl+")"),V(4),it(t.title),V(),q("ngIf",t.tagline),V(7),ui("",t.price.toFixed(2),"\u20B4"),V(7),q("innerHTML",yt(21,12,t.description),rn),V(2),q("ngIf",t.longDescription),V(5),q("ngIf",t.additionalImage),V(),q("ngIf",t.detailBlocks&&t.detailBlocks.length>0),V(),q("ngIf",r.actualTelegramLink),V(2),q("ngIf",t.targetAudience),V(),q("ngIf",t.learningOutcomes&&t.learningOutcomes.length>0)}}function Dq(n,e){n&1&&(P(0,"div",46)(1,"p"),Z(2,"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0435\u043D\u043D\u044F \u0434\u0430\u043D\u0438\u0445 \u043A\u0443\u0440\u0441\u0443 \u0430\u0431\u043E \u043A\u0443\u0440\u0441 \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E..."),N(),P(3,"a",47),Z(4,"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u0438\u0441\u044F \u0434\u043E \u043A\u0443\u0440\u0441\u0456\u0432"),N()())}var fp=class n{constructor(e,t,r,i,o,s){this.route=e;this.router=t;this.courseService=r;this.platformId=i;this.renderer=o;this.siteSettingsService=s;this.telegramLink$=this.siteSettingsService.globalTelegramLink$||"",this.telegramLink$.subscribe(a=>this.actualTelegramLink=a||""),this.isBrowser=Nr(this.platformId),this.course$=this.route.paramMap.pipe(nt(a=>{let c=a.get("courseSlug");return c?this.courseService.getCourseBySlug(c):(this.isBrowser&&this.router.navigate(["/courses"]),ee(void 0))}),oe(a=>{!a&&this.isBrowser&&console.warn("Course not found by slug from observable, consider redirecting...")}))}course$;isBrowser;telegramLink$;actualTelegramLink="";priceActionBarRef;ngAfterViewInit(){this.isBrowser&&(this.adjustBodyPadding(),window.addEventListener("resize",this.adjustBodyPadding))}ngOnDestroy(){this.isBrowser&&(this.renderer.setStyle(document.body,"paddingBottom","0px"),window.removeEventListener("resize",this.adjustBodyPadding))}adjustBodyPadding=()=>{if(this.priceActionBarRef&&this.priceActionBarRef.nativeElement){let e=this.priceActionBarRef.nativeElement.offsetHeight;window.innerWidth<992?this.renderer.setStyle(document.body,"paddingBottom",`${e}px`):this.renderer.setStyle(document.body,"paddingBottom","0px")}};buyCourse(e){this.course$.subscribe(t=>{t&&e&&(console.log("\u041A\u0443\u043F\u0438\u0442\u0438 \u043A\u0443\u0440\u0441:",e,t.title),alert('\u0412\u0438 \u043E\u0431\u0440\u0430\u043B\u0438 \u043A\u0443\u0440\u0441 "{course.title}\u20B4". \u0424\u0443\u043D\u043A\u0446\u0456\u044F \u043A\u0443\u043F\u0456\u0432\u043B\u0456 \u0432 \u0440\u043E\u0437\u0440\u043E\u0431\u0446\u0456!'))}).unsubscribe()}navigateTo(e){this.isBrowser&&window.open(e,"_blank")}static \u0275fac=function(t){return new(t||n)(Y(cn),Y(_n),Y(Ci),Y($t),Y(tr),Y(hp))};static \u0275cmp=ft({type:n,selectors:[["app-course-detail"]],viewQuery:function(t,r){if(t&1&&aS(fq,5),t&2){let i;gs(i=ms())&&(r.priceActionBarRef=i.first)}},decls:4,vars:4,consts:[["loadingOrError",""],["priceActionBar",""],["class","course-detail-page",4,"ngIf","ngIfElse"],[1,"course-detail-page"],[1,"course-hero-section"],[1,"hero-overlay"],[1,"container","hero-content"],["class","tagline",4,"ngIf"],[1,"course-content-wrapper","container"],[1,"sidebar-content"],[1,"price-action-bar"],[1,"price"],[1,"current-price"],[1,"btn","btn-primary","btn-buy",3,"click"],[1,"main-content"],[1,"course-section","description-section"],[3,"innerHTML"],["class","long-description",3,"innerHTML",4,"ngIf"],[1,"course-section","start-info-section"],["class","course-section additional-image-section",4,"ngIf"],["class","course-section detail-blocks-section",4,"ngIf"],["class","btn btn-outline-light btn-lg",3,"click",4,"ngIf"],[1,"course-section","text-blocks-section"],["class","text-block",4,"ngIf"],[1,"sticky-price-bar-placeholder","visible-mobile"],[1,"tagline"],[1,"long-description",3,"innerHTML"],[1,"course-section","additional-image-section"],[1,"additional-image-container"],[1,"additional-image",3,"src","alt"],["class","caption",4,"ngIf"],[1,"additional-image-description"],[1,"additional-image-description-tag"],[1,"caption"],[1,"course-section","detail-blocks-section"],["class","detail-block-item",4,"ngFor","ngForOf"],[1,"detail-block-item"],[1,"detail-block-image-container"],[1,"detail-block-image",3,"src","alt"],[1,"detail-block-text-container"],[4,"ngIf"],[1,"btn","btn-outline-light","btn-lg",3,"click"],[1,"fab","fa-telegram"],[1,"text-block"],[1,"custom-list-icons"],[4,"ngFor","ngForOf"],[1,"container","text-center",2,"padding","50px 0"],["routerLink","/courses",1,"btn","btn-secondary"]],template:function(t,r){if(t&1&&(Ee(0,Cq,34,14,"div",2),mt(1,"async"),Ee(2,Dq,5,0,"ng-template",null,0,Qi)),t&2){let i=Gi(3);q("ngIf",yt(1,2,r.course$))("ngIfElse",i)}},dependencies:[Ot,hi,xr,Ji,wn,ks],styles:['@charset "UTF-8";@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v23/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QIFqPfE.woff2) format("woff2");unicode-range:U+0460-052F,U+1C80-1C8A,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4SYFqPfE.woff2) format("woff2");unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4ToFqPfE.woff2) format("woff2");unicode-range:U+0370-0377,U+037A-037F,U+0384-038A,U+038C,U+038E-03A1,U+03A3-03FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4QoFqPfE.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4Q4FqPfE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Comfortaa;font-style:normal;font-weight:300 700;font-display:swap;src:url(https://fonts.gstatic.com/s/comfortaa/v46/1Ptsg8LJRfWJmhDAuUs4TYFq.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--primary-color: #7ba8d1;--primary-color-lighter-15: #bde0f1;--secondary-color: #edbb48;--secondary-color-darker: #d68a18;--secondary-text-color: #ffffff;--accent-color-1: #264b70;--accent-color-1-lighter: #004080;--accent-text-color-1: #ffffff;--background-color: #ffffff;--text-color: #333333;--light-text-color: #ffffff;--container-padding: 15px;--border-radius: 8px}body[_ngcontent-%COMP%]{margin:0;font-family:Poppins,sans-serif;background-color:var(--background-color);color:var(--text-color);line-height:1.6}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--accent-color-1);margin-top:0}a[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none}a[_ngcontent-%COMP%]:hover{color:var(--secondary-color);text-decoration:underline}.container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 var(--container-padding)}.btn[_ngcontent-%COMP%]{display:inline-block;padding:10px 20px;border-radius:var(--border-radius);text-decoration:none;font-weight:600;cursor:pointer;transition:background-color .3s ease,color .3s ease;border:none;text-align:center}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker);color:var(--secondary-text-color);text-decoration:none}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--accent-color-1);color:var(--accent-text-color-1)}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--accent-color-1-lighter);color:var(--accent-text-color-1);text-decoration:none}.btn-outline-light[_ngcontent-%COMP%]{background-color:transparent;color:var(--light-text-color);border:2px solid var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--accent-color-1);text-decoration:none}.btn-outline-primary[_ngcontent-%COMP%]{background-color:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:var(--light-text-color);text-decoration:none}@media (max-width: 767px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.visible-mobile[_ngcontent-%COMP%]{display:none!important}@media (max-width: 767px){.visible-mobile[_ngcontent-%COMP%]{display:block!important}}.card[_ngcontent-%COMP%]{background-color:var(--background-color);border-radius:var(--border-radius);box-shadow:0 4px 8px #0000001a;overflow:hidden;margin-bottom:20px}@media (min-width: 992px){.course-detail-page[_ngcontent-%COMP%]{margin:0 auto;width:70%}}.course-hero-section[_ngcontent-%COMP%]{position:relative;height:50vh;min-height:280px;max-height:400px;background-size:cover;background-position:center center;display:flex;align-items:center;justify-content:center;text-align:center;color:var(--light-text-color)}.course-hero-section[_ngcontent-%COMP%]   .hero-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#001e3ca6}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2em;color:var(--light-text-color);margin-bottom:10px;text-shadow:1px 1px 3px rgba(0,0,0,.5)}.course-hero-section[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.1em;font-weight:300;max-width:600px;margin:0 auto;text-shadow:1px 1px 2px rgba(0,0,0,.4)}.course-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;padding-bottom:10px;position:relative}@media (min-width: 992px){.course-content-wrapper[_ngcontent-%COMP%]{flex-direction:row;padding-top:30px;gap:30px}.course-content-wrapper[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{flex:2;min-width:0;order:1}.course-content-wrapper[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{flex:1;max-width:360px;min-width:0;order:2}}.sticky-price-bar-placeholder[_ngcontent-%COMP%]{height:120px;display:none}.price-action-bar[_ngcontent-%COMP%]{background-color:var(--background-color);padding:15px;text-align:center;width:100%;box-sizing:border-box;transition:box-shadow .3s ease-in-out,background-color .3s ease-in-out;z-index:990}@media (max-width: 991px){.price-action-bar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;border-radius:0;border-top:1px solid #eee;box-shadow:0 -2px 8px #0000001a;background-color:rgba(var(--rgb-background-color, 255, 255, 255),.97);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:999}}@media (min-width: 992px){.price-action-bar[_ngcontent-%COMP%]{position:sticky;top:calc(var(--header-height, 65px) + 20px);bottom:auto;border-radius:var(--border-radius);box-shadow:0 2px 10px #0000001a;padding:20px;background-color:var(--background-color);-webkit-backdrop-filter:none;backdrop-filter:none;border-top:none}}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .current-price[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;color:var(--accent-color-1)}.price-action-bar[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{width:100%;padding:10px;font-size:1em;margin-bottom:10px}.price-action-bar[_ngcontent-%COMP%]   .duration-info[_ngcontent-%COMP%]{font-size:.85em;color:#555}.course-section[_ngcontent-%COMP%]{margin-bottom:30px}.course-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.6em;color:var(--accent-color-1);margin-bottom:15px;padding-bottom:8px;border-bottom:2px solid var(--primary-color);display:inline-block}.course-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{line-height:1.7;color:var(--text-color);font-size:.95em}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:disc;padding-left:20px}.course-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:7px}.start-info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.05em;color:var(--accent-color-1);background-color:var(--primary-color-lighter-15);padding:12px;border-radius:var(--border-radius);text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{margin-bottom:15px;text-align:center}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .additional-image[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:var(--border-radius);box-shadow:0 4px 10px #00000014}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{font-size:.85em;color:#777;margin-top:8px;font-style:italic}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px;margin-bottom:25px;padding:15px;background-color:#f9f9f9;border-radius:var(--border-radius)}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{flex-shrink:0}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]   img.detail-block-image[_ngcontent-%COMP%]{width:100%;max-width:180px;height:auto;border-radius:var(--border-radius);display:block;margin:0 auto}@media (min-width: 768px){.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-image-container[_ngcontent-%COMP%]{width:180px;margin:0 15px 0 0}}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]{color:var(--text-color);flex-grow:1}.detail-blocks-section[_ngcontent-%COMP%]   .detail-block-item[_ngcontent-%COMP%]   .detail-block-text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;color:var(--accent-color-1);margin-top:0;margin-bottom:8px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]{margin-bottom:25px}.text-blocks-section[_ngcontent-%COMP%]   .text-block[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;color:var(--accent-color-1);margin-bottom:12px}.custom-list-icons[_ngcontent-%COMP%]{list-style-type:none;padding-left:0}.custom-list-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:30px;margin-bottom:10px;line-height:1.6;list-style:none}.custom-list-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\274c";position:absolute;left:0;top:0;color:var(--secondary-color);font-size:1.2em}.loadingOrError[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:300px}.loadingOrError[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-top:20px}.btn[_ngcontent-%COMP%]{min-width:180px;padding:12px 25px;font-size:1em}.btn-primary[_ngcontent-%COMP%]{background-color:var(--secondary-color);color:var(--secondary-text-color)}.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--secondary-color-darker)}.btn-outline-light[_ngcontent-%COMP%]{border-color:var(--light-text-color);color:var(--light-text-color)}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:var(--light-text-color);color:var(--primary-color)}.additional-image-description-tag[_ngcontent-%COMP%]{text-align:center}@media (min-width: 768px){.course-hero-section[_ngcontent-%COMP%]{height:50vh}.course-hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8em}.course-hero-section[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{font-size:1.3em}.additional-image-section[_ngcontent-%COMP%]{display:flex;gap:25px;align-items:flex-start}.additional-image-section[_ngcontent-%COMP%]   .additional-image-container[_ngcontent-%COMP%]{flex-basis:40%;flex-shrink:0;margin-bottom:0;text-align:left}.additional-image-section[_ngcontent-%COMP%]   .additional-image-description[_ngcontent-%COMP%]{flex-basis:60%}}@media (min-width: 992px){.course-hero-section[_ngcontent-%COMP%]{height:45vh;min-height:380px;max-height:500px}}']})};var Sx=[{path:"",component:lp,pathMatch:"full"},{path:"courses",component:dp},{path:"course/:courseSlug",component:fp},{path:"**",redirectTo:""}];function Ax(n){return new x(3e3,!1)}function Sq(){return new x(3100,!1)}function Aq(){return new x(3101,!1)}function Mq(n){return new x(3001,!1)}function Rq(n){return new x(3003,!1)}function Pq(n){return new x(3004,!1)}function Rx(n,e){return new x(3005,!1)}function Px(){return new x(3006,!1)}function xx(){return new x(3007,!1)}function Nx(n,e){return new x(3008,!1)}function Ox(n){return new x(3002,!1)}function kx(n,e,t,r,i){return new x(3010,!1)}function Fx(){return new x(3011,!1)}function Lx(){return new x(3012,!1)}function Vx(){return new x(3200,!1)}function Ux(){return new x(3202,!1)}function jx(){return new x(3013,!1)}function Bx(n){return new x(3014,!1)}function $x(n){return new x(3015,!1)}function Hx(n){return new x(3016,!1)}function zx(n,e){return new x(3404,!1)}function xq(n){return new x(3502,!1)}function qx(n){return new x(3503,!1)}function Wx(){return new x(3300,!1)}function Gx(n){return new x(3504,!1)}function Kx(n){return new x(3301,!1)}function Qx(n,e){return new x(3302,!1)}function Yx(n){return new x(3303,!1)}function Jx(n,e){return new x(3400,!1)}function Zx(n){return new x(3401,!1)}function Xx(n){return new x(3402,!1)}function eN(n,e){return new x(3505,!1)}function qr(n){switch(n.length){case 0:return new or;case 1:return n[0];default:return new oo(n)}}function wE(n,e,t=new Map,r=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),h=l==s,p=h&&a||new Map;c.forEach((g,m)=>{let _=m,T=g;if(m!=="offset")switch(_=n.normalizePropertyName(_,i),T){case Os:T=t.get(m);break;case En:T=r.get(m);break;default:T=n.normalizeStyleValue(m,_,T,i);break}p.set(_,T)}),h||o.push(p),a=p,s=l}),i.length)throw xq(i);return o}function pp(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yE(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yE(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yE(t,"destroy",n)));break}}function yE(n,e,t){let r=t.totalTime,i=!!t.disabled,o=gp(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,r??n.totalTime,i),s=n._data;return s!=null&&(o._data=s),o}function gp(n,e,t,r,i="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Yt(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function EE(n){let e=n.indexOf(":"),t=n.substring(1,e),r=n.slice(e+1);return[t,r]}var Nq=typeof document>"u"?null:document.documentElement;function mp(n){let e=n.parentNode||n.host||null;return e===Nq?null:e}function Oq(n){return n.substring(1,6)=="ebkit"}var Do=null,Mx=!1;function tN(n){Do||(Do=kq()||{},Mx=Do.style?"WebkitAppearance"in Do.style:!1);let e=!0;return Do.style&&!Oq(n)&&(e=n in Do.style,!e&&Mx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Do.style)),e}function kq(){return typeof document<"u"?document.body:null}function IE(n,e){for(;e;){if(e===n)return!0;e=mp(e)}return!1}function bE(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let r=n.querySelector(e);return r?[r]:[]}var Fq=1e3,TE="{{",Lq="}}",CE="ng-enter",yp="ng-leave",xu="ng-trigger",Nu=".ng-trigger",DE="ng-animating",vp=".ng-animating";function dr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vE(parseFloat(e[1]),e[2])}function vE(n,e){switch(e){case"s":return n*Fq;default:return n}}function Ou(n,e,t){return n.hasOwnProperty("duration")?n:Vq(n,e,t)}function Vq(n,e,t){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof n=="string"){let a=n.match(r);if(a===null)return e.push(Ax(n)),{duration:0,delay:0,easing:""};i=vE(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(o=vE(parseFloat(c),a[4]));let l=a[5];l&&(s=l)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(Sq()),a=!0),o<0&&(e.push(Aq()),a=!0),a&&e.splice(c,0,Ax(n))}return{duration:i,delay:o,easing:s}}function nN(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function $n(n,e,t){e.forEach((r,i)=>{let o=_p(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r})}function Di(n,e){e.forEach((t,r)=>{let i=_p(r);n.style[i]=""})}function va(n){return Array.isArray(n)?n.length==1?n[0]:UA(n):n}function rN(n,e,t){let r=e.params||{},i=SE(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(Mq(o))})}var _E=new RegExp(`${TE}\\s*(.+?)\\s*${Lq}`,"g");function SE(n){let e=[];if(typeof n=="string"){let t;for(;t=_E.exec(n);)e.push(t[1]);_E.lastIndex=0}return e}function _a(n,e,t){let r=`${n}`,i=r.replace(_E,(o,s)=>{let a=e[s];return a==null&&(t.push(Rq(s)),a=""),a.toString()});return i==r?n:i}var Uq=/-+([a-z0-9])/g;function _p(n){return n.replace(Uq,(...e)=>e[1].toUpperCase())}function iN(n,e){return n===0||e===0}function oN(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,wp(n,a)))}}return e}function Jt(n,e,t){switch(e.type){case ae.Trigger:return n.visitTrigger(e,t);case ae.State:return n.visitState(e,t);case ae.Transition:return n.visitTransition(e,t);case ae.Sequence:return n.visitSequence(e,t);case ae.Group:return n.visitGroup(e,t);case ae.Animate:return n.visitAnimate(e,t);case ae.Keyframes:return n.visitKeyframes(e,t);case ae.Style:return n.visitStyle(e,t);case ae.Reference:return n.visitReference(e,t);case ae.AnimateChild:return n.visitAnimateChild(e,t);case ae.AnimateRef:return n.visitAnimateRef(e,t);case ae.Query:return n.visitQuery(e,t);case ae.Stagger:return n.visitStagger(e,t);default:throw Pq(e.type)}}function wp(n,e){return window.getComputedStyle(n)[e]}var zE=(()=>{class n{validateStyleProperty(t){return tN(t)}containsElement(t,r){return IE(t,r)}getParentElement(t){return mp(t)}query(t,r,i){return bE(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new or(i,o)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})(),Ao=class{static NOOP=new zE},Mo=class{};var jq=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Cp=class extends Mo{normalizePropertyName(e,t){return _p(e)}normalizeStyleValue(e,t,r,i){let o="",s=r.toString().trim();if(jq.has(t)&&r!==0&&r!=="0")if(typeof r=="number")o="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(Rx(e,r))}return s+o}};var Dp="*";function Bq(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(r=>$q(r,t,e)):t.push(n),t}function $q(n,e,t){if(n[0]==":"){let c=Hq(n,t);if(typeof c=="function"){e.push(c);return}n=c}let r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return t.push($x(n)),e;let i=r[1],o=r[2],s=r[3];e.push(sN(i,s));let a=i==Dp&&s==Dp;o[0]=="<"&&!a&&e.push(sN(s,i))}function Hq(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(Hx(n)),"* => *"}}var Ep=new Set(["true","1"]),Ip=new Set(["false","0"]);function sN(n,e){let t=Ep.has(n)||Ip.has(n),r=Ep.has(e)||Ip.has(e);return(i,o)=>{let s=n==Dp||n==i,a=e==Dp||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Ep.has(n):Ip.has(n)),!a&&r&&typeof o=="boolean"&&(a=o?Ep.has(e):Ip.has(e)),s&&a}}var mN=":self",zq=new RegExp(`s*${mN}s*,?`,"g");function yN(n,e,t,r){return new NE(n).build(e,t,r)}var aN="",NE=class{_driver;constructor(e){this._driver=e}build(e,t,r){let i=new OE(t);return this._resetContextStyleTimingState(i),Jt(this,va(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=aN,e.collectedStyles=new Map,e.collectedStyles.set(aN,new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Px()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ae.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==ae.Transition){let c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(xx())}),{type:ae.Trigger,name:e.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(e,t){let r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{SE(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(Nx(e.name,[...o.values()]))}return{type:ae.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let r=Jt(this,va(e.animation),t),i=Bq(e.expr,t.errors);return{type:ae.Transition,matchers:i,animation:r,queryCount:t.queryCount,depCount:t.depCount,options:So(e.options)}}visitSequence(e,t){return{type:ae.Sequence,steps:e.steps.map(r=>Jt(this,r,t)),options:So(e.options)}}visitGroup(e,t){let r=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=r;let a=Jt(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:ae.Group,steps:o,options:So(e.options)}}visitAnimate(e,t){let r=Kq(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:so({});if(o.type==ae.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let l={};r.easing&&(l.easing=r.easing),s=so(l)}t.currentTime+=r.duration+r.delay;let c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:ae.Animate,timings:r,style:i,options:null}}visitStyle(e,t){let r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===En?r.push(a):t.errors.push(Ox(a)):r.push(new Map(Object.entries(a)));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let c of a.values())if(c.toString().indexOf(TE)>=0){o=!0;break}}}),{type:ae.Style,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let r=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,c)=>{let l=t.collectedStyles.get(t.currentQuerySelector),h=l.get(c),p=!0;h&&(o!=i&&o>=h.startTime&&i<=h.endTime&&(t.errors.push(kx(c,h.startTime,h.endTime,o,i)),p=!1),o=h.startTime),p&&l.set(c,{startTime:o,endTime:i}),t.options&&rN(a,t.options,t.errors)})})}visitKeyframes(e,t){let r={type:ae.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Fx()),r;let i=1,o=0,s=[],a=!1,c=!1,l=0,h=e.steps.map(O=>{let H=this._makeStyleAst(O,t),z=H.offset!=null?H.offset:Gq(H.styles),ie=0;return z!=null&&(o++,ie=H.offset=z),c=c||ie<0||ie>1,a=a||ie<l,l=ie,s.push(ie),H});c&&t.errors.push(Lx()),a&&t.errors.push(Vx());let p=e.steps.length,g=0;o>0&&o<p?t.errors.push(Ux()):o==0&&(g=i/(p-1));let m=p-1,_=t.currentTime,T=t.currentAnimateTimings,A=T.duration;return h.forEach((O,H)=>{let z=g>0?H==m?1:g*H:s[H],ie=z*A;t.currentTime=_+T.delay+ie,T.duration=ie,this._validateStyleAst(O,t),O.offset=z,r.styles.push(O)}),r}visitReference(e,t){return{type:ae.Reference,animation:Jt(this,va(e.animation),t),options:So(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ae.AnimateChild,options:So(e.options)}}visitAnimateRef(e,t){return{type:ae.AnimateRef,animation:this.visitReference(e.animation,t),options:So(e.options)}}visitQuery(e,t){let r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=qq(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,Yt(t.collectedStyles,t.currentQuerySelector,new Map);let a=Jt(this,va(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:ae.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:So(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(jx());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ou(e.timings,t.errors,!0);return{type:ae.Stagger,animation:Jt(this,va(e.animation),t),timings:r,options:null}}};function qq(n){let e=!!n.split(/\s*,\s*/).find(t=>t==mN);return e&&(n=n.replace(zq,"")),n=n.replace(/@\*/g,Nu).replace(/@\w+/g,t=>Nu+"-"+t.slice(1)).replace(/:animating/g,vp),[n,e]}function Wq(n){return n?U({},n):null}var OE=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Gq(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Kq(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let o=Ou(n,e).duration;return AE(o,0,"")}let t=n;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=AE(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Ou(t,e);return AE(i.duration,i.delay,i.easing)}function So(n){return n?(n=U({},n),n.params&&(n.params=Wq(n.params))):n={},n}function AE(n,e,t){return{duration:n,delay:e,easing:t}}function qE(n,e,t,r,i,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Fu=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Qq=1,Yq=":enter",Jq=new RegExp(Yq,"g"),Zq=":leave",Xq=new RegExp(Zq,"g");function vN(n,e,t,r,i,o=new Map,s=new Map,a,c,l=[]){return new kE().buildKeyframes(n,e,t,r,i,o,s,a,c,l)}var kE=class{buildKeyframes(e,t,r,i,o,s,a,c,l,h=[]){l=l||new Fu;let p=new FE(e,t,l,i,o,h,[]);p.options=c;let g=c.delay?dr(c.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([s],null,p.errors,c),Jt(this,r,p);let m=p.timelines.filter(_=>_.containsAnimation());if(m.length&&a.size){let _;for(let T=m.length-1;T>=0;T--){let A=m[T];if(A.element===t){_=A;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([a],null,p.errors,c)}return m.length?m.map(_=>_.buildKeyframes()):[qE(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let r=t.subInstructions.get(t.element);if(r){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:dr(_a(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime,s=r.duration!=null?dr(r.duration):null,a=r.delay!=null?dr(r.delay):null;return s!==0&&e.forEach(c=>{let l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Jt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let r=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==ae.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Sp);let s=dr(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Jt(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let r=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?dr(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Jt(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let r=e.strValue,i=t.params?_a(r,t.params,t.errors):r;return Ou(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());let o=e.style;o.type==ae.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?dr(i.delay):0;o&&(t.previousNode.type===ae.Style||r==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sp);let s=r,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,l);o&&p.delayNextStep(o),l===t.element&&(c=p.currentTimeline),Jt(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;s=Math.max(s,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let r=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let h=t.currentTimeline;c&&h.delayNextStep(c);let p=h.currentTime;Jt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Sp={},FE=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Sp;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,r,i,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=c||new Ap(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=dr(r.duration)),r.delay!=null&&(i.delay=dr(r.delay));let o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=_a(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){let i=t||this.element,o=new n(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Sp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new LE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Jq,"."+this._enterClassName),e=e.replace(Xq,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!o&&a.length==0&&s.push(Bx(t)),a}},Ap=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Qq,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||En),this._currentKeyframe.set(t,En);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=e6(e,this._globalTimelineStyles);for(let[a,c]of s){let l=_a(c,o,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??En),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{let i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,p)=>{h===Os?e.add(p):h===En&&t.add(p)}),r||l.set("offset",c/this.duration),i.push(l)});let o=[...e.values()],s=[...t.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return qE(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},LE=class extends Ap{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,r,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=r+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);let l=new Map(e[0]);l.set("offset",cN(a)),o.push(l);let h=e.length-1;for(let p=1;p<=h;p++){let g=new Map(e[p]),m=g.get("offset"),_=t+m*r;g.set("offset",cN(_/s)),o.push(g)}r=s,t=0,i="",e=o}return qE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}};function cN(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function e6(n,e){let t=new Map,r;return n.forEach(i=>{if(i==="*"){r??=e.keys();for(let o of r)t.set(o,En)}else for(let[o,s]of i)t.set(o,s)}),t}function uN(n,e,t,r,i,o,s,a,c,l,h,p,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:h,totalTime:p,errors:g}}var ME={},Mp=class{_triggerName;ast;_stateStyles;constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return t6(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,s,a,c,l,h){let p=[],g=this.ast.options&&this.ast.options.params||ME,m=a&&a.params||ME,_=this.buildStyles(r,m,p),T=c&&c.params||ME,A=this.buildStyles(i,T,p),O=new Set,H=new Map,z=new Map,ie=i==="void",ze={params:_N(T,g),delay:this.ast.options?.delay},le=h?[]:vN(e,t,this.ast.animation,o,s,_,A,ze,l,p),I=0;return le.forEach(v=>{I=Math.max(v.duration+v.delay,I)}),p.length?uN(t,this._triggerName,r,i,ie,_,A,[],[],H,z,I,p):(le.forEach(v=>{let w=v.element,b=Yt(H,w,new Set);v.preStyleProps.forEach(S=>b.add(S));let C=Yt(z,w,new Set);v.postStyleProps.forEach(S=>C.add(S)),w!==t&&O.add(w)}),uN(t,this._triggerName,r,i,ie,_,A,le,[...O.values()],H,z,I))}};function t6(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}function _N(n,e){let t=U({},e);return Object.entries(n).forEach(([r,i])=>{i!=null&&(t[r]=i)}),t}var VE=class{styles;defaultParams;normalizer;constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){let r=new Map,i=_N(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=_a(s,i,t));let c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}};function n6(n,e,t){return new UE(n,e,t)}var UE=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new VE(i.style,o,r))}),lN(this.states,"true","1"),lN(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Mp(e,i,this.states))}),this.fallbackTransition=r6(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(s=>s.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}};function r6(n,e,t){let r=[(s,a)=>!0],i={type:ae.Sequence,steps:[],options:null},o={type:ae.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Mp(n,o,e)}function lN(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var i6=new Fu,jE=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r}register(e,t){let r=[],i=[],o=yN(this._driver,t,r,i);if(r.length)throw qx(r);this._animations.set(e,o)}_buildPlayer(e,t,r){let i=e.element,o=wE(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=vN(this._driver,t,o,CE,yp,new Map,new Map,r,i6,i),s.forEach(h=>{let p=Yt(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(Wx()),s=[]),i.length)throw Gx(i);a.forEach((h,p)=>{h.forEach((g,m)=>{h.set(m,this._driver.computeStyle(p,m,En))})});let c=s.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),l=qr(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Kx(e);return t}listen(e,t,r,i){let o=gp(t,"","","");return pp(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},dN="ng-animate-queued",o6=".ng-animate-queued",RE="ng-animate-disabled",s6=".ng-animate-disabled",a6="ng-star-inserted",c6=".ng-star-inserted",u6=[],wN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},l6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hn="__ng_removed",Lu=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=h6(i),r){let o=e,{value:s}=o,a=og(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let r=this.options.params;Object.keys(t).forEach(i=>{r[i]==null&&(r[i]=t[i])})}}},ku="void",PE=new Lu(ku),BE=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this._hostClassName="ng-tns-"+e,Cn(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw Qx(r,t);if(r==null||r.length==0)throw Yx(t);if(!f6(r))throw Jx(r,t);let o=Yt(this._elementListeners,e,[]),s={name:t,phase:r,callback:i};o.push(s);let a=Yt(this._engine.statesByElement,e,new Map);return a.has(t)||(Cn(e,xu),Cn(e,xu+"-"+t),a.set(t,PE)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Zx(e);return t}trigger(e,t,r,i=!0){let o=this._getTrigger(t),s=new Vu(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Cn(e,xu),Cn(e,xu+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t),l=new Lu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=PE),!(l.value===ku)&&c.value===l.value){if(!m6(c.params,l.params)){let T=[],A=o.matchStyles(c.value,c.params,T),O=o.matchStyles(l.value,l.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Di(e,A),$n(e,O)})}return}let g=Yt(this._engine.playersByElement,e,[]);g.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),_=!1;if(!m){if(!i)return;m=o.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:_}),_||(Cn(e,dN),s.onStart(()=>{wa(e,dN)})),s.onDone(()=>{let T=this.players.indexOf(s);T>=0&&this.players.splice(T,1);let A=this._engine.playersByElement.get(e);if(A){let O=A.indexOf(s);O>=0&&A.splice(O,1)}}),this.players.push(s),g.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let r=this._engine.driver.query(e,Nu,!0);r.forEach(i=>{if(i[Hn])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){let h=this.trigger(e,l,ku,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),r&&qr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let c=this._triggers.get(s).fallbackTransition,l=r.get(s)||PE,h=new Lu(ku),p=new Vu(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){let o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{let o=e[Hn];(!o||o===wN)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Cn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){let c=gp(o,r.triggerName,r.fromState.value,r.toState.value);c._data=e,pp(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{let o=r.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},$E=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){let r=new BE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,r,i){if(bp(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!bp(t))return;let o=t[Hn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Cn(e,RE)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wa(e,RE))}removeNode(e,t,r){if(bp(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Hn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return bp(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Nu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,vp,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[Hn];if(t&&t.setForRemoval){if(e[Hn]=wN,t.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(RE)&&this.markElementAsDisabled(e,!1),this.driver.query(e,s6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Cn(i,a6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],t.length?qr(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw Xx(e)}_flushAnimations(e,t){let r=new Fu,i=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(G=>{h.add(G);let J=this.driver.query(G,o6,!0);for(let X=0;X<J.length;X++)h.add(J[X])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=pN(g,this.collectedEnterElements),_=new Map,T=0;m.forEach((G,J)=>{let X=CE+T++;_.set(J,X),G.forEach(Te=>Cn(Te,X))});let A=[],O=new Set,H=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){let J=this.collectedLeaveElements[G],X=J[Hn];X&&X.setForRemoval&&(A.push(J),O.add(J),X.hasAnimation?this.driver.query(J,c6,!0).forEach(Te=>O.add(Te)):H.add(J))}let z=new Map,ie=pN(g,Array.from(O));ie.forEach((G,J)=>{let X=yp+T++;z.set(J,X),G.forEach(Te=>Cn(Te,X))}),e.push(()=>{m.forEach((G,J)=>{let X=_.get(J);G.forEach(Te=>wa(Te,X))}),ie.forEach((G,J)=>{let X=z.get(J);G.forEach(Te=>wa(Te,X))}),A.forEach(G=>{this.processLeaveNode(G)})});let ze=[],le=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(t).forEach(X=>{let Te=X.player,tt=X.element;if(ze.push(Te),this.collectedEnterElements.length){let Ze=tt[Hn];if(Ze&&Ze.setForMove){if(Ze.previousTriggersValues&&Ze.previousTriggersValues.has(X.triggerName)){let hr=Ze.previousTriggersValues.get(X.triggerName),zt=this.statesByElement.get(X.element);if(zt&&zt.has(X.triggerName)){let fr=zt.get(X.triggerName);fr.value=hr,zt.set(X.triggerName,fr)}}Te.destroy();return}}let gn=!p||!this.driver.containsElement(p,tt),Je=z.get(tt),je=_.get(tt),Be=this._buildInstruction(X,r,je,Je,gn);if(Be.errors&&Be.errors.length){le.push(Be);return}if(gn){Te.onStart(()=>Di(tt,Be.fromStyles)),Te.onDestroy(()=>$n(tt,Be.toStyles)),i.push(Te);return}if(X.isFallbackTransition){Te.onStart(()=>Di(tt,Be.fromStyles)),Te.onDestroy(()=>$n(tt,Be.toStyles)),i.push(Te);return}let Gr=[];Be.timelines.forEach(Ze=>{Ze.stretchStartingKeyframe=!0,this.disabledNodes.has(Ze.element)||Gr.push(Ze)}),Be.timelines=Gr,r.append(tt,Be.timelines);let Op={instruction:Be,player:Te,element:tt};s.push(Op),Be.queriedElements.forEach(Ze=>Yt(a,Ze,[]).push(Te)),Be.preStyleProps.forEach((Ze,hr)=>{if(Ze.size){let zt=c.get(hr);zt||c.set(hr,zt=new Set),Ze.forEach((fr,Kr)=>zt.add(Kr))}}),Be.postStyleProps.forEach((Ze,hr)=>{let zt=l.get(hr);zt||l.set(hr,zt=new Set),Ze.forEach((fr,Kr)=>zt.add(Kr))})});if(le.length){let G=[];le.forEach(J=>{G.push(eN(J.triggerName,J.errors))}),ze.forEach(J=>J.destroy()),this.reportError(G)}let I=new Map,v=new Map;s.forEach(G=>{let J=G.element;r.has(J)&&(v.set(J,J),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,I))}),i.forEach(G=>{let J=G.element;this._getPreviousPlayers(J,!1,G.namespaceId,G.triggerName,null).forEach(Te=>{Yt(I,J,[]).push(Te),Te.destroy()})});let w=A.filter(G=>gN(G,c,l)),b=new Map;fN(b,this.driver,H,l,En).forEach(G=>{gN(G,c,l)&&w.push(G)});let S=new Map;m.forEach((G,J)=>{fN(S,this.driver,new Set(G),c,Os)}),w.forEach(G=>{let J=b.get(G),X=S.get(G);b.set(G,new Map([...J?.entries()??[],...X?.entries()??[]]))});let E=[],pn=[],Wr={};s.forEach(G=>{let{element:J,player:X,instruction:Te}=G;if(r.has(J)){if(h.has(J)){X.onDestroy(()=>$n(J,Te.toStyles)),X.disabled=!0,X.overrideTotalTime(Te.totalTime),i.push(X);return}let tt=Wr;if(v.size>1){let Je=J,je=[];for(;Je=Je.parentNode;){let Be=v.get(Je);if(Be){tt=Be;break}je.push(Je)}je.forEach(Be=>v.set(Be,tt))}let gn=this._buildAnimation(X.namespaceId,Te,I,o,S,b);if(X.setRealPlayer(gn),tt===Wr)E.push(X);else{let Je=this.playersByElement.get(tt);Je&&Je.length&&(X.parentPlayer=qr(Je)),i.push(X)}}else Di(J,Te.fromStyles),X.onDestroy(()=>$n(J,Te.toStyles)),pn.push(X),h.has(J)&&i.push(X)}),pn.forEach(G=>{let J=o.get(G.element);if(J&&J.length){let X=qr(J);G.setRealPlayer(X)}}),i.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<A.length;G++){let J=A[G],X=J[Hn];if(wa(J,yp),X&&X.hasAnimation)continue;let Te=[];if(a.size){let gn=a.get(J);gn&&gn.length&&Te.push(...gn);let Je=this.driver.query(J,vp,!0);for(let je=0;je<Je.length;je++){let Be=a.get(Je[je]);Be&&Be.length&&Te.push(...Be)}}let tt=Te.filter(gn=>!gn.destroyed);tt.length?p6(this,J,tt):this.processLeaveNode(J)}return A.length=0,E.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();let J=this.players.indexOf(G);this.players.splice(J,1)}),G.play()}),E}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let c=!o||o==ku;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||s.push(l)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,r){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let c of t.timelines){let l=c.element,h=l!==o,p=Yt(r,l,[]);this._getPreviousPlayers(l,h,s,a,t.toState).forEach(m=>{let _=m.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),m.destroy(),p.push(m)})}Di(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,s){let a=t.triggerName,c=t.element,l=[],h=new Set,p=new Set,g=t.timelines.map(_=>{let T=_.element;h.add(T);let A=T[Hn];if(A&&A.removedBeforeQueried)return new or(_.duration,_.delay);let O=T!==c,H=g6((r.get(T)||u6).map(I=>I.getRealPlayer())).filter(I=>{let v=I;return v.element?v.element===T:!1}),z=o.get(T),ie=s.get(T),ze=wE(this._normalizer,_.keyframes,z,ie),le=this._buildPlayer(_,ze,H);if(_.subTimeline&&i&&p.add(T),O){let I=new Vu(e,a,T);I.setRealPlayer(le),l.push(I)}return le});l.forEach(_=>{Yt(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>d6(this.playersByQueriedElement,_.element,_))}),h.forEach(_=>Cn(_,DE));let m=qr(g);return m.onDestroy(()=>{h.forEach(_=>wa(_,DE)),$n(c,t.toStyles)}),p.forEach(_=>{Yt(i,_,[]).push(m)}),m}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new or(e.duration,e.delay)}},Vu=class{namespaceId;triggerName;element;_player=new or;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>pp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Yt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function d6(n,e,t){let r=n.get(e);if(r){if(r.length){let i=r.indexOf(t);r.splice(i,1)}r.length==0&&n.delete(e)}return r}function h6(n){return n??null}function bp(n){return n&&n.nodeType===1}function f6(n){return n=="start"||n=="done"}function hN(n,e){let t=n.style.display;return n.style.display=e??"none",t}function fN(n,e,t,r,i){let o=[];t.forEach(c=>o.push(hN(c)));let s=[];r.forEach((c,l)=>{let h=new Map;c.forEach(p=>{let g=e.computeStyle(l,p,i);h.set(p,g),(!g||g.length==0)&&(l[Hn]=l6,s.push(l))}),n.set(l,h)});let a=0;return t.forEach(c=>hN(c,o[a++])),s}function pN(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let r=1,i=new Set(e),o=new Map;function s(a){if(!a)return r;let c=o.get(a);if(c)return c;let l=a.parentNode;return t.has(l)?c=l:i.has(l)?c=r:c=s(l),o.set(a,c),c}return e.forEach(a=>{let c=s(a);c!==r&&t.get(c).push(a)}),t}function Cn(n,e){n.classList?.add(e)}function wa(n,e){n.classList?.remove(e)}function p6(n,e,t){qr(t).onDone(()=>n.processLeaveNode(e))}function g6(n){let e=[];return EN(n,e),e}function EN(n,e){for(let t=0;t<n.length;t++){let r=n[t];r instanceof oo?EN(r.players,e):e.push(r)}}function m6(n,e){let t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}function gN(n,e,t){let r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}var Ea=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,r){this._driver=t,this._normalizer=r,this._transitionEngine=new $E(e.body,t,r),this._timelineEngine=new jE(e.body,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let c=[],l=[],h=yN(this._driver,o,c,l);if(c.length)throw zx(i,c);a=n6(i,h,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if(r.charAt(0)=="@"){let[o,s]=EE(r),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if(r.charAt(0)=="@"){let[s,a]=EE(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function y6(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=xE(e[0]),e.length>1&&(r=xE(e[e.length-1]))):e instanceof Map&&(t=xE(e)),t||r?new v6(n,t,r):null}var v6=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&$n(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&($n(this._element,this._initialStyles),this._endStyles&&($n(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Di(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),$n(this._element,this._initialStyles),this._state=3)}}return n})();function xE(n){let e=null;return n.forEach((t,r)=>{_6(r)&&(e=e||new Map,e.set(r,t))}),e}function _6(n){return n==="display"||n==="position"}var Rp=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:wp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}},Pp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return IE(e,t)}getParentElement(e){return mp(e)}query(e,t,r){return bE(e,t,r)}computeStyle(e,t,r){return wp(e,t)}animate(e,t,r,i,o,s=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};o&&(c.easing=o);let l=new Map,h=s.filter(m=>m instanceof Rp);iN(r,i)&&h.forEach(m=>{m.currentSnapshot.forEach((_,T)=>l.set(T,_))});let p=nN(t).map(m=>new Map(m));p=oN(e,p,l);let g=y6(e,p);return new Rp(e,p,c,g)}};var Tp="@",IN="@.disabled",xp=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){t.charAt(0)==Tp&&t==IN?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r,i){return this.delegate.listen(e,t,r,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},HE=class extends xp{factory;constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){t.charAt(0)==Tp?t.charAt(1)=="."&&t==IN?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r,i){if(t.charAt(0)==Tp){let o=w6(e),s=t.slice(1),a="";return s.charAt(0)!=Tp&&([s,a]=E6(s)),this.engine.listen(this.namespaceId,o,s,a,c=>{let l=c._data||-1;this.factory.scheduleListenerCallback(l,r,c)})}return this.delegate.listen(e,t,r,i)}};function w6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function E6(n){let e=n.indexOf("."),t=n.substring(0,e),r=n.slice(e+1);return[t,r]}var Np=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,r){this.delegate=e,this.engine=t,this._zone=r,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let r="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let p=()=>l.delete(i);h=new xp(r,i,this.engine,p),l.set(i,h)}return h}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new HE(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var b6=(()=>{class n extends Ea{constructor(t,r,i){super(t,r,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(r){return new(r||n)($(at),$(Ao),$(Mo))};static \u0275prov=B({token:n,factory:n.\u0275fac})}return n})();function T6(){return new Cp}function C6(n,e,t){return new Np(n,e,t)}var bN=[{provide:Mo,useFactory:T6},{provide:Ea,useClass:b6},{provide:si,useFactory:C6,deps:[wc,Ea,xe]}],Toe=[{provide:Ao,useClass:zE},{provide:Ay,useValue:"NoopAnimations"},...bN],D6=[{provide:Ao,useFactory:()=>new Pp},{provide:Ay,useFactory:()=>"BrowserAnimations"},...bN];function TN(){return fs("NgEagerAnimations"),[...D6]}var CN={production:!0,firebase:{apiKey:"AIzaSyBwZ0wRhfkqG_4RFQ8Jik_3Xhg2kkU9Plc",authDomain:"mothers-courses-app-firebase.firebaseapp.com",projectId:"mothers-courses-app-firebase",storageBucket:"mothers-courses-app-firebase.firebasestorage.app",messagingSenderId:"661609967753",appId:"1:661609967753:web:2dfd8ee23bdd3f52841658",measurementId:"G-VBHGVQMGB4"}};_v(Oh,{providers:[Jv(Sx),Cv(Dv()),TN(),SM(()=>AM(CN.firebase)),Cx(()=>Dx())]}).catch(n=>console.error(n));
